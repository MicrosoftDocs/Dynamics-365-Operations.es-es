---
title: Programar la creación del trabajo durante la oleada
description: Este tema describe cómo configurar y utilizar el método de programación de procesamiento de oleada de creación de trabajos.
author: perlynne
ms.date: 01/14/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: WHSPostMethod, WHSWavePostMethodTaskConfig, WHSWaveTemplateTable, WHSParameters, WHSWaveTableListPage, WHSWorkTableListPage, WHSWorkTable, BatchJobEnhanced, WHSPlannedWorkOrder
audience: Application User
ms.reviewer: ''
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: kamaybac
ms.search.validFrom: 2021-01-14
ms.dyn365.ops.version: 10.0.17
ms.openlocfilehash: e4258c03b12a80a5bd81328ae7418835d68f82e7
ms.sourcegitcommit: 0e8db169c3f90bd750826af76709ef5d621fd377
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 04/01/2021
ms.locfileid: "5835711"
---
# <a name="schedule-work-creation-during-wave"></a><span data-ttu-id="e7a37-103">Programar la creación del trabajo durante la oleada</span><span class="sxs-lookup"><span data-stu-id="e7a37-103">Schedule work creation during wave</span></span>

[!include [banner](../../includes/banner.md)]

<span data-ttu-id="e7a37-104">Use la característica *Programar creación de trabajo* como parte de su proceso de oleada para ayudar a aumentar el rendimiento del procesamiento de oleadas al hacer que el sistema cree trabajo utilizando el procesamiento paralelo.</span><span class="sxs-lookup"><span data-stu-id="e7a37-104">Use the *Schedule work creation* feature as part of your waving process to help increase wave processing throughput by having the system create work using parallel processing.</span></span>

<span data-ttu-id="e7a37-105">Cuando la funcionalidad está habilitada, el trabajo planificado se creará automáticamente y el sistema lo procesará para crear el trabajo real.</span><span class="sxs-lookup"><span data-stu-id="e7a37-105">When the functionality is enabled, planned work will automatically get created, which the system will eventually process to create actual work.</span></span> <span data-ttu-id="e7a37-106">Si el número de líneas de carga de oleada alcanza un umbral predeterminado, el sistema creará trabajo real más rápidamente aplicando el procesamiento asincrónico paralelo.</span><span class="sxs-lookup"><span data-stu-id="e7a37-106">If the number of wave load lines reaches a predetermined threshold, the system will create actual work more quickly by applying parallel, asynchronous processing.</span></span>

## <a name="turn-on-the-scheduled-work-creation-features-in-feature-management"></a><span data-ttu-id="e7a37-107">Activar las funciones de creación de trabajos programados en la gestión de funciones</span><span class="sxs-lookup"><span data-stu-id="e7a37-107">Turn on the scheduled work creation features in feature management</span></span>

<span data-ttu-id="e7a37-108">Para utilizar las funciones descritas en este tema, deben estar activadas en su sistema.</span><span class="sxs-lookup"><span data-stu-id="e7a37-108">To use the features described in this topic, they must be turned on for your system.</span></span> <span data-ttu-id="e7a37-109">Use el espacio de trabajo [Administración de funciones](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md), para activar las siguientes funciones en este orden:</span><span class="sxs-lookup"><span data-stu-id="e7a37-109">Use [Feature management](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) workspace to turn on the following features in the following order:</span></span>

1. <span data-ttu-id="e7a37-110">**Bloqueo de trabajo en toda la organización**: requerido para la configuración manual y automática de la creación de trabajos programados.</span><span class="sxs-lookup"><span data-stu-id="e7a37-110">**Organization-wide work blocking** - Required for both manual and automatic configuration of scheduled work creation.</span></span>
1. <span data-ttu-id="e7a37-111">**Creación de trabajo programado**: requerido para la configuración manual y automática de la creación de trabajos programados.</span><span class="sxs-lookup"><span data-stu-id="e7a37-111">**Schedule work creation** - Required for both manual and automatic configuration of scheduled work creation.</span></span>
1. <span data-ttu-id="e7a37-112">**Método de oleada "Creación de trabajo programado" en toda la organización**: requerido para la configuración automática de la creación de trabajos programados.</span><span class="sxs-lookup"><span data-stu-id="e7a37-112">**Organization-wide "Schedule work creation" wave method** - Required for automatic configuration of scheduled work creation.</span></span> <span data-ttu-id="e7a37-113">No necesita esta función si solo va a utilizar la configuración manual.</span><span class="sxs-lookup"><span data-stu-id="e7a37-113">You don't need this feature if you will only use manual configuration.</span></span>

<a name="Auto-enable-schedule-work-creation"></a>

## <a name="automatically-configure-scheduled-work-creation"></a><span data-ttu-id="e7a37-114">Configurar automáticamente la creación de trabajos programados</span><span class="sxs-lookup"><span data-stu-id="e7a37-114">Automatically configure scheduled work creation</span></span>

<span data-ttu-id="e7a37-115">Si habilita la función *Método de oleada de "creación de trabajos programados" para toda la organización*, lo siguiente ocurre automáticamente en su sistema:</span><span class="sxs-lookup"><span data-stu-id="e7a37-115">If you enable the *Organization-wide "Schedule work creation" wave method* feature, the following automatically occurs on your system:</span></span>

- <span data-ttu-id="e7a37-116">El método de oleada *Programar creación de trabajo* (`WHSScheduleWorkCreationWaveStepMethod`) se agrega y configura para ejecutarse en paralelo en todas las entidades legales.</span><span class="sxs-lookup"><span data-stu-id="e7a37-116">The *Schedule work creation* wave method (`WHSScheduleWorkCreationWaveStepMethod`) is added and configured to run in parallel across all legal entities.</span></span>
- <span data-ttu-id="e7a37-117">Las plantillas de oleada de todas las entidades jurídicas que tienen **Tipo de plantilla de oleada** ajustado a *Transporte* y **Estado de la plantilla** ajustado a *Válido* tendrán el método *Creación de trabajo* reemplazado por el método *Programar creación de trabajo*.</span><span class="sxs-lookup"><span data-stu-id="e7a37-117">Wave templates from all legal entities that have **Wave template type** set to *Shipping* and **Template status** set to *Valid* will have the *Create work* method replaced by the *Schedule work creation* method.</span></span> <span data-ttu-id="e7a37-118">Sin embargo, las plantillas de oleada de entidades jurídicas donde el método *Crear trabajo* se permite que se pueda repetir no se modificará.</span><span class="sxs-lookup"><span data-stu-id="e7a37-118">However, wave templates from legal entities where the *Create work* method is allowed to be repeatable will not be modified.</span></span>
- <span data-ttu-id="e7a37-119">Configuraciones de tareas para el método *Programar creación de trabajo* se crearán para todos los almacenes de todas las entidades jurídicas que tienen **Utilizar procesos de gestión de almacenes** activado.</span><span class="sxs-lookup"><span data-stu-id="e7a37-119">Task configurations for the *Schedule work creation* method will be created for all warehouses from all legal entities that have **Use warehouse management processes** enabled.</span></span> <span data-ttu-id="e7a37-120">Esto significa que el método *Programar creación de trabajo* ahora se ejecutará en paralelo de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="e7a37-120">This means that the *Schedule work creation* method will now run in parallel by default.</span></span> <span data-ttu-id="e7a37-121">Almacenes existentes en los que cambia **Utilizar procesos de gestión de almacenes** desde *No* a *Sí* también ejecutarán este método en paralelo de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="e7a37-121">Existing warehouses for which you change **Use warehouse management processes** from *No* to *Yes* will also run this method in parallel by default.</span></span>
- <span data-ttu-id="e7a37-122">Todas las entidades jurídicas procesarán oleadas en lotes y **Esperar el bloqueo (ms)** se establecerá en un valor predeterminado de *60 000* ms si se configuró previamente en *0* ms.</span><span class="sxs-lookup"><span data-stu-id="e7a37-122">All legal entities will process waves in batches and **Wait for lock (ms)** will be set to a default value of *60,000* ms if it was previously set to *0* ms.</span></span>
- <span data-ttu-id="e7a37-123">Todas las nuevas plantillas de oleadas que cree tendrán el método *Programar creación de trabajo* de oleada en lugar del método *Crear trabajo*.</span><span class="sxs-lookup"><span data-stu-id="e7a37-123">All the new wave templates that you create will have the *Schedule work creation* wave method instead of the *Create Work* method.</span></span>

<span data-ttu-id="e7a37-124">Las configuraciones de procesamiento de oleadas y tareas existentes también se mantendrán para todas las entidades jurídicas que ya están configuradas para procesar oleadas en lotes, y para todos los almacenes que ya están configurados para usar el método *Programar creación de trabajo* en paralelo.</span><span class="sxs-lookup"><span data-stu-id="e7a37-124">The existing task and wave processing configurations will also be kept for all legal entities that are already configured to process waves in batches, and for all warehouses that are already configured to use the *Schedule work creation* method in parallel.</span></span>

<span data-ttu-id="e7a37-125">Si es necesario, puede revertir manualmente cualquiera o todos los ajustes realizados automáticamente cuando habilitó la característica *Método de oleada de creación de trabajo programado para toda la organización* haciendo lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="e7a37-125">If necessary, you can manually revert any or all of the settings made automatically when you enabled the *Organization-wide Schedule work creation wave method* feature by doing the following:</span></span>

- <span data-ttu-id="e7a37-126">Para plantillas de oleada vaya a **Gestión de almacenes \> Configurar \> Oleadas \> Plantillas de oleada**.</span><span class="sxs-lookup"><span data-stu-id="e7a37-126">For wave templates, go to **Warehouse management \> Setup \> Waves \> Wave templates**.</span></span> <span data-ttu-id="e7a37-127">Reemplace el método *Programar creación de trabajo* con *Crear trabajo*.</span><span class="sxs-lookup"><span data-stu-id="e7a37-127">Replace *Schedule work creation* method with *Create work*.</span></span>
- <span data-ttu-id="e7a37-128">Para los parámetros de almacén, vaya a **Gestión de almacenes \> Configurar \> Parámetros de gestión de almacenes**.</span><span class="sxs-lookup"><span data-stu-id="e7a37-128">For warehouse parameters, go to **Warehouse management \> Setup \> Warehouse management parameters**.</span></span> <span data-ttu-id="e7a37-129">En la pestaña **Procesamiento de oleadas**, aplique sus valores preferidos para **Procesar oleadas en lote** y **Esperar el bloqueo (ms)**.</span><span class="sxs-lookup"><span data-stu-id="e7a37-129">On the **Wave processing** tab, apply your preferred values for **Process waves in batch** and **Wait for lock (ms)**.</span></span>
- <span data-ttu-id="e7a37-130">Para los métodos de oleada, vaya a **Gestión de almacenes \> Configuración \> Oleadas \> Métodos de proceso de oleadas**.</span><span class="sxs-lookup"><span data-stu-id="e7a37-130">For the wave methods, go to **Warehouse management \> Setup \> Waves \> Wave process methods**.</span></span> <span data-ttu-id="e7a37-131">Seleccione `WHSScheduleWorkCreationWaveStepMethod` y en el panel de acciones seleccione **Configurar tarea**.</span><span class="sxs-lookup"><span data-stu-id="e7a37-131">Select `WHSScheduleWorkCreationWaveStepMethod` and, on the Action Pane, select **Task configuration**.</span></span> <span data-ttu-id="e7a37-132">Modifique o elimine la cantidad de tareas por lotes y el grupo de oleadas asignado para cada almacén listado según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="e7a37-132">Modify or delete the number of batch tasks and the assigned wave group for each listed warehouse as needed.</span></span>

## <a name="manually-configure-scheduled-work-creation"></a><span data-ttu-id="e7a37-133">Configurar manualmente la creación de trabajos programados</span><span class="sxs-lookup"><span data-stu-id="e7a37-133">Manually configure scheduled work creation</span></span>

<span data-ttu-id="e7a37-134">Si no habilitó la [función *Método de oleada de "creación de trabajos programados" para toda la organización*](#Auto-enable-schedule-work-creation), puede utilizar los procedimientos proporcionados en esta sección para configurar manualmente la creación de trabajos programados según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="e7a37-134">If you didn't enable the [*Organization-wide "Schedule work creation" wave method* feature](#Auto-enable-schedule-work-creation), then you can use the procedures provided in this section to manually configure scheduled work creation as needed.</span></span>

### <a name="manually-enable-batch-processing-of-waves"></a><span data-ttu-id="e7a37-135">Habilite manualmente el procesamiento por lotes de oleadas</span><span class="sxs-lookup"><span data-stu-id="e7a37-135">Manually enable batch processing of waves</span></span>

<span data-ttu-id="e7a37-136">Para aprovechar un método asincrónico paralelo para crear trabajo de almacén, su proceso de oleada debe ejecutarse por lotes.</span><span class="sxs-lookup"><span data-stu-id="e7a37-136">To take advantage of a parallel asynchronous method to create warehouse work, your wave process must be running in batch.</span></span> <span data-ttu-id="e7a37-137">Para configurar:</span><span class="sxs-lookup"><span data-stu-id="e7a37-137">To set this up:</span></span>

1. <span data-ttu-id="e7a37-138">Vaya a  **Gestión de almacenes \> Configurar \> Parámetros de gestión de inventario y almacenes**.</span><span class="sxs-lookup"><span data-stu-id="e7a37-138">Go to **Warehouse management \> Setup \> Warehouse management parameters**.</span></span>
1. <span data-ttu-id="e7a37-139">En la pestaña **General**, establezca **Procesar oleadas en lote** a *Sí*.</span><span class="sxs-lookup"><span data-stu-id="e7a37-139">On the **General** tab, set **Process waves in batch** to *Yes*.</span></span> <span data-ttu-id="e7a37-140">Opcionalmente, también puede seleccionar **Grupo de lotes de procesamiento de oleadas** para evitar que el procesamiento de la cola por lotes se ejecute al mismo tiempo que otros procesos.</span><span class="sxs-lookup"><span data-stu-id="e7a37-140">Optionally, you can also select a dedicated **Wave processing batch group** to prevent your batch queue processing from running at the same time as other processes.</span></span>
1. <span data-ttu-id="e7a37-141">Elija la **hora de Esperar bloqueo (ms)**, que se aplica cuando el sistema está procesando varias oleadas al mismo tiempo.</span><span class="sxs-lookup"><span data-stu-id="e7a37-141">Set the **Wait for lock (ms) time**, which applies when the system is processing several waves at the same time.</span></span> <span data-ttu-id="e7a37-142">Para la mayoría de los procesos de creación de oleadas más grandes, recomendamos un valor de *60 000*.</span><span class="sxs-lookup"><span data-stu-id="e7a37-142">For most larger waving processes, we recommend a value of *60000*.</span></span>

### <a name="manually-enable-the-new-wave-step-method-for-existing-wave-templates"></a><span data-ttu-id="e7a37-143">Habilitar manualmente el nuevo método de paso de oleada para plantillas de oleada existentes</span><span class="sxs-lookup"><span data-stu-id="e7a37-143">Manually enable the new wave step method for existing wave templates</span></span>

<span data-ttu-id="e7a37-144">Comience creando el nuevo método de paso de oleada y habilitándolo para el procesamiento de tareas asincrónicas en paralelo.</span><span class="sxs-lookup"><span data-stu-id="e7a37-144">Start by creating the new wave step method and enabling it for parallel asynchronous task processing.</span></span>

1. <span data-ttu-id="e7a37-145">Vaya a  **Gestión de almacenes \> Configuración \> Oleadas \> Métodos de proceso de oleadas**.</span><span class="sxs-lookup"><span data-stu-id="e7a37-145">Go to **Warehouse management \> Setup \> Waves \> Wave process methods**.</span></span>
1. <span data-ttu-id="e7a37-146">Seleccione  **Regenerar métodos** y vea que se ha agregado *WHSScheduleWorkCreationWaveStepMethod* a la lista de métodos de proceso de oleada que puede utilizar en sus plantillas de oleada de envío.</span><span class="sxs-lookup"><span data-stu-id="e7a37-146">Select  **Regenerate method** and note that *WHSScheduleWorkCreationWaveStepMethod* has been added to the list of wave process methods you can use in your shipping wave templates.</span></span>
1. <span data-ttu-id="e7a37-147">Seleccione el registro con el **Nombre del método** *WHSScheduleWorkCreationWaveStepMethod* y seleccione **Configuración de tareas**.</span><span class="sxs-lookup"><span data-stu-id="e7a37-147">Select the record with the **Method name** *WHSScheduleWorkCreationWaveStepMethod* and select **Task configuration**.</span></span>
1. <span data-ttu-id="e7a37-148">Para agregar una nueva fila a la cuadrícula, seleccione **Nuevo** en el panel de acciones y use los siguientes ajustes:</span><span class="sxs-lookup"><span data-stu-id="e7a37-148">To add a new row to the grid, select **New** on the Action Pane and use the following settings:</span></span>

    - <span data-ttu-id="e7a37-149">**Almacén**: seleccione el almacén que utilizará para programar el procesamiento de creación de trabajo.</span><span class="sxs-lookup"><span data-stu-id="e7a37-149">**Warehouse** - Select the warehouse you will use to schedule work creation processing.</span></span>
    - <span data-ttu-id="e7a37-150">**Número máximo de tareas por lotes**: especifique un número máximo de tareas por lotes.</span><span class="sxs-lookup"><span data-stu-id="e7a37-150">**Maximum number of batch tasks** - Specify a maximum number of batch tasks.</span></span> <span data-ttu-id="e7a37-151">En la mayoría de los casos, este valor debe estar entre 8 y 16; sin embargo, le recomendamos que experimente con la configuración óptima según sus escenarios.</span><span class="sxs-lookup"><span data-stu-id="e7a37-151">In most cases, this value should be in the range from 8-16, however we recommend that you experiment with the optimal setting based on your scenarios.</span></span>
    - <span data-ttu-id="e7a37-152">**Grupo de lotes de procesamiento de oleadas**: seleccione un grupo de lotes de procesamiento de oleadas dedicado para optimizar el procesamiento de la cola de lotes.</span><span class="sxs-lookup"><span data-stu-id="e7a37-152">**Wave processing batch group** - Select a dedicated wave processing batch group to optimize your batch queue processing.</span></span>

<span data-ttu-id="e7a37-153">Ahora puede actualizar una plantilla de oleada existente (o crear una nueva) para usar el método de procesamiento de oleadas *Programar creación de trabajo*.</span><span class="sxs-lookup"><span data-stu-id="e7a37-153">Now you are ready to update an existing wave template (or create a new one) to use the *Schedule work creation* wave processing method.</span></span>

1. <span data-ttu-id="e7a37-154">Vaya a  **Gestión de almacenes \> Configurar \> Oleadas \> Plantillas de oleada**.</span><span class="sxs-lookup"><span data-stu-id="e7a37-154">Go to **Warehouse management \> Setup \> Waves \> Wave templates**.</span></span>
1. <span data-ttu-id="e7a37-155">En el panel Acciones, seleccione **Editar**.</span><span class="sxs-lookup"><span data-stu-id="e7a37-155">Select **Edit** on the Action Pane.</span></span>
1. <span data-ttu-id="e7a37-156">En el panel de lista, seleccione la plantilla de oleada que le gustaría actualizar (si está probando con datos de demostración, entonces podría usar *Envío predeterminado 24*).</span><span class="sxs-lookup"><span data-stu-id="e7a37-156">In the list pane, select the wave template you would like to update (if you are testing using demo data, then you could use *24 Shipping default*).</span></span>
1. <span data-ttu-id="e7a37-157">Amplíe la ficha desplegable **Métodos** y seleccione la fila con el **Nombre** *Programar creación de trabajo* en la cuadrícula **Métodos restantes**.</span><span class="sxs-lookup"><span data-stu-id="e7a37-157">Expand the **Methods** FastTab and select the row with the **Name** *Schedule work creation* in the **Remaining methods** grid.</span></span>
1. <span data-ttu-id="e7a37-158">Seleccione la flecha que apunta a la columna **Métodos seleccionados** para mover la fila seleccionada a esa columna.</span><span class="sxs-lookup"><span data-stu-id="e7a37-158">Select the arrow pointing to the **Selected methods** column to move the selected row to that column.</span></span> <span data-ttu-id="e7a37-159">(Solo puede seleccionar un método a la vez que utilice `WHSScheduleWorkCreationWaveStepMethod` o `createWork` y así la fila existente con **Nombre del método** `createWork` se mueve automáticamente a la cuadrícula **Métodos restantes**).</span><span class="sxs-lookup"><span data-stu-id="e7a37-159">(You can only have one selected method at a time that uses either `WHSScheduleWorkCreationWaveStepMethod` or `createWork`, so the existing row with **Method name** `createWork` is automatically moved to the **Remaining methods** grid.)</span></span>

## <a name="set-wave-task-processing-threshold-data"></a><span data-ttu-id="e7a37-160">Establecer datos de umbral de procesamiento de tareas de oleadas</span><span class="sxs-lookup"><span data-stu-id="e7a37-160">Set wave task processing threshold data</span></span>

<span data-ttu-id="e7a37-161">El sistema creará datos de umbral de procesamiento de tareas de oleada predeterminados la primera vez que se ejecute un proceso de oleada utilizando cualquier procesamiento basado en tareas.</span><span class="sxs-lookup"><span data-stu-id="e7a37-161">The system will create default wave task processing threshold data the first time a wave process runs using any task-based processing.</span></span> <span data-ttu-id="e7a37-162">Los datos se utilizan para controlar cuándo el procesamiento de oleadas se ejecutará de forma asincrónica y se basará en tareas, lo que le permite procesar y crear trabajo en paralelo.</span><span class="sxs-lookup"><span data-stu-id="e7a37-162">The data is used to control when wave processing will run asynchronously and be task-based, which enables it to process and create work in parallel.</span></span>

<span data-ttu-id="e7a37-163">Los datos predeterminados utilizarán inicialmente un valor de umbral de 15 para el número mínimo de líneas de carga (`MINIMUMWAVELOADLINES`).</span><span class="sxs-lookup"><span data-stu-id="e7a37-163">The default data will initially use a threshold value of 15 for the minimum number of load lines (`MINIMUMWAVELOADLINES`).</span></span> <span data-ttu-id="e7a37-164">Esto significa que cuando el sistema procesa una oleada con más de 15 líneas de carga, utilizará el procesamiento de tareas asincrónico.</span><span class="sxs-lookup"><span data-stu-id="e7a37-164">This means that when the system processes a wave with more than 15 loads lines, it will use asynchronous task processing.</span></span> <span data-ttu-id="e7a37-165">Puede insertar / actualizar manualmente estos datos en la tabla `WHSWaveTaskProcessingThresholdParameters` en sus entornos de prueba.</span><span class="sxs-lookup"><span data-stu-id="e7a37-165">You can manually insert/update this data in the `WHSWaveTaskProcessingThresholdParameters` table in your test environments.</span></span> <span data-ttu-id="e7a37-166">Si necesita cambiar esta configuración en un entorno de producción, debe contactar con el Soporte de Microsoft para solicitar la actualización.</span><span class="sxs-lookup"><span data-stu-id="e7a37-166">If you need to change this setting in a production environment, you must contact Microsoft Support to request the update.</span></span>

## <a name="work-with-the-scheduled-work-creation"></a><span data-ttu-id="e7a37-167">Trabajar con la creación de trabajo programada</span><span class="sxs-lookup"><span data-stu-id="e7a37-167">Work with the scheduled work creation</span></span>

<span data-ttu-id="e7a37-168">Para obtener detalles sobre cómo trabajar con la creación de trabajos programados, consulte [Creación y procesamiento de oleadas](wave-processing.md).</span><span class="sxs-lookup"><span data-stu-id="e7a37-168">For details about how to work with scheduled work creation, see [Wave creation and processing](wave-processing.md).</span></span> 


[!INCLUDE[footer-include](../../includes/footer-banner.md)]
