---
title: Solucionar problemas de la gestión de costes
description: Este tema describe cómo solucionar problemas que pueden surgir al trabajar con gestión de costes.
author: AndersGirke
ms.date: 10/13/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: InventAgingStorage, InventAgingStorageChart, InventAgingStorageDetails, InventValueProcess, InventValueReportSetup, InventClosing
audience: Application User
ms.reviewer: kamaybac
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.search.industry: Manufacturing
ms.author: aevengir
ms.search.validFrom: 2020-10-13
ms.dyn365.ops.version: Release 10.0.15
ms.openlocfilehash: fc6a48a44a529c82c2a9ee818af95569d9bcb249
ms.sourcegitcommit: 0e8db169c3f90bd750826af76709ef5d621fd377
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 04/01/2021
ms.locfileid: "5834298"
---
# <a name="troubleshoot-cost-management"></a><span data-ttu-id="d7b16-103">Solucionar problemas de la gestión de costes</span><span class="sxs-lookup"><span data-stu-id="d7b16-103">Troubleshoot cost management</span></span>

<span data-ttu-id="d7b16-104">Este tema describe cómo solucionar problemas que pueden surgir al trabajar con gestión de costes.</span><span class="sxs-lookup"><span data-stu-id="d7b16-104">This topic describes how to fix issues that you might encounter while working with cost management.</span></span>

## <a name="functional-gaps-between-the-inventory-valueaging-reports-and-their-storage-versions"></a><span data-ttu-id="d7b16-105">Brechas funcionales entre el valor de inventario / informes de antigüedad y sus versiones de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="d7b16-105">Functional gaps between the inventory value/aging reports and their storage versions</span></span>

<span data-ttu-id="d7b16-106">Las funciones [Almacenamiento de informes de antigüedad de inventario](inventory-aging-report-storage.md) e [Informe de almacenamiento de valor de inventario](inventory-value-report-storage.md) permiten que Supply Chain Management muestre grandes volúmenes de transacciones de inventario.</span><span class="sxs-lookup"><span data-stu-id="d7b16-106">The [Inventory aging report storage](inventory-aging-report-storage.md) and [Inventory value storage report](inventory-value-report-storage.md) features enable Supply Chain Management to display large volumes of inventory transactions.</span></span> <span data-ttu-id="d7b16-107">En cada caso, los resultados del informe se guardan para su exploración y exportación, a diferencia de las versiones sin almacenamiento de estos informes.</span><span class="sxs-lookup"><span data-stu-id="d7b16-107">In each case, the report results are saved for browsing and exporting, unlike with the non-storage versions of these reports.</span></span> <span data-ttu-id="d7b16-108">Sin embargo, algunas funciones que existen en las versiones sin almacenamiento de estos informes no existen en las versiones de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="d7b16-108">However, some functionality that exists in the non-storage versions of these reports doesn't exist in the storage versions.</span></span> <span data-ttu-id="d7b16-109">Las siguientes subsecciones resumen las diferencias y proporcionan soluciones.</span><span class="sxs-lookup"><span data-stu-id="d7b16-109">The following subsections summarize the differences and provide workarounds.</span></span>

### <a name="storage-reports-dont-include-subtotals-even-if-they-are-enabled-in-the-report-layout"></a><span data-ttu-id="d7b16-110">Los informes de almacenamiento no incluyen subtotales, incluso si están habilitados en el diseño del informe</span><span class="sxs-lookup"><span data-stu-id="d7b16-110">Storage reports don't include subtotals, even if they are enabled in the report layout</span></span>

<span data-ttu-id="d7b16-111">Los subtotales pueden causar problemas cuando se exporta el resultado, especialmente si los usuarios cambian la secuencia de registro.</span><span class="sxs-lookup"><span data-stu-id="d7b16-111">Subtotals can cause issues when the result is exported, especially if users change the record sequence.</span></span>

<span data-ttu-id="d7b16-112">Para comprobar los subtotales, puede exportar el resultado a Microsoft Excel.</span><span class="sxs-lookup"><span data-stu-id="d7b16-112">To check the subtotals, you can export the result into Microsoft Excel.</span></span> <span data-ttu-id="d7b16-113">Alternativamente, si desea verificar los subtotales dentro de Supply Chain Management, use [Gestión de funciones](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) para habilitar las funciones *Nuevo control de cuadrícula* y *Agrupación en cuadrículas*, que proporcionan una forma mucho más flexible de ver el subtotal de cualquier grupo por columna.</span><span class="sxs-lookup"><span data-stu-id="d7b16-113">Alternatively, if you want to check subtotals within Supply Chain Management, use [Feature management](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) to enable the *New grid control* and *Grouping in grids* features, which provide a much more flexible way to see the subtotal for any group by column.</span></span> <span data-ttu-id="d7b16-114">Para obtener más información, consulte [Funcionalidades de cuadrícula](../../fin-ops-core/fin-ops/get-started/grid-capabilities.md).</span><span class="sxs-lookup"><span data-stu-id="d7b16-114">For more information, see [Grid capabilities](../../fin-ops-core/fin-ops/get-started/grid-capabilities.md).</span></span>

### <a name="inventory-value-storage-report-doesnt-support-ledger-account-information"></a><span data-ttu-id="d7b16-115">El informe de almacenamiento del valor de inventario no admite la información de la cuenta del libro mayor</span><span class="sxs-lookup"><span data-stu-id="d7b16-115">Inventory value storage report doesn't support ledger account information</span></span>

<span data-ttu-id="d7b16-116">Puede ejecutar el balance de prueba para obtener el saldo de las cuentas de inventario y compararlo con el informe **Almacenamiento de valor de inventario**.</span><span class="sxs-lookup"><span data-stu-id="d7b16-116">You can run the trial balance to get the inventory accounts balance and compare that to the **Inventory value storage** report.</span></span>

## <a name="warnings-or-errors-are-shown-when-changing-a-ledger-period-status-without-closing-inventory"></a><span data-ttu-id="d7b16-117">Se muestran advertencias o errores cuando se cambia el estado de un período de contabilidad sin cerrar el inventario</span><span class="sxs-lookup"><span data-stu-id="d7b16-117">Warnings or errors are shown when changing a ledger period status without closing inventory</span></span>

<span data-ttu-id="d7b16-118">Microsoft introdujo las siguientes validaciones para evitar problemas causados por un proceso de fin de período incorrecto en torno al cálculo de costos.</span><span class="sxs-lookup"><span data-stu-id="d7b16-118">Microsoft introduced the following validations to prevent issues caused by an incorrect period-end process around costing.</span></span> <span data-ttu-id="d7b16-119">Si encuentra alguno de los siguientes mensajes de error, consulte [KB 4561987](https://fix.lcs.dynamics.com/Issue/Details?kb=4561987&bugId=445351&dbType=3&qc=f514f2adcddcddceec43af58c26ae8a9020effdc7cdfe085d9d0deeb8cc7b6a3) para obtener más información sobre cómo resolver estos problemas.</span><span class="sxs-lookup"><span data-stu-id="d7b16-119">If you encounter any of the following error messages, refer to [KB 4561987](https://fix.lcs.dynamics.com/Issue/Details?kb=4561987&bugId=445351&dbType=3&qc=f514f2adcddcddceec43af58c26ae8a9020effdc7cdfe085d9d0deeb8cc7b6a3) for more information about how to resolve these issues.</span></span>

- <span data-ttu-id="d7b16-120">Está a punto de ejecutar un nuevo cálculo con una fecha %1 (10-02-2019).</span><span class="sxs-lookup"><span data-stu-id="d7b16-120">You are about to execute a Recalculation with a date %1 (10-02-2019).</span></span> <span data-ttu-id="d7b16-121">El último recálculo registrado se ejecutó en un período anterior con una fecha %2 (20-01-2019).</span><span class="sxs-lookup"><span data-stu-id="d7b16-121">The last registered Recalculation was executed in a previous period with a date %2 (20-01-2019).</span></span> <span data-ttu-id="d7b16-122">No se ha registrado ninguna ejecución de cierre de inventario con fecha %3 (31-01-2019) coincidentese con el final del período.</span><span class="sxs-lookup"><span data-stu-id="d7b16-122">No execution of an inventory close with a date %3 (31-01-2019) matching period end has been registered.</span></span> <span data-ttu-id="d7b16-123">Recuerde ejecutar un cierre de inventario a partir del %3 (31-01-2019) que coincida con el final del período.</span><span class="sxs-lookup"><span data-stu-id="d7b16-123">Please remember to execute an inventory close as of %3 (31-01-2019) matching the period end.</span></span> <span data-ttu-id="d7b16-124">La valoración de los inventarios, el coste de los bienes vendidos, y las variaciones pueden no ser correctos en el libro mayor auxiliar o en el libro mayor general hasta que se haya ejecutado.</span><span class="sxs-lookup"><span data-stu-id="d7b16-124">The valuation of inventories, cost of goods sold, and variances may not be correct in subledger or general ledger until this has been executed.</span></span>

- <span data-ttu-id="d7b16-125">Está a punto de cambiar el estado del período del libro mayor %1 a %2.</span><span class="sxs-lookup"><span data-stu-id="d7b16-125">You are about to change the status of ledger period %1 to %2.</span></span> <span data-ttu-id="d7b16-126">No se ha registrado ninguna ejecución de cierre de inventario con fecha %3 coincidente con el final del período.</span><span class="sxs-lookup"><span data-stu-id="d7b16-126">No execution of inventory close with a date %3 matching period end has been registered.</span></span> <span data-ttu-id="d7b16-127">Ejecute un cierre de inventario a partir del %3 que coincida con el final del período antes de cambiar el estado.</span><span class="sxs-lookup"><span data-stu-id="d7b16-127">Please execute an inventory close as of %3 matching the period end before changing the status.</span></span> <span data-ttu-id="d7b16-128">La valoración de los inventarios, el coste de los bienes vendidos, y las variaciones pueden no ser correctos en el libro mayor auxiliar o en el libro mayor general hasta que se haya ejecutado.</span><span class="sxs-lookup"><span data-stu-id="d7b16-128">The valuation of inventories, cost of goods sold, and variances may not be correct in subledger or general ledger until this has been executed.</span></span> <span data-ttu-id="d7b16-129">Reportado desde la entidad legal %4.</span><span class="sxs-lookup"><span data-stu-id="d7b16-129">Reported from legal entity %4.</span></span> <span data-ttu-id="d7b16-130">Por ahora, es informativa, pero deberá realizar dicha acción en el futuro.</span><span class="sxs-lookup"><span data-stu-id="d7b16-130">For now, it is informational, but you will be required to perform such action in future.</span></span>

- <span data-ttu-id="d7b16-131">La estructura de la cuenta %1 se ha cambiado.</span><span class="sxs-lookup"><span data-stu-id="d7b16-131">The Account structure %1 has been changed.</span></span> <span data-ttu-id="d7b16-132">Una o más cuentas principales %2 ya no existen.</span><span class="sxs-lookup"><span data-stu-id="d7b16-132">One or more main accounts %2 no longer exist.</span></span> <span data-ttu-id="d7b16-133">Estas cuentas principales son requeridas por %3 con fecha %4.</span><span class="sxs-lookup"><span data-stu-id="d7b16-133">These Main accounts are required by the %3 with a date %4.</span></span> <span data-ttu-id="d7b16-134">Agregue estas cuentas principales a la estructura de cuenta %1 antes de que pueda reanudar el trabajo %3.</span><span class="sxs-lookup"><span data-stu-id="d7b16-134">Please add these Main accounts to the Account structure %1 before you can resume the %3 job.</span></span> <span data-ttu-id="d7b16-135">Por ahora, es informativa, pero deberá realizar dicha acción en el futuro.</span><span class="sxs-lookup"><span data-stu-id="d7b16-135">For now, it is informational, but you will be required to perform such action in future.</span></span>

- <span data-ttu-id="d7b16-136">Está a punto de ejecutar un cierre de inventario con fecha %1 (31-01-2019).</span><span class="sxs-lookup"><span data-stu-id="d7b16-136">You are about to execute an inventory close with a date %1 (31-01-2019).</span></span> <span data-ttu-id="d7b16-137">No se ha registrado ningún cálculo de contabilización previa de los costes con fecha %2 (31-01-2019) coincidente con el final del período.</span><span class="sxs-lookup"><span data-stu-id="d7b16-137">No execution of backflush costing calculation with a date %2 (31-01-2019) matching period end has been registered.</span></span> <span data-ttu-id="d7b16-138">Recuerde ejecutar un cálculo de contabilización previa de los costes con fecha %3 (31-01-2019) coincidente con el final del período.</span><span class="sxs-lookup"><span data-stu-id="d7b16-138">Please remember to execute a backflush costing calculation with a date of %3 (31-01-2019) matching period end.</span></span> <span data-ttu-id="d7b16-139">La valoración de los inventarios, el coste de los bienes vendidos, y las variaciones pueden no ser correctos en el libro mayor auxiliar o en el libro mayor general hasta que se haya ejecutado.</span><span class="sxs-lookup"><span data-stu-id="d7b16-139">The valuation of inventories, cost of goods sold, and variances may not be correct in subledger or general ledger until this has been executed.</span></span>

- <span data-ttu-id="d7b16-140">Está a punto de ejecutar un cálculo de costos retroactivo con fecha %1 (28-02-2019).</span><span class="sxs-lookup"><span data-stu-id="d7b16-140">You are about to execute a backflush costing calculation with a date %1 (28-02-2019).</span></span> <span data-ttu-id="d7b16-141">El último cálculo de contabilización previa de los costes registrado se ejecutó en un período anterior con fecha %2 (31-01-2019).</span><span class="sxs-lookup"><span data-stu-id="d7b16-141">The last registered backflush costing calculation was executed in a previous period with a date %2 (31-01-2019).</span></span> <span data-ttu-id="d7b16-142">No se ha registrado ninguna ejecución de cierre de inventario con fecha %3 (31-01-2019) coincidente con un final de período.</span><span class="sxs-lookup"><span data-stu-id="d7b16-142">No execution of an inventory close with a date %3 (31-01-2019) matching a period end has been registered.</span></span>
<span data-ttu-id="d7b16-143">Recuerde ejecutar un cierre de inventario a partir del %3 (31-01-2019) que coincida con un final de período.</span><span class="sxs-lookup"><span data-stu-id="d7b16-143">Please remember to execute an inventory close as of %3 (31-01-2019) matching a period end.</span></span> <span data-ttu-id="d7b16-144">La valoración de los inventarios, el costo de los bienes vendidos y las variaciones pueden no ser correctos en el libro mayor auxiliar o en el libro mayor general hasta que se haya ejecutado el cierre de inventario.</span><span class="sxs-lookup"><span data-stu-id="d7b16-144">The valuation of inventories, cost of goods sold and variances may not be correct in subledger or general ledger until the inventory close has been executed.</span></span>

## <a name="inventory-aging-report-discrepancies"></a><span data-ttu-id="d7b16-145">Discrepancias de informe de vencimiento de inventario</span><span class="sxs-lookup"><span data-stu-id="d7b16-145">Inventory aging report discrepancies</span></span>

<span data-ttu-id="d7b16-146">El **Informe de antigüedad de inventario** muestra diferentes valores cuando se ve en diferentes dimensiones de almacenamiento (como sitio o almacén).</span><span class="sxs-lookup"><span data-stu-id="d7b16-146">The **Inventory aging report** shows different values when viewed at different storage dimensions (such as site or warehouse).</span></span> <span data-ttu-id="d7b16-147">Para obtener más información sobre la lógica de informes, consulte [Ejemplos y lógica de informes de antigüedad de inventario](inventory-aging-report.md).</span><span class="sxs-lookup"><span data-stu-id="d7b16-147">For more information about the reporting logic, see [Inventory aging report examples and logic](inventory-aging-report.md).</span></span>

## <a name="an-update-conflict-occurs-when-the-inventory-valuation-method-is-either-standard-cost-or-moving-average"></a><span data-ttu-id="d7b16-148">Se produce un conflicto de actualización cuando el método de valoración de inventario es Coste estándar o Media móvil</span><span class="sxs-lookup"><span data-stu-id="d7b16-148">An update conflict occurs when the inventory valuation method is either Standard cost or Moving average</span></span>

<span data-ttu-id="d7b16-149">Cuando registra documentos como diarios de inventario, facturas de pedidos de compra o facturas de pedidos de venta en paralelo para mejorar la escalabilidad y el rendimiento, es posible que reciba un mensaje de error sobre un conflicto de actualización y que algunos de los documentos no se registren.</span><span class="sxs-lookup"><span data-stu-id="d7b16-149">When you post documents such as inventory journals, purchase order invoices, or sales order invoices in parallel for scalability and performance, you might receive an error message about an update conflict, and some of the documents might not be posted.</span></span> <span data-ttu-id="d7b16-150">Este problema puede producirse cuando el método de valoración de inventario es *Coste estándar* o *Media móvil*.</span><span class="sxs-lookup"><span data-stu-id="d7b16-150">This issue can occur when the inventory valuation method is either *Standard cost* or *Moving average*.</span></span> <span data-ttu-id="d7b16-151">Ambos métodos son métodos de gestión de costes perpetuos.</span><span class="sxs-lookup"><span data-stu-id="d7b16-151">Both these methods are perpetual costing methods.</span></span> <span data-ttu-id="d7b16-152">Es decir, el coste final se determina en el momento de la publicación.</span><span class="sxs-lookup"><span data-stu-id="d7b16-152">In other words, the final cost is determined at the time of posting.</span></span>

<span data-ttu-id="d7b16-153">Si está usando el método *Media móvil*, el mensaje de error se parece a este ejemplo:</span><span class="sxs-lookup"><span data-stu-id="d7b16-153">If you're using the *Moving average* method, the error message resembles this example:</span></span>

> <span data-ttu-id="d7b16-154">No se espera el valor de inventario xx.xx después del cálculo de gasto proporcional</span><span class="sxs-lookup"><span data-stu-id="d7b16-154">Inventory value xx.xx is not expected after the proportional expense calculation</span></span>

<span data-ttu-id="d7b16-155">Si está usando el método *Coste estándar*, el mensaje de error se parece a este ejemplo:</span><span class="sxs-lookup"><span data-stu-id="d7b16-155">If you're using the *Standard cost* method, the error message resembles this example:</span></span>

> <span data-ttu-id="d7b16-156">El coste estándar no coincide con el valor del inventario financiero después de la actualización.</span><span class="sxs-lookup"><span data-stu-id="d7b16-156">The standard cost does not match with the financial inventory value after the update.</span></span> <span data-ttu-id="d7b16-157">Valor = xx.xx, Cant. = yy.yy, Coste estándar = zz.zz</span><span class="sxs-lookup"><span data-stu-id="d7b16-157">Value = xx.xx, Qty = yy.yy, Standard cost = zz.zz</span></span>

<span data-ttu-id="d7b16-158">Hasta que Microsoft publique una solución para solucionar el problema, considere usar las siguientes soluciones para ayudar a evitar o reducir estos errores:</span><span class="sxs-lookup"><span data-stu-id="d7b16-158">Until Microsoft releases a solution to fix the issue, consider using the following workarounds to help avoid or reduce these errors:</span></span>

- <span data-ttu-id="d7b16-159">Vuelva a publicar los documentos fallidos.</span><span class="sxs-lookup"><span data-stu-id="d7b16-159">Repost the failed documents.</span></span>
- <span data-ttu-id="d7b16-160">Cree documentos que tengan menos líneas.</span><span class="sxs-lookup"><span data-stu-id="d7b16-160">Create documents that have fewer lines.</span></span>
- <span data-ttu-id="d7b16-161">Evite valores decimales en el coste estándar.</span><span class="sxs-lookup"><span data-stu-id="d7b16-161">Avoid decimal values in the standard cost.</span></span> <span data-ttu-id="d7b16-162">Intente definir el coste estándar para que el campo **Cantidad de precio** esté configurado en *1*.</span><span class="sxs-lookup"><span data-stu-id="d7b16-162">Try to define the standard cost so that the **Price quantity** field is set to *1*.</span></span> <span data-ttu-id="d7b16-163">Si debe especificar un valor de **Cantidad de precio** que sea mayor que *1*, trate de minimizar el número de decimales en el coste estándar unitario.</span><span class="sxs-lookup"><span data-stu-id="d7b16-163">If you must specify a **Price quantity** value that is more than *1*, try to minimize the number of decimal places in the unit standard cost.</span></span> <span data-ttu-id="d7b16-164">(Idealmente, debería haber menos de dos cifras decimales). Por ejemplo, evite definir configuraciones de coste estándar como **Precio** = *10* y **Cantidad de precio** = *3*, porque producirán un coste estándar unitario de 3,333333 (donde el valor decimal se repite).</span><span class="sxs-lookup"><span data-stu-id="d7b16-164">(Ideally, there should be fewer than two decimal places.) For example, avoid defining standard cost settings such as **Price** = *10* and **Price quantity** = *3*, because they will produce a unit standard cost of 3.333333 (where the decimal value repeats).</span></span>
- <span data-ttu-id="d7b16-165">En la mayoría de los documentos, evite tener varias líneas que contengan la misma combinación de dimensiones de inventario financiero y de producto.</span><span class="sxs-lookup"><span data-stu-id="d7b16-165">In a majority of documents, avoid having multiple lines that hold the same combination of product and financial inventory dimensions.</span></span>
- <span data-ttu-id="d7b16-166">Reduzca el grado de paralelización.</span><span class="sxs-lookup"><span data-stu-id="d7b16-166">Reduce the degree of parallelization.</span></span> <span data-ttu-id="d7b16-167">(En este caso, su sistema puede volverse más rápido, porque se producen menos conflictos de actualización y reintentos).</span><span class="sxs-lookup"><span data-stu-id="d7b16-167">(In this case, your system might become faster, because fewer update conflicts and retries occur.)</span></span>


[!INCLUDE[footer-include](../../includes/footer-banner.md)]