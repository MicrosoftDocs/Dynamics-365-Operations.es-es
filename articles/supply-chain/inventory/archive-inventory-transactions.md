---
title: Archivar transacciones del inventario
description: Este tema describe cómo archivar datos de transacciones de inventario para ayudar a mejorar el rendimiento del sistema.
author: sherry-zheng
ms.date: 03/01/2021
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: InventTransArchiveProcessForm
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: chuzheng
ms.search.validFrom: 2021-03-01
ms.dyn365.ops.version: Release 10.0.18
ms.openlocfilehash: 0526eb42a886817d50e1ecfd252a6e971875ba92
ms.sourcegitcommit: 8362f3bd32ce8b9a5af93c8e57daef732a93b19e
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 04/28/2021
ms.locfileid: "5956067"
---
# <a name="archive-inventory-transactions"></a><span data-ttu-id="c2ee6-103">Archivar transacciones del inventario</span><span class="sxs-lookup"><span data-stu-id="c2ee6-103">Archive inventory transactions</span></span>

[!include [banner](../../includes/banner.md)]

<span data-ttu-id="c2ee6-104">Con el tiempo, la tabla de transacciones de inventario (`InventTrans`) seguirá creciendo y consumiendo más espacio en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-104">Over time, the inventory transactions table (`InventTrans`) will continue to grow and consume more database space.</span></span> <span data-ttu-id="c2ee6-105">Por lo tanto, las consultas que se realicen en la tabla se volverán gradualmente más lentas.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-105">Therefore, queries that are made against the table will gradually become slower.</span></span> <span data-ttu-id="c2ee6-106">Este tema describe cómo puede utilizar la función *Archivo de transacciones de inventario* función para archivar datos sobre transacciones de inventario para ayudar a mejorar el rendimiento del sistema.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-106">This topic describes how you can use the *Inventory transactions archive* feature to archive data about inventory transactions to help improve system performance.</span></span>

> [!NOTE]
> <span data-ttu-id="c2ee6-107">Solo las transacciones de inventario actualizadas financieramente se pueden archivar en un período de libro mayor cerrado seleccionado.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-107">Only financially updated inventory transactions can be archived in a selected closed ledger period.</span></span> <span data-ttu-id="c2ee6-108">Para ser archivadas, las transacciones de inventario saliente actualizadas financieramente deben tener un estado de emisión de *Vendido*, y las transacciones de inventario de entrada deben tener un estado de recepción de *Comprado*.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-108">To be archived, financially updated outbound inventory transactions must have an issue status of *Sold*, and inbound inventory transactions must have a receipt status of *Purchased*.</span></span>

<span data-ttu-id="c2ee6-109">Cuando archiva transacciones de inventario, todas las transacciones relacionadas se mueven a la tabla `InventTransArchive`.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-109">When you archive inventory transactions, all related transactions are moved to the `InventTransArchive` table.</span></span> <span data-ttu-id="c2ee6-110">Las transacciones de emisión de inventario y las transacciones de recepción de inventario se archivan por separado, según la combinación del ID de artículo (`itemId`) e ID de dimensión de inventario (`inventDimId`) y se incluyen en las transacciones de emisión resumida y recibo resumido.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-110">Inventory issue transactions and inventory receipt transactions are archived separately, based on the combination of the item ID (`itemId`) and inventory dimension ID (`inventDimId`), and they are put into the summarized issue and summarized receipt transactions.</span></span>

<span data-ttu-id="c2ee6-111">Si una combinación `itemId` e `inventDimId` contiene solo un recibo o transacción de emisión, la transacción no se archivará.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-111">If an `itemId` and `inventDimId` combination contains only one receipt or issue transaction, the transaction won't be archived.</span></span>

## <a name="turn-on-the-feature-in-your-system"></a><span data-ttu-id="c2ee6-112">Activar la función en el sistema</span><span class="sxs-lookup"><span data-stu-id="c2ee6-112">Turn on the feature in your system</span></span>

<span data-ttu-id="c2ee6-113">Si su sistema aún no incluye las funciones descritas en este tema, vaya a [Gestión de funciones](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) y active la característica *Archivo de transacciones de inventario*.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-113">If your system doesn't already include the features that is described in this topic, go to [Feature management](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md), and turn on the *Inventory transactions archive* feature.</span></span> <span data-ttu-id="c2ee6-114">Tenga en cuenta que esta función no se puede desactivar una vez que se ha activado.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-114">Note that this feature cannot be disabled once it has been enabled.</span></span>

## <a name="things-to-consider-before-you-archive-inventory-transactions"></a><span data-ttu-id="c2ee6-115">Cosas a considerar antes de archivar transacciones de inventario</span><span class="sxs-lookup"><span data-stu-id="c2ee6-115">Things to consider before you archive inventory transactions</span></span>

<span data-ttu-id="c2ee6-116">Antes de archivar las transacciones de inventario, debe considerar los siguientes escenarios comerciales, ya que se verán afectados por la operación:</span><span class="sxs-lookup"><span data-stu-id="c2ee6-116">Before you archive inventory transactions, you should consider the following business scenarios, because they will be affected by the operation:</span></span>

- <span data-ttu-id="c2ee6-117">Cuando audita transacciones de inventario de documentos relacionados, como líneas de órdenes de compra, se mostrarán como archivadas.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-117">When you audit inventory transactions from related documents, such as purchase order lines, they will be shown as archived.</span></span> <span data-ttu-id="c2ee6-118">Para revisar las transacciones archivadas, debe ir a **Gestión del inventario \> Tareas periódicas \> Limpieza \> Archivo de transacciones de inventario**.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-118">To review the archived transactions, you must go to **Inventory management \> Periodic tasks \> Clean up \> Inventory transactions archive**.</span></span>
- <span data-ttu-id="c2ee6-119">El cierre de inventario no se puede cancelar por períodos archivados.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-119">Inventory closing can't be canceled for archived periods.</span></span> <span data-ttu-id="c2ee6-120">Antes de que pueda cancelar un cierre de inventario, debe revertir el archivo de transacciones de inventario para el período relevante.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-120">Before you can cancel an inventory closing, you must reverse the inventory transaction archive for the relevant period.</span></span>
- <span data-ttu-id="c2ee6-121">La conversión de costo estándar no se puede realizar para períodos archivados.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-121">Standard cost conversion can't be done for archived periods.</span></span> <span data-ttu-id="c2ee6-122">Antes de que pueda realizar una conversión de coste estándar, debe revertir el archivo de transacciones de inventario para el período relevante.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-122">Before you can do standard cost conversion, you must reverse the inventory transaction archive for the relevant period.</span></span>
- <span data-ttu-id="c2ee6-123">Los informes de inventario que se obtienen de las transacciones de inventario se verán afectados cuando archive las transacciones de inventario.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-123">Inventory reports that are sourced from inventory transactions will be affected when you archive inventory transactions.</span></span> <span data-ttu-id="c2ee6-124">Estos informes incluyen el informe de antigüedad del inventario y los informes de valor del inventario.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-124">These reports include the inventory aging report and inventory value reports.</span></span>
- <span data-ttu-id="c2ee6-125">Los pronósticos de inventario pueden verse afectados si se ejecutan durante el horizonte temporal de los períodos archivados.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-125">Inventory forecasts might be affected if they are run during the time horizon of archived periods.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="c2ee6-126">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="c2ee6-126">Prerequisites</span></span>

<span data-ttu-id="c2ee6-127">Las transacciones de inventario se pueden archivar solo durante los períodos en los que se cumplen las siguientes condiciones:</span><span class="sxs-lookup"><span data-stu-id="c2ee6-127">Inventory transactions can be archived only during periods where the following conditions are met:</span></span>

- <span data-ttu-id="c2ee6-128">El período del libro mayor debe estar cerrado.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-128">The ledger period must be closed.</span></span>
- <span data-ttu-id="c2ee6-129">El cierre de inventario debe realizarse en o después de la fecha del archivo hasta el período.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-129">Inventory closing must be run on or after the to-period date of the archive.</span></span>
- <span data-ttu-id="c2ee6-130">El período debe ser al menos un año antes de la fecha de inicio del período del archivo.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-130">The period must be at least one year before the from-period date of the archive.</span></span>
- <span data-ttu-id="c2ee6-131">No debe haber ningún recálculo de inventario existente.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-131">There must not be any existing inventory recalculations.</span></span>

## <a name="archive-inventory-transactions"></a><span data-ttu-id="c2ee6-132">Archivar transacciones del inventario</span><span class="sxs-lookup"><span data-stu-id="c2ee6-132">Archive inventory transactions</span></span>

<span data-ttu-id="c2ee6-133">Para archivar transacciones de inventario, siga estos pasos.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-133">To archive inventory transactions, follow these steps.</span></span>

1. <span data-ttu-id="c2ee6-134">Ir **Gestión del inventario** \> **Tareas periódicas** \> **Limpiar** \> **Archivo de transacciones de inventario**.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-134">Go to **Inventory management** \> **Periodic tasks** \> **Clean up** \> **Inventory transaction archive**.</span></span>

    <span data-ttu-id="c2ee6-135">La página **Archivo de transacciones de inventario** aparece y muestra una lista de registros de procesos archivados.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-135">The **Inventory transactions archive** page appears and shows a list of archived process records.</span></span>

    <span data-ttu-id="c2ee6-136">![Página Archivar transacciones de inventario](media/archive-inventory-empty.png "Página Archivar transacciones de inventario")</span><span class="sxs-lookup"><span data-stu-id="c2ee6-136">![Inventory transactions archive page](media/archive-inventory-empty.png "Inventory transactions archive page")</span></span>

1. <span data-ttu-id="c2ee6-137">En el panel de acciones, seleccione **Archivo de transacciones de inventario** para crear un archivo de transacciones de inventario.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-137">On the Action Pane, select **Inventory transactions archive** to create an inventory transaction archive.</span></span>
1. <span data-ttu-id="c2ee6-138">En el cuadro de diálogo **Archivo de transacciones de inventario**, en la ficha desplegable **Parámetros**, establezca los siguientes campos:</span><span class="sxs-lookup"><span data-stu-id="c2ee6-138">In the **Inventory transactions archive** dialog box, on the **Parameters** FastTab, set the following fields:</span></span>

    - <span data-ttu-id="c2ee6-139">**Desde la fecha en el período del libro mayor cerrado** - Seleccione la fecha de transacción más temprana para incluir en el archivo.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-139">**From date in closed ledger period** – Select the earliest transaction date to include in the archive.</span></span>
    - <span data-ttu-id="c2ee6-140">**Hasta la fecha en el período del libro mayor cerrado** - Seleccione la fecha de transacción más tardía para incluir en el archivo.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-140">**To date in closed ledger period** – Select the latest transaction date to include in the archive.</span></span>

    <span data-ttu-id="c2ee6-141">![Cuadro de diálogo Archivar transacciones de inventario](media/archive-inventory-dates.png "Cuadro de diálogo Archivar transacciones de inventario")</span><span class="sxs-lookup"><span data-stu-id="c2ee6-141">![Inventory transactions archive dialog box](media/archive-inventory-dates.png "Inventory transactions archive dialog box")</span></span>

    > [!NOTE]
    > <span data-ttu-id="c2ee6-142">Sólo períodos que cumplen con los [prerrequisitos](#prerequisites) estarán disponible para su selección.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-142">Only periods that meet the [prerequisites](#prerequisites) will be available for selection.</span></span>

1. <span data-ttu-id="c2ee6-143">Sobre la ficha desplegable **Ejecutar en segundo plano**, configure los detalles del procesamiento por lotes según sus necesidades.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-143">On the **Run in the background** FastTab, set up batch processing details as you require.</span></span> <span data-ttu-id="c2ee6-144">Siga los pasos habituales para trabajos por lotes en Microsoft Dynamics 365 Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-144">Follow the usual steps for batch jobs in Microsoft Dynamics 365 Supply Chain Management.</span></span>
1. <span data-ttu-id="c2ee6-145">Seleccione **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-145">Select **OK**.</span></span>
1. <span data-ttu-id="c2ee6-146">Recibe un mensaje que le pide que confirme que desea continuar.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-146">You receive a message that prompts you to confirm that you want to continue.</span></span> <span data-ttu-id="c2ee6-147">Lea el mensaje con atención y luego seleccione **Sí** Si desea continuar.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-147">Read the message carefully, and then select **Yes** if you want to continue.</span></span>

    <span data-ttu-id="c2ee6-148">Recibe un mensaje que indica que su trabajo de archivo de transacciones de inventario se ha agregado a la cola de lotes.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-148">You receive a message that states that your inventory transactions archive job has been added to the batch queue.</span></span> <span data-ttu-id="c2ee6-149">El trabajo ahora comenzará a archivar las transacciones de inventario del período seleccionado.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-149">The job will now start to archive inventory transactions from the selected period.</span></span>

## <a name="view-archived-inventory-transactions"></a><span data-ttu-id="c2ee6-150">Ver transacciones de inventario archivadas</span><span class="sxs-lookup"><span data-stu-id="c2ee6-150">View archived inventory transactions</span></span>

<span data-ttu-id="c2ee6-151">La página **Archivo de transacciones de inventario** muestra su historial de archivo completo.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-151">The **Inventory transactions archive** page shows your full archiving history.</span></span> <span data-ttu-id="c2ee6-152">Cada fila de la cuadrícula muestra información como la fecha en la que se creó el archivo, el usuario que lo creó y su estado.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-152">Each row in the grid shows information such as the date when the archive was created, the user who created it, and its status.</span></span>

<span data-ttu-id="c2ee6-153">![Historial de archivo en la página Archivo de transacciones de inventario](media/archive-inventory-full.png "Historial de archivo en la página Archivo de transacciones de inventario")</span><span class="sxs-lookup"><span data-stu-id="c2ee6-153">![Archiving history on the Inventory transactions archive page](media/archive-inventory-full.png "Archiving history on the Inventory transactions archive page")</span></span>

<span data-ttu-id="c2ee6-154">En la lista desplegable en la parte superior de la página, seleccione uno de los siguientes valores para filtrar los archivos que se muestran en la cuadrícula:</span><span class="sxs-lookup"><span data-stu-id="c2ee6-154">In the drop-down list at the top of the page select one of the following values to filter the archives that are shown in the grid:</span></span>

- <span data-ttu-id="c2ee6-155">**Activo** - Mostrar solo archivos activos, no archivos revertidos.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-155">**Active** – Show only active archives, not reversed archives.</span></span>
- <span data-ttu-id="c2ee6-156">**Todos** - Mostrar todos los archivos, tanto activos como revertidos.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-156">**All** – Show all archives, both active and reversed.</span></span>

<span data-ttu-id="c2ee6-157">Para cada archivo de la cuadrícula, se proporciona la siguiente información:</span><span class="sxs-lookup"><span data-stu-id="c2ee6-157">For each archive in the grid, the following information is provided:</span></span>

- <span data-ttu-id="c2ee6-158">**Activo** - Una marca de verificación indica que el archivo está activo.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-158">**Active** – A check mark indicates that the archive is active.</span></span>
- <span data-ttu-id="c2ee6-159">**Partir de la fecha** - La fecha de la transacción más antigua que se puede incluir en el archivo.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-159">**From date** – The date of the oldest transaction that can be included in the archive.</span></span>
- <span data-ttu-id="c2ee6-160">**Hasta la fecha** - La fecha de la transacción más reciente que se puede incluir en el archivo.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-160">**To date** – The date of the latest transaction that can be included in the archive.</span></span>
- <span data-ttu-id="c2ee6-161">**Programado por** - La cuenta de usuario que creó el archivo.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-161">**Scheduled by** – The user account that created the archive.</span></span>
- <span data-ttu-id="c2ee6-162">**Ejecutado** - La fecha de creación del archivo.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-162">**Executed** – The date when the archive was created.</span></span>
- <span data-ttu-id="c2ee6-163">**Marcha atrás** - Una marca de verificación indica que el archivo se ha invertido.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-163">**Reverse** – A check mark indicates that the archive has been reversed.</span></span>
- <span data-ttu-id="c2ee6-164">**Detener la actualización actual** - Una marca de verificación indica que el archivo está en curso, pero se ha detenido.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-164">**Stop current update** – A check mark indicates that the archive is in progress, but it has been paused.</span></span>
- <span data-ttu-id="c2ee6-165">**Expresar** - El estado de procesamiento del archivo.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-165">**State** – The processing status of the archive.</span></span> <span data-ttu-id="c2ee6-166">Los valores posibles son *Espera*, *En progreso* y *Finalizado*.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-166">The possible values are *Waiting*, *In progress*, and *Finished*.</span></span>

<span data-ttu-id="c2ee6-167">La barra de herramientas sobre la cuadrícula proporciona los siguientes botones que puede usar para trabajar con un archivo seleccionado:</span><span class="sxs-lookup"><span data-stu-id="c2ee6-167">The toolbar above the grid provides the following buttons that you can use to work with a selected archive:</span></span>

- <span data-ttu-id="c2ee6-168">**Transacciones archivadas** - Ver los detalles completos del archivo seleccionado.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-168">**Archived transactions** – View the full details of the selected archive.</span></span> <span data-ttu-id="c2ee6-169">La página **Transacciones archivadas** que aparece muestra todas las transacciones en el archivo.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-169">The **Archived transactions** page that appears shows all the transactions in the archive.</span></span>

    <span data-ttu-id="c2ee6-170">![Página Transacciones archivadas](media/archive-inventory-transactions.png "Página Transacciones archivadas")</span><span class="sxs-lookup"><span data-stu-id="c2ee6-170">![Archived transactions page](media/archive-inventory-transactions.png "Archived transactions page")</span></span>

    <span data-ttu-id="c2ee6-171">Para ver más información sobre una transacción específica en la página **Transacciones archivadas**, selecciónela en la cuadrícula y, a continuación, en el Panel de acciones, seleccione **Detalles de transacción archivados**.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-171">To view more information about a specific transaction on the **Archived transactions** page, select it in the grid, and then, on the Action Pane, select **Archived transaction details**.</span></span> <span data-ttu-id="c2ee6-172">La página **Detalles de transacción archivados** que aparece muestra información como la contabilización del libro mayor, las referencias del libro mayor auxiliar relacionadas y las dimensiones financieras.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-172">The **Archived transaction details** page that appears shows information such as the ledger posting, related subledger references, and financial dimensions.</span></span>

- <span data-ttu-id="c2ee6-173">**Pausar el archivo** - Pausar un archivo seleccionado que se está procesando actualmente.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-173">**Pause archiving** – Pause a selected archive that is currently being processed.</span></span> <span data-ttu-id="c2ee6-174">La pausa tiene efecto solo después de que se haya generado la tarea de archivo.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-174">The pause takes effect only after the archiving task has been generated.</span></span> <span data-ttu-id="c2ee6-175">Por lo tanto, puede haber una pequeña demora antes de que la pausa surta efecto.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-175">Therefore, there might be a short delay before the pause takes effect.</span></span> <span data-ttu-id="c2ee6-176">Si un archivo se ha detenido, aparece una marca de verificación en el campo **Detener la actualización actual**.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-176">If an archive has been paused, a check mark appears in its **Stop current update** field.</span></span>
- <span data-ttu-id="c2ee6-177">**Reanudar el archivo** - Reanudar el procesamiento de un archivo seleccionado que se está pausado actualmente.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-177">**Resume archiving** – Resume processing for a selected archive that is currently paused.</span></span>
- <span data-ttu-id="c2ee6-178">**Marcha atrás** - Revertir el archivo seleccionado.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-178">**Reverse** – Reverse the selected archive.</span></span> <span data-ttu-id="c2ee6-179">Puede revertir un archivo solo si su campo **Estado** está configurado en *Finalizado*.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-179">You can reverse an archive only if its **State** field is set to *Finished*.</span></span> <span data-ttu-id="c2ee6-180">Si un archivo se ha invertido, aparece una marca de verificación en el campo **Invertir**.</span><span class="sxs-lookup"><span data-stu-id="c2ee6-180">If an archive has been reversed, a check mark appears in its **Reverse** field.</span></span>
