---
title: Gestión de pedidos distribuida (DOM)
description: En este tema se describe la funcionalidad de gestión de pedidos distribuida (DOM) de Dynamics 365 Commerce.
author: josaw1
manager: AnnBe
ms.date: 01/08/2021
ms.topic: index-page
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.custom: ''
ms.assetid: ed0f77f7-3609-4330-bebd-ca3134575216
ms.search.region: global
ms.search.industry: Retail
ms.author: josaw
ms.search.validFrom: 2018-11-15
ms.dyn365.ops.version: ''
ms.openlocfilehash: 9ace77dba534615874e52ba95ee9dc6d71951d9e
ms.sourcegitcommit: eaf330dbee1db96c20d5ac479f007747bea079eb
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 02/15/2021
ms.locfileid: "5204337"
---
# <a name="distributed-order-management-dom"></a><span data-ttu-id="7102c-103">Gestión de pedidos distribuida (DOM)</span><span class="sxs-lookup"><span data-stu-id="7102c-103">Distributed order management (DOM)</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="7102c-104">En el nuevo paradigma de las operaciones de Commerce, los comercios minoristas se esfuerzan por proporcionar una captación de clientes personalizada, experiencias en varios canales simultáneos e interacciones fluidas.</span><span class="sxs-lookup"><span data-stu-id="7102c-104">In the new paradigm for commerce operations, retailers strive to provide personalized customer engagement, omni-channel experiences, and frictionless interactions.</span></span> <span data-ttu-id="7102c-105">Hay muchas opciones disponibles, por lo que los consumidores comprarán dónde puedan disfrutar de la experiencia más favorable.</span><span class="sxs-lookup"><span data-stu-id="7102c-105">Because so many choices are available, consumers will shop wherever they can have the most favorable experience.</span></span> <span data-ttu-id="7102c-106">En muchos casos, los precios y los productos ya no son los factores principales en las decisiones de los consumidores.</span><span class="sxs-lookup"><span data-stu-id="7102c-106">In many cases, prices and products are no longer the top deciding factors for consumers.</span></span>

<span data-ttu-id="7102c-107">Para ayudar a mejorar la experiencia del cliente, los comercios minoristas deben disponer de visibilidad de su inventario en tiempo real y a través de todos sus canales.</span><span class="sxs-lookup"><span data-stu-id="7102c-107">To help improve the customer experience, retailers must have visibility into their inventory in real time, across all their channels.</span></span> <span data-ttu-id="7102c-108">Una sola vista integral de todo el inventario puede ayudar a optimizar el cumplimiento, la asignación y la distribución de pedidos.</span><span class="sxs-lookup"><span data-stu-id="7102c-108">A single, holistic view of all the inventory can help optimize order fulfillment, allocation, and distribution.</span></span> <span data-ttu-id="7102c-109">Por lo tanto, la adopción y la implementación de un sistema de gestión de pedidos distribuida (DOM) es cada vez más importante para los minoristas.</span><span class="sxs-lookup"><span data-stu-id="7102c-109">Therefore, adoption and implementation of a distributed order management (DOM) system are becoming more imperative for retailers.</span></span>

<span data-ttu-id="7102c-110">DOM optimiza el cumplimiento de pedidos a través de una red compleja de sistemas y procesos.</span><span class="sxs-lookup"><span data-stu-id="7102c-110">DOM optimizes order fulfillment across a complex network of systems and processes.</span></span> <span data-ttu-id="7102c-111">Se basa en una sola vista global del inventario en toda la organización para administrar de forma inteligente los pedidos, a fin de realizarlos de forma precisa y más rentable.</span><span class="sxs-lookup"><span data-stu-id="7102c-111">It relies on a single, global view of inventory across the whole organization to intelligently manage orders, so that they are fulfilled accurately and in a more cost-effective manner.</span></span> <span data-ttu-id="7102c-112">Al mejorar la eficacia de la cadena de suministro de un minorista, DOM ayuda al minorista a cumplir mejor las expectativas del cliente.</span><span class="sxs-lookup"><span data-stu-id="7102c-112">By improving the efficiency of a retailer's supply chain, DOM helps the retailer better meet customer expectations.</span></span>

<span data-ttu-id="7102c-113">La siguiente ilustración muestra el ciclo de vida de un pedido de ventas en un sistema DOM.</span><span class="sxs-lookup"><span data-stu-id="7102c-113">The following illustration shows the lifecycle of a sales order in a DOM system.</span></span>

<span data-ttu-id="7102c-114">![Ciclo de vida de pedido de ventas en el contexto de DOM](./media/flow.png "Ciclo de vida de pedido de ventas en el contexto de DOM")</span><span class="sxs-lookup"><span data-stu-id="7102c-114">![Sales order lifecycle in the context of DOM](./media/flow.png "Sales order lifecycle in the context of DOM")</span></span>

## <a name="set-up-dom"></a><span data-ttu-id="7102c-115">Configurar DOM</span><span class="sxs-lookup"><span data-stu-id="7102c-115">Set up DOM</span></span>

1. <span data-ttu-id="7102c-116">Vaya a **Administración del sistema \> Configuración \> Configuración de licencias**.</span><span class="sxs-lookup"><span data-stu-id="7102c-116">Go to **System administration \> Setup \> License configuration**.</span></span>
2. <span data-ttu-id="7102c-117">En la pestaña **Claves de configuración**, expanda el nodo **Commerce** y seleccione la casilla **Gestión de pedidos distribuida**.</span><span class="sxs-lookup"><span data-stu-id="7102c-117">On the **Configuration keys** tab, expand the **Commerce** node, and then select the **Distributed Order Management** check box.</span></span>
3. <span data-ttu-id="7102c-118">Vaya a **Retail y Commerce \> Gestión de pedidos distribuida \> Configuración \> Parámetros de DOM**.</span><span class="sxs-lookup"><span data-stu-id="7102c-118">Go to **Retail and Commerce \> Distributed order management \> Setup \> DOM parameters**.</span></span>
4. <span data-ttu-id="7102c-119">En la pestaña **General**, establezca los valores siguientes:</span><span class="sxs-lookup"><span data-stu-id="7102c-119">On the **General** tab, set the following values:</span></span>

    - <span data-ttu-id="7102c-120">**Habilitar gestión de pedidos distribuida**: establezca esta opción en **Sí**.</span><span class="sxs-lookup"><span data-stu-id="7102c-120">**Enable distributed order management** – Set this option to **Yes**.</span></span>
    - <span data-ttu-id="7102c-121">**Confirmar uso de mapas de Bing para DOM**: establezca esta opción en **Sí**.</span><span class="sxs-lookup"><span data-stu-id="7102c-121">**Confirm Bing Maps usage for DOM** – Set this option to **Yes**.</span></span>


        > [!NOTE]
        > <span data-ttu-id="7102c-122">Puede establecer esta opción en **Sí** solo si la opción **Habilitar Mapas de Bing** de la pestaña **Mapas de Bing** de la página **Parámetros compartidos de Commerce** (**Retail y Commerce \> Configuración de Headquarters \> Parámetros \> Parámetros compartidos de Commerce**) también está establecida en **Sí**, y si se ha especificado una clave válida en el campo **Clave de Mapas de Bing**.</span><span class="sxs-lookup"><span data-stu-id="7102c-122">You can set this option to **Yes** only if the **Enable Bing Maps** option on the **Bing Maps** tab of the **Commerce shared parameters** page (**Retail and Commerce \> Headquarters setup \> Parameters \> Commerce shared parameters**) is also set to **Yes**, and if a valid key is entered in the **Bing Maps key** field.</span></span>
        >
        > <span data-ttu-id="7102c-123">El portal [Centro de desarrollo de Mapas de Bing](https://www.bingmapsportal.com/) le permite restringir el acceso a sus claves de API de Mapas de Bing a un conjunto de dominios que especifique.</span><span class="sxs-lookup"><span data-stu-id="7102c-123">The [Bing Maps Dev Center](https://www.bingmapsportal.com/) portal allows you to restrict access on your Bing Maps API keys to a set of domains that you specify.</span></span> <span data-ttu-id="7102c-124">Con esta característica, los clientes pueden definir un conjunto estricto de valores de referencia o rangos de direcciones IP frente a los que se validará la clave.</span><span class="sxs-lookup"><span data-stu-id="7102c-124">With this feature, customers can define a strict set of referrer values or IP address ranges that the key will be validated against.</span></span> <span data-ttu-id="7102c-125">Las solicitudes que se originan en su lista de permitidos se procesarán normalmente, mientras que las solicitudes de fuera de su lista devolverán una respuesta de acceso denegado.</span><span class="sxs-lookup"><span data-stu-id="7102c-125">Requests originating from your allow list will process normally, while requests from outside of your list will return an access denied response.</span></span> <span data-ttu-id="7102c-126">La adición de seguridad de dominio a su clave de API es opcional y las claves que se dejan como están seguirán funcionando.</span><span class="sxs-lookup"><span data-stu-id="7102c-126">Adding domain security to your API key is optional and keys left as-is will continue to function.</span></span> <span data-ttu-id="7102c-127">La lista de permitidos para una clave es independiente del resto de sus claves, lo que le permite tener reglas distintas para cada una de sus claves.</span><span class="sxs-lookup"><span data-stu-id="7102c-127">The allow list for a key is independent from all of your other keys, enabling you to have distinct rules for each of your keys.</span></span> <span data-ttu-id="7102c-128">La administración de pedidos distribuida no admite la configuración de propiedades referidas al dominio.</span><span class="sxs-lookup"><span data-stu-id="7102c-128">Distributed Order Management does not support the setting up of domain-referred properties.</span></span>


    - <span data-ttu-id="7102c-129">**Período de retención en días**: especifique cuánto tiempo se conservarán en el sistema los planes de cumplimiento que las ejecuciones de DOM generan.</span><span class="sxs-lookup"><span data-stu-id="7102c-129">**Retention period in days** – Specify how long the fulfillment plans that DOM runs generate are kept in the system.</span></span> <span data-ttu-id="7102c-130">El trabajo por lotes **Configuración de trabajo de eliminación de datos de cumplimiento de DOM** eliminará cualquier plan de cumplimiento que sea más antiguo que el número de días especificado aquí.</span><span class="sxs-lookup"><span data-stu-id="7102c-130">The **DOM fulfillment data deletion job setup** batch job will delete any fulfillment plan that is older than the number of days that you specify here.</span></span>
    - <span data-ttu-id="7102c-131">**Período de rechazo (en días)**: especifique el tiempo que debe transcurrir antes de que una línea de pedido rechazada se pueda asignar a la misma ubicación.</span><span class="sxs-lookup"><span data-stu-id="7102c-131">**Rejection period (in days)** – Specify how much time must pass before a rejected order line can be assigned to the same location.</span></span>

5. <span data-ttu-id="7102c-132">En la pestaña **Solucionador**, establezca los siguientes valores:</span><span class="sxs-lookup"><span data-stu-id="7102c-132">On the **Solver** tab, set the following values:</span></span>

    - <span data-ttu-id="7102c-133">**Número máximo de reintentos de cumplimiento**: especifique cuántas veces intentará el motor de DOM gestionar una línea de pedido para una ubicación.</span><span class="sxs-lookup"><span data-stu-id="7102c-133">**Max auto-fulfillment attempts** – Specify how many times the DOM engine will try to broker an order line to a location.</span></span> <span data-ttu-id="7102c-134">Si el motor de DOM no puede gestionar una línea de pedido para una ubicación en el número específico de intentos, marcará la línea de pedido como una excepción.</span><span class="sxs-lookup"><span data-stu-id="7102c-134">If the DOM engine can't broker an order line to a location in the specified number of attempts, it will flag the order line as an exception.</span></span> <span data-ttu-id="7102c-135">Después omitirá esa línea en futuras ejecuciones hasta que se restablezca el estado manualmente.</span><span class="sxs-lookup"><span data-stu-id="7102c-135">It will then skip that line in future runs until the status is manually reset.</span></span>
    - <span data-ttu-id="7102c-136">**Radio de región de tienda local**: especifique un valor.</span><span class="sxs-lookup"><span data-stu-id="7102c-136">**Local store region radius** – Enter a value.</span></span> <span data-ttu-id="7102c-137">Este campo ayuda a determinar cómo se agrupan las ubicaciones y se consideran iguales en términos de distancia.</span><span class="sxs-lookup"><span data-stu-id="7102c-137">This field helps determine how locations are grouped and considered equal in terms of distance.</span></span> <span data-ttu-id="7102c-138">Por ejemplo, si especifica **100**, cada tienda o centro de distribución que esté dentro de un intervalo de 160 km de la dirección de cumplimiento se considerará igual en términos de distancia.</span><span class="sxs-lookup"><span data-stu-id="7102c-138">For example, if you enter **100**, every store or distribution center within a 100-mile radius of the fulfillment address is considered equal in terms of distance.</span></span>
    - <span data-ttu-id="7102c-139">**Tipo de solucionador**: seleccione un valor.</span><span class="sxs-lookup"><span data-stu-id="7102c-139">**Solver type** – Select a value.</span></span> <span data-ttu-id="7102c-140">Retail incluye dos tipos de solucionador con Commerce: **Solucionador de producción** y **Solucionador simplificado**.</span><span class="sxs-lookup"><span data-stu-id="7102c-140">Two solver types are released with Commerce: **Production Solver** and **Simplified Solver**.</span></span> <span data-ttu-id="7102c-141">Para todos los equipos que ejecuten DOM (es decir, todos los servidores que formen parte del grupo DOMBatch) hay que seleccionar **Solucionador de producción**.</span><span class="sxs-lookup"><span data-stu-id="7102c-141">For all machines that will run DOM (that is, all servers that are part of the DOMBatch group), **Production Solver** must be selected.</span></span> <span data-ttu-id="7102c-142">El Solucionador de producción requiere la clave de licencia especial que, de forma predeterminada, se otorga e implementa en los entornos de producción.</span><span class="sxs-lookup"><span data-stu-id="7102c-142">The Production Solver requires the special license key that, by default, is licensed and deployed in production environments.</span></span> <span data-ttu-id="7102c-143">Para los entornos que no sean de producción esta clave de licencia debe implementarse manualmente.</span><span class="sxs-lookup"><span data-stu-id="7102c-143">For non-production environments, this license key must be manually deployed.</span></span> <span data-ttu-id="7102c-144">Siga estos pasos para implementar manualmente la clave de licencia:</span><span class="sxs-lookup"><span data-stu-id="7102c-144">To manually deploy the license key, follow these steps:</span></span>

        1. <span data-ttu-id="7102c-145">En Microsoft Dynamics Lifecycle Services, abra la Biblioteca de activos compartidos, seleccione **Modelo** como tipo de activo y descargue el archivo **Licencia de DOM**.</span><span class="sxs-lookup"><span data-stu-id="7102c-145">In Microsoft Dynamics Lifecycle Services, open the Shared asset library, select **Model** as the asset type, and download the **DOM license** file.</span></span>
        1. <span data-ttu-id="7102c-146">Inicie el Administrador de Microsoft Internet Information Services (IIS), haga clic con el botón derecho en **Sitio web de AOSService** y, a continuación, seleccione **Explorar**.</span><span class="sxs-lookup"><span data-stu-id="7102c-146">Start Microsoft Internet Information Services (IIS) Manager, right-click **AOSService website**, and then select **Explore**.</span></span> <span data-ttu-id="7102c-147">Se abre una ventana del Explorador de Windows en **\<AOS service root\>\\webroot**.</span><span class="sxs-lookup"><span data-stu-id="7102c-147">A Windows Explorer window is opened at **\<AOS service root\>\\webroot**.</span></span> <span data-ttu-id="7102c-148">Anote la ruta de acceso a \<AOS Service root\>. La va a utilizar en el paso siguiente.</span><span class="sxs-lookup"><span data-stu-id="7102c-148">Make a note of the \<AOS Service root\> path, because you will use it in the next step.</span></span>
        1. <span data-ttu-id="7102c-149">Copie el archivo de configuración en el directorio **\<AOS Service root\>\\PackagesLocalDirectory\\DOM\\bin**.</span><span class="sxs-lookup"><span data-stu-id="7102c-149">Copy the configuration file in the **\<AOS Service root\>\\PackagesLocalDirectory\\DOM\\bin** directory.</span></span>
        1. <span data-ttu-id="7102c-150">Vaya al cliente de Headquarters y abra la página **Parámetros de DOM**.</span><span class="sxs-lookup"><span data-stu-id="7102c-150">Go to the Headquarters client, and open the **DOM parameters** page.</span></span> <span data-ttu-id="7102c-151">En la pestaña **Solucionador**, en el campo **Tipo de solucionador**, seleccione **Solucionador de producción** y confirme que no aparece ningún mensaje de error.</span><span class="sxs-lookup"><span data-stu-id="7102c-151">On the **Solver** tab, in the **Solver type** field, select **Production solver**, and confirm that no error messages appear.</span></span>


        > [!NOTE]
        > <span data-ttu-id="7102c-152">El Solucionador simplificado se proporciona para que los minoristas puedan probar la característica DOM sin tener que implementar la licencia especial.</span><span class="sxs-lookup"><span data-stu-id="7102c-152">The Simplified Solver is provided so that retailers can try out the DOM feature without having to deploy the special license.</span></span> <span data-ttu-id="7102c-153">Las organizaciones no deben usar el Solucionador simplificado en entornos de producción.</span><span class="sxs-lookup"><span data-stu-id="7102c-153">Organizations should not use the Simplified Solver in production environments.</span></span>
        >
        > <span data-ttu-id="7102c-154">El Solucionador de producción mejora el rendimiento (como el número de pedidos y líneas de pedido que se pueden manejar en una ejecución) y la convergencia de resultados (dado que un lote de pedidos puede no producir el mejor resultado en algunas situaciones).</span><span class="sxs-lookup"><span data-stu-id="7102c-154">The Production Solver improves performance (such as the number of orders and order lines that can be handled in a run) and convergence of results (since a batch of orders might not yield the best result in some scenarios).</span></span> <span data-ttu-id="7102c-155">Algunas reglas, como **Órdenes parciales** y **Número máximo de ubicaciones** requieren del Solucionador de producción.</span><span class="sxs-lookup"><span data-stu-id="7102c-155">Some rules like the **Partial orders** rule and the **Maximum number of locations** rule require Production Solver.</span></span>
     
6. <span data-ttu-id="7102c-156">Vuelva a **Retail y Commerce \> Administración de pedidos distribuida \> Configuración \> Parámetros de DOM**.</span><span class="sxs-lookup"><span data-stu-id="7102c-156">Go back to **Retail and Commerce \> Distributed order management \> Setup \> DOM parameters**.</span></span>
7. <span data-ttu-id="7102c-157">En la pestaña **Secuencias numéricas**, asigne las secuencias numéricas necesarias a las distintas entidades de DOM.</span><span class="sxs-lookup"><span data-stu-id="7102c-157">On the **Number sequences** tab, assign the required number sequences to the various DOM entities.</span></span>

    > [!NOTE]
    > <span data-ttu-id="7102c-158">Para poder asignar secuencias numéricas a las entidades, deben definirse en la página **Secuencias numéricas** (**Administración de la organización \> Secuencias numéricas \> Secuencias numéricas**).</span><span class="sxs-lookup"><span data-stu-id="7102c-158">Before the number sequences can be assigned to the entities, they must be defined on the **Number sequences** page (**Organization administration \> Number sequences \> Number sequences**).</span></span>

8. <span data-ttu-id="7102c-159">La funcionalidad de DOM permite definir diversos tipos de reglas de DOM, y las organizaciones pueden configurar varias reglas en función de sus necesidades empresariales.</span><span class="sxs-lookup"><span data-stu-id="7102c-159">The DOM feature supports the definition of various types of DOM rules, and organizations can configure multiple rules, depending on their business needs.</span></span> <span data-ttu-id="7102c-160">Se pueden definir reglas de DOM para un grupo de ubicaciones o para ubicaciones individuales, y para una categoría de productos, un producto o una variante específicos.</span><span class="sxs-lookup"><span data-stu-id="7102c-160">DOM rules can be defined for a group of locations or individual locations, and for a specific product category, product, or variant.</span></span> <span data-ttu-id="7102c-161">Para crear la agrupación de ubicaciones que se deben usar para las reglas de DOM, siga estos pasos:</span><span class="sxs-lookup"><span data-stu-id="7102c-161">To create the grouping of locations that must be used for the DOM rules, follow these steps:</span></span>

    1. <span data-ttu-id="7102c-162">Vaya a **Retail y Commerce \> Configuración de canal \> Grupos de cumplimiento**.</span><span class="sxs-lookup"><span data-stu-id="7102c-162">Go to **Retail and Commerce \> Channel setup \> Fulfillment groups**.</span></span>
    2. <span data-ttu-id="7102c-163">Seleccione **Nuevo** y especifique un nombre y una descripción del nuevo grupo.</span><span class="sxs-lookup"><span data-stu-id="7102c-163">Select **New**, and enter a name and description for the new group.</span></span>
    3. <span data-ttu-id="7102c-164">Seleccione **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="7102c-164">Select **Save**.</span></span>
    4. <span data-ttu-id="7102c-165">Seleccione **Agregar línea** para agregar una sola ubicación al grupo.</span><span class="sxs-lookup"><span data-stu-id="7102c-165">Select **Add line** to add a single location to the group.</span></span> <span data-ttu-id="7102c-166">Como alternativa, seleccione **Agregar líneas** para agregar distintas ubicaciones.</span><span class="sxs-lookup"><span data-stu-id="7102c-166">Alternatively, select **Add lines** to add multiple locations.</span></span>
    
    > [!NOTE]
    > <span data-ttu-id="7102c-167">En Commerce versión 10.0.12 y posterior, la **Capacidad para especificar ubicaciones como 'Envío' o 'Recogida' habilitada dentro del grupo de cumplimiento** debe estar habilitada en el espacio de trabajo **Administración de características**.</span><span class="sxs-lookup"><span data-stu-id="7102c-167">In Commerce version 10.0.12 and higher, **Ability to specify locations as 'Shipping' or 'Pickup' enabled within Fulfillment group** must be enabled in the **Feature Management** workspace.</span></span>
    >
    > <span data-ttu-id="7102c-168">Esta característica agrega nuevas configuraciones en la página **Grupo de cumplimiento** para que pueda definir si el almacén se puede utilizar para envíos o si la combinación de almacén/tienda se puede utilizar para envíos, recogidas o ambos.</span><span class="sxs-lookup"><span data-stu-id="7102c-168">This feature add new configurations on the **Fulfillment group** page so you can define if the warehouse can be used for shipping or if the warehouse/store combination can be used for shipping, pickup, or both.</span></span> 
    >
    > <span data-ttu-id="7102c-169">Si habilita la característica, se actualizarán las opciones disponibles para la selección de ubicación al crear pedidos de recogida o envío en PDV.</span><span class="sxs-lookup"><span data-stu-id="7102c-169">If you enable the feature, the options available for location selection when you create pickup or shipment orders in POS will be updated.</span></span>
    >
    > <span data-ttu-id="7102c-170">Al habilitar la característica también se actualizan páginas en PDV cuando se seleccionan las operaciones "enviar todo" o "enviar selección".</span><span class="sxs-lookup"><span data-stu-id="7102c-170">Enabling the feature also results in updated pages in POS when the "ship all" or "ship selected" operations are selected.</span></span>

9. <span data-ttu-id="7102c-171">Para definir reglas, vaya a **Retail y Commerce \> Gestión de pedidos distribuida \> Configuración \> Administrar reglas**.</span><span class="sxs-lookup"><span data-stu-id="7102c-171">To define rules, go to **Retail and Commerce \> Distributed order management \> Setup \> Manage rules**.</span></span> <span data-ttu-id="7102c-172">Actualmente se admiten las siguientes reglas de DOM:</span><span class="sxs-lookup"><span data-stu-id="7102c-172">The following DOM rules are currently supported:</span></span>

    - <span data-ttu-id="7102c-173">**Regla de inventario mínimo**: este tipo de regla permite a las organizaciones "proteger" una cantidad específica de un producto para propósitos distintos al cumplimiento de pedidos.</span><span class="sxs-lookup"><span data-stu-id="7102c-173">**Minimum inventory rule** – This rule type lets organizations "ring fence" a specific quantity of a product for purposes other than order fulfillment.</span></span> <span data-ttu-id="7102c-174">Por ejemplo, las organizaciones pueden preferir que DOM no considere todo el inventario disponible en una tienda para el cumplimiento de pedidos.</span><span class="sxs-lookup"><span data-stu-id="7102c-174">For example, organizations might not want DOM to consider all the inventory that is available in a store for order fulfillment.</span></span> <span data-ttu-id="7102c-175">En lugar de ello, pueden preferir que reserven parte del inventario para los clientes que acudan a la tienda.</span><span class="sxs-lookup"><span data-stu-id="7102c-175">Instead, they might want to reserve some inventory for walk-in customers.</span></span> <span data-ttu-id="7102c-176">Cuando se utiliza este tipo de regla, puede definir el inventario mínimo que se debe conservar para una categoría de productos, un producto individual o una variante del producto, por ubicación o por grupo de ubicaciones.</span><span class="sxs-lookup"><span data-stu-id="7102c-176">When this rule type is used, you can define the minimum inventory to keep for a category of products, an individual product, or a product variant per location or group of locations.</span></span>
    - <span data-ttu-id="7102c-177">**Regla de prioridad de ubicación de cumplimiento**: este tipo de regla permite a las organizaciones definir una jerarquía de ubicaciones para establecer la prioridad que debe tener en cuenta el motor de DOM cuando intente identificar ubicaciones de cumplimiento para productos concretos.</span><span class="sxs-lookup"><span data-stu-id="7102c-177">**Fulfillment location priority rule** – This rule type lets organizations define a hierarchy of locations to establish the priority that the DOM engine considers when it tries to identify fulfillment locations for specific products.</span></span> <span data-ttu-id="7102c-178">El intervalo válido de prioridades es de 1 a 10, donde 1 es la máxima prioridad y 10 es la prioridad más baja.</span><span class="sxs-lookup"><span data-stu-id="7102c-178">The valid range of priorities is 1 through 10, where 1 is the highest priority and 10 is the lowest priority.</span></span> <span data-ttu-id="7102c-179">Las ubicaciones que tienen mayor prioridad se consideran antes que las ubicaciones de prioridad más baja.</span><span class="sxs-lookup"><span data-stu-id="7102c-179">Locations that have higher priority are considered before locations that have lower priority.</span></span> <span data-ttu-id="7102c-180">Si la regla se define como una regla de restricción completa, los pedidos se gestionarán solo para las ubicaciones que tengan una prioridad definida.</span><span class="sxs-lookup"><span data-stu-id="7102c-180">If the rule is defined as a hard constraint rule, orders are brokered only to locations that priorities are defined for.</span></span>
    - <span data-ttu-id="7102c-181">**Regla de pedidos parciales**: la regla permite a las organizaciones definir si un pedido o las líneas de pedido se pueden cumplir parcialmente.</span><span class="sxs-lookup"><span data-stu-id="7102c-181">**Partial orders rule** – This rule lets organizations define whether an order or order lines can be partially fulfilled.</span></span> <span data-ttu-id="7102c-182">Están disponibles los siguientes parámetros:</span><span class="sxs-lookup"><span data-stu-id="7102c-182">The following parameters are available:</span></span>

        - <span data-ttu-id="7102c-183">**¿Desea completar pedidos parciales?**</span><span class="sxs-lookup"><span data-stu-id="7102c-183">**Fulfill partial orders?**</span></span> <span data-ttu-id="7102c-184">– Si esta opción se establece en **Sí**, DOM puede cumplir solo una parte de la cantidad en una línea de pedido.</span><span class="sxs-lookup"><span data-stu-id="7102c-184">– If this option is set to **Yes**, DOM can fulfill only part of the quantity on an order line.</span></span> <span data-ttu-id="7102c-185">Este cumplimiento parcial se logra dividiendo la línea de pedido.</span><span class="sxs-lookup"><span data-stu-id="7102c-185">This partial fulfillment is achieved by splitting the order line.</span></span>
        - <span data-ttu-id="7102c-186">**¿Desea completar líneas parciales?**</span><span class="sxs-lookup"><span data-stu-id="7102c-186">**Fulfill partial lines?**</span></span> <span data-ttu-id="7102c-187">– Si esta opción se establece en **Sí**, DOM puede cumplir una cantidad parcial de líneas de pedido.</span><span class="sxs-lookup"><span data-stu-id="7102c-187">– If this option is set to **Yes**, DOM can fulfill a partial quantity of order lines.</span></span> <span data-ttu-id="7102c-188">Este cumplimiento parcial se logra dividiendo la línea de pedido.</span><span class="sxs-lookup"><span data-stu-id="7102c-188">This partial fulfillment is achieved by splitting the order line.</span></span>
        - <span data-ttu-id="7102c-189">**¿Desea completar el pedido desde una sola ubicación?**: si esta opción se establece en **Sí**, DOM se asegura de cumplir todas las líneas de un pedido desde una sola ubicación.</span><span class="sxs-lookup"><span data-stu-id="7102c-189">**Fulfill order from one location only** – If this option is set to **Yes**, DOM makes sure that all lines on an order are fulfilled from a single location.</span></span>


        <span data-ttu-id="7102c-190">En la tabla siguiente se explica el comportamiento que se produce cuando se define una combinación de estos parámetros.</span><span class="sxs-lookup"><span data-stu-id="7102c-190">The following table explains the behavior when a combination of these parameters is defined.</span></span>

        | <span data-ttu-id="7102c-191">Número de combinación</span><span class="sxs-lookup"><span data-stu-id="7102c-191">Combination number</span></span> | <span data-ttu-id="7102c-192">Completar pedidos parciales</span><span class="sxs-lookup"><span data-stu-id="7102c-192">Fulfill partial orders</span></span> | <span data-ttu-id="7102c-193">Completar líneas parciales</span><span class="sxs-lookup"><span data-stu-id="7102c-193">Fulfill partial lines</span></span> | <span data-ttu-id="7102c-194">Completar el pedido desde una sola ubicación</span><span class="sxs-lookup"><span data-stu-id="7102c-194">Fulfill order from one location only</span></span> | <span data-ttu-id="7102c-195">Descripción</span><span class="sxs-lookup"><span data-stu-id="7102c-195">Description</span></span> |
        |------|------------------------|-----------------------|--------------------------------------|-------------|
        | <span data-ttu-id="7102c-196">1</span><span class="sxs-lookup"><span data-stu-id="7102c-196">1</span></span>    | <span data-ttu-id="7102c-197">Sí</span><span class="sxs-lookup"><span data-stu-id="7102c-197">Yes</span></span>                    | <span data-ttu-id="7102c-198">Sí</span><span class="sxs-lookup"><span data-stu-id="7102c-198">Yes</span></span>                   | <span data-ttu-id="7102c-199">Sí</span><span class="sxs-lookup"><span data-stu-id="7102c-199">Yes</span></span>                                  | <span data-ttu-id="7102c-200">Se pueden cumplir unas cuantas líneas del pedido y se pueden cumplir líneas individuales parcialmente, pero todas las líneas deben ser de una misma ubicación en una instancia de la ejecución de DOM.</span><span class="sxs-lookup"><span data-stu-id="7102c-200">A few lines of the order can be fulfilled, and individual lines can be partially fulfilled, but all the lines must be from the same location in an instance of the DOM run.</span></span> <span data-ttu-id="7102c-201">(Esta combinación no se admite actualmente).</span><span class="sxs-lookup"><span data-stu-id="7102c-201">(This combination isn't currently supported.)</span></span> |
        | <span data-ttu-id="7102c-202">2</span><span class="sxs-lookup"><span data-stu-id="7102c-202">2</span></span>    | <span data-ttu-id="7102c-203">Sí</span><span class="sxs-lookup"><span data-stu-id="7102c-203">Yes</span></span>                    | <span data-ttu-id="7102c-204">No</span><span class="sxs-lookup"><span data-stu-id="7102c-204">No</span></span>                    | <span data-ttu-id="7102c-205">Sí</span><span class="sxs-lookup"><span data-stu-id="7102c-205">Yes</span></span>                                  | <span data-ttu-id="7102c-206">Se pueden cumplir unas cuantas líneas del pedido, pero no se pueden cumplir líneas individuales parcialmente, y todas las líneas cumplidas deben ser de una misma ubicación en una instancia de la ejecución de DOM.</span><span class="sxs-lookup"><span data-stu-id="7102c-206">A few lines of the order can be fulfilled, but individual lines can't be partially fulfilled, and all the fulfilled lines must be from the same location in an instance of the DOM run.</span></span> <span data-ttu-id="7102c-207">(Esta combinación no se admite actualmente).</span><span class="sxs-lookup"><span data-stu-id="7102c-207">(This combination isn't currently supported.)</span></span> |
        | <span data-ttu-id="7102c-208">3</span><span class="sxs-lookup"><span data-stu-id="7102c-208">3</span></span>    | <span data-ttu-id="7102c-209">Sí</span><span class="sxs-lookup"><span data-stu-id="7102c-209">Yes</span></span>                    | <span data-ttu-id="7102c-210">Sí</span><span class="sxs-lookup"><span data-stu-id="7102c-210">Yes</span></span>                   | <span data-ttu-id="7102c-211">No</span><span class="sxs-lookup"><span data-stu-id="7102c-211">No</span></span>                                   | <span data-ttu-id="7102c-212">Se pueden cumplir unas cuantas líneas del pedido, pero no se pueden cumplir líneas individuales parcialmente, y cada línea se puede cumplir desde más de una ubicación en una instancia de la ejecución de DOM.</span><span class="sxs-lookup"><span data-stu-id="7102c-212">A few lines of the order can be fulfilled, individual lines can be partially fulfilled, and each line can be fulfilled from more than one location in an instance of the DOM run.</span></span> |
        | <span data-ttu-id="7102c-213">4\*</span><span class="sxs-lookup"><span data-stu-id="7102c-213">4\*</span></span>  | <span data-ttu-id="7102c-214">No</span><span class="sxs-lookup"><span data-stu-id="7102c-214">No</span></span>                     | <span data-ttu-id="7102c-215">No aplicable</span><span class="sxs-lookup"><span data-stu-id="7102c-215">Not applicable</span></span>        | <span data-ttu-id="7102c-216">No</span><span class="sxs-lookup"><span data-stu-id="7102c-216">No</span></span>                                   | <span data-ttu-id="7102c-217">Deben cumplirse todas las líneas de pedido, las líneas individuales no se pueden cumplir parcialmente y cada línea de pedido se puede cumplir desde una ubicación diferente.</span><span class="sxs-lookup"><span data-stu-id="7102c-217">All order lines must be fulfilled, individual lines can't be partially fulfilled, and each order line can be fulfilled from a different location.</span></span> |
        | <span data-ttu-id="7102c-218">5\*</span><span class="sxs-lookup"><span data-stu-id="7102c-218">5\*</span></span>  | <span data-ttu-id="7102c-219">No</span><span class="sxs-lookup"><span data-stu-id="7102c-219">No</span></span>                     | <span data-ttu-id="7102c-220">No aplicable</span><span class="sxs-lookup"><span data-stu-id="7102c-220">Not applicable</span></span>        | <span data-ttu-id="7102c-221">Sí</span><span class="sxs-lookup"><span data-stu-id="7102c-221">Yes</span></span>                                  | <span data-ttu-id="7102c-222">Deben cumplirse todas las líneas de pedido, las líneas individuales no se pueden cumplir parcialmente y todas las líneas de pedido se pueden entregar desde una sola ubicación.</span><span class="sxs-lookup"><span data-stu-id="7102c-222">All order lines must be fulfilled, individual lines can't be partially fulfilled, and all the order lines can be delivered from one location only.</span></span> |
        | <span data-ttu-id="7102c-223">6\*</span><span class="sxs-lookup"><span data-stu-id="7102c-223">6\*</span></span>  | <span data-ttu-id="7102c-224">No</span><span class="sxs-lookup"><span data-stu-id="7102c-224">No</span></span>                     | <span data-ttu-id="7102c-225">No aplicable</span><span class="sxs-lookup"><span data-stu-id="7102c-225">Not applicable</span></span>        | <span data-ttu-id="7102c-226">No</span><span class="sxs-lookup"><span data-stu-id="7102c-226">No</span></span>                                   | <span data-ttu-id="7102c-227">Esta combinación funciona como la combinación 4, ya que **Completar líneas parciales** no se puede establecer en **Sí** cuando **Completar pedidos parciales** está establecida en **No**.</span><span class="sxs-lookup"><span data-stu-id="7102c-227">This combination works like combination 4, because **Fulfill partial lines** can't be set to **Yes** when **Fulfill partial orders** is set to **No**.</span></span> |
        | <span data-ttu-id="7102c-228">7\*</span><span class="sxs-lookup"><span data-stu-id="7102c-228">7\*</span></span>  | <span data-ttu-id="7102c-229">No</span><span class="sxs-lookup"><span data-stu-id="7102c-229">No</span></span>                     | <span data-ttu-id="7102c-230">No aplicable</span><span class="sxs-lookup"><span data-stu-id="7102c-230">Not applicable</span></span>        | <span data-ttu-id="7102c-231">Sí</span><span class="sxs-lookup"><span data-stu-id="7102c-231">Yes</span></span>                                  | <span data-ttu-id="7102c-232">Esta combinación funciona como la combinación 5, ya que **Completar líneas parciales** no se puede establecer en **Sí** cuando **Completar pedidos parciales** está establecida en **No**.</span><span class="sxs-lookup"><span data-stu-id="7102c-232">This combination works like combination 5, because **Fulfill partial lines** can't be **Yes** when **Fulfill partial orders** is **No**.</span></span> |
        | <span data-ttu-id="7102c-233">8</span><span class="sxs-lookup"><span data-stu-id="7102c-233">8</span></span>    | <span data-ttu-id="7102c-234">Sí</span><span class="sxs-lookup"><span data-stu-id="7102c-234">Yes</span></span>                    | <span data-ttu-id="7102c-235">No</span><span class="sxs-lookup"><span data-stu-id="7102c-235">No</span></span>                    | <span data-ttu-id="7102c-236">No</span><span class="sxs-lookup"><span data-stu-id="7102c-236">No</span></span>                                   | <span data-ttu-id="7102c-237">Se pueden cumplir unas cuantas líneas del pedido, pero no se pueden cumplir líneas individuales parcialmente, y las distintas líneas de pedido se pueden cumplir desde más de una ubicación en una instancia de la ejecución de DOM.</span><span class="sxs-lookup"><span data-stu-id="7102c-237">A few lines of the order can be fulfilled, but individual lines can't be partially fulfilled, and the various order lines can be fulfilled from more than one location in an instance of the DOM run.</span></span> |
        | <span data-ttu-id="7102c-238">9\*</span><span class="sxs-lookup"><span data-stu-id="7102c-238">9\*</span></span>  | <span data-ttu-id="7102c-239">No</span><span class="sxs-lookup"><span data-stu-id="7102c-239">No</span></span>                     | <span data-ttu-id="7102c-240">No aplicable</span><span class="sxs-lookup"><span data-stu-id="7102c-240">Not applicable</span></span>        | <span data-ttu-id="7102c-241">Sí</span><span class="sxs-lookup"><span data-stu-id="7102c-241">Yes</span></span>                                  | <span data-ttu-id="7102c-242">Deben cumplirse todas las líneas de pedido, y todas desde una sola ubicación.</span><span class="sxs-lookup"><span data-stu-id="7102c-242">All order lines must be fulfilled, and all the order lines must be fulfilled from one location only.</span></span> |

        <span data-ttu-id="7102c-243">\* Si **Completar pedidos parciales** está establecida en **No**, siempre se considerará que **Completar líneas parciales** está establecida en **No**, independientemente de cuál sea su valor real.</span><span class="sxs-lookup"><span data-stu-id="7102c-243">\* If **Fulfill partial orders** is set to **No**, **Fulfill partial lines** is always considered to be set to **No**, regardless of how it's actually set.</span></span>

        > [!NOTE]
        > <span data-ttu-id="7102c-244">En Retail versión 10.0.5, el parámetro **Completar el pedido desde una sola ubicación** se cambió a **Ubicaciones de cumplimiento máximas**.</span><span class="sxs-lookup"><span data-stu-id="7102c-244">In Retail version 10.0.5, the parameter **Fulfill order from one location only** was changed to **Maximum fulfilling locations**.</span></span> <span data-ttu-id="7102c-245">En lugar de permitir que un usuario configure si los pedidos se pueden completar a partir de una ubicación únicamente o completar desde las máximas ubicaciones posibles, los usuarios pueden especificar ahora si el cumplimiento puede ser de un conjunto de ubicaciones determinado (hasta un máximo de 5) o de tantas ubicaciones como sea posible.</span><span class="sxs-lookup"><span data-stu-id="7102c-245">Instead of allowing a user to configure whether orders can be fulfilled from one location only or fulfilled from as many locations as it can be, users can now specify whether the fulfillment can be from a definite set of locations (up to 5) or from as many locations as it can be.</span></span> <span data-ttu-id="7102c-246">Esto ofrece una mayor flexibilidad en cuanto al número de ubicaciones desde las que se puede completar el pedido.</span><span class="sxs-lookup"><span data-stu-id="7102c-246">This provides more flexibility in terms of how many locations the order can be fulfilled from.</span></span> <span data-ttu-id="7102c-247">Esta regla solo funciona con el Solucionador de problemas.</span><span class="sxs-lookup"><span data-stu-id="7102c-247">This rule only works with Production Solver.</span></span> 

   - <span data-ttu-id="7102c-248">**Regla de ubicación de cumplimiento sin conexión**: esta regla permite a las organizaciones especificar una ubicación o un grupo de ubicaciones como sin conexión o no disponibles para DOM, de manera que no se les puedan asignar pedidos a esas ubicaciones para cumplimiento.</span><span class="sxs-lookup"><span data-stu-id="7102c-248">**Offline fulfillment location rule** – This rule lets organizations specify a location or group of locations as offline or unavailable to DOM, so that orders can't be assigned to those locations for fulfillment.</span></span>
    - <span data-ttu-id="7102c-249">**Regla de número máximo de rechazos**: la regla permite a las organizaciones definir un umbral de rechazos.</span><span class="sxs-lookup"><span data-stu-id="7102c-249">**Maximum rejects rule** – This rule lets organizations define a threshold for rejections.</span></span> <span data-ttu-id="7102c-250">Cuando se alcance el umbral, el procesador de DOM marcará un pedido o una línea de pedido como una excepción y los excluirá del procesamiento posterior.</span><span class="sxs-lookup"><span data-stu-id="7102c-250">When the threshold is reached, the DOM processor will mark an order or order line as an exception, and exclude it from further processing.</span></span>

        <span data-ttu-id="7102c-251">Después de que se hayan asignado líneas de pedido a una ubicación, la ubicación puede rechazar una línea de pedido asignada si no la puede cumplir por alguna razón.</span><span class="sxs-lookup"><span data-stu-id="7102c-251">After order lines are assigned to a location, the location can reject an assigned order line, because it might not be able to fulfill that line for some reasons.</span></span> <span data-ttu-id="7102c-252">Las líneas rechazadas se marcan como excepciones y se colocan en un grupo para procesarlas en la siguiente ejecución.</span><span class="sxs-lookup"><span data-stu-id="7102c-252">Rejected lines are marked as an exception and put back into the pool for processing in the next run.</span></span> <span data-ttu-id="7102c-253">Durante la siguiente ejecución, DOM intentará asignar la línea rechazada a otra ubicación.</span><span class="sxs-lookup"><span data-stu-id="7102c-253">During the next run, DOM will try to assign the rejected line to a different location.</span></span> <span data-ttu-id="7102c-254">La nueva ubicación también puede rechazar la línea de pedido asignada.</span><span class="sxs-lookup"><span data-stu-id="7102c-254">The new location can also reject the assigned order line.</span></span> <span data-ttu-id="7102c-255">Este ciclo de asignación y rechazo puede repetirse varias veces.</span><span class="sxs-lookup"><span data-stu-id="7102c-255">This cycle of assignment and rejection can occur multiple times.</span></span> <span data-ttu-id="7102c-256">Cuando el recuento de rechazos alcanza el umbral definido, DOM marcará la línea de pedido como una excepción permanente y no volverá a seleccionar esa línea para su asignación.</span><span class="sxs-lookup"><span data-stu-id="7102c-256">When the rejection count hits the threshold that is defined, DOM will mark the order line as a permanent exception and won't pick the line for assignment again.</span></span> <span data-ttu-id="7102c-257">DOM solo volverá a considerar la línea de pedido para su reasignación si un usuario restablece manualmente el estado de la línea de pedido.</span><span class="sxs-lookup"><span data-stu-id="7102c-257">DOM will consider the order line again for reassignment only if a user manually resets the status of the order line.</span></span>

   - <span data-ttu-id="7102c-258">**Regla de distancia máxima**: esta regla permite a las organizaciones definir la distancia máxima a la que debe estar una ubicación o un grupo de ubicaciones para cumplir el pedido.</span><span class="sxs-lookup"><span data-stu-id="7102c-258">**Maximum distance rule** – This rule lets organizations define the maximum distance that a location or group of locations can be to fulfill the order.</span></span> <span data-ttu-id="7102c-259">Si se definen para una ubicación reglas de distancia máxima que se superponen, DOM aplicará a dicha ubicación la distancia máxima definida que sea menor.</span><span class="sxs-lookup"><span data-stu-id="7102c-259">If overlapping maximum distance rules are defined for a location, DOM will apply the lowest maximum distance that is defined for that location.</span></span>
    - <span data-ttu-id="7102c-260">**Regla de número máximo de pedidos**: esta regla permite a las organizaciones definir el número máximo de pedidos que una ubicación o un grupo de ubicaciones pueden procesar en un día de calendario.</span><span class="sxs-lookup"><span data-stu-id="7102c-260">**Maximum orders rule** – This rule lets organizations define the maximum number of orders that a location or group of locations can process during a calendar day.</span></span> <span data-ttu-id="7102c-261">Si el número máximo de pedidos se asigna a una ubicación en un solo día, DOM no asignará más pedidos a esa ubicación durante el resto de ese día de calendario.</span><span class="sxs-lookup"><span data-stu-id="7102c-261">If the maximum number of orders is assigned to a location in a single day, DOM won't assign any more orders to that location for the rest of that calendar day.</span></span>

   <span data-ttu-id="7102c-262">Veamos algunos de los atributos comunes que se pueden definir para todos los tipos de reglas descritos anteriormente:</span><span class="sxs-lookup"><span data-stu-id="7102c-262">Here are some of the common attributes that can be defined for all the preceding rule types:</span></span>

   - <span data-ttu-id="7102c-263">**Fecha de inicio** y **Fecha de finalización**: estos campos se pueden usar para establecer las fechas de vigencia de cada regla.</span><span class="sxs-lookup"><span data-stu-id="7102c-263">**Start date** and **End date** – Every rule can be made date-effective by using the these fields.</span></span>
   - <span data-ttu-id="7102c-264">**Deshabilitada**: en una ejecución de DOM solo se tendrán en cuenta las reglas que tengan el valor **No** en este campo.</span><span class="sxs-lookup"><span data-stu-id="7102c-264">**Disabled** – Only rules that have a value of **No** for this field are considered in a DOM run.</span></span>
   - <span data-ttu-id="7102c-265">**Restricción completa**: una regla se puede definir como de restricción completa o no.</span><span class="sxs-lookup"><span data-stu-id="7102c-265">**Hard constraint** – A rule can be defined as either a hard constraint or not a hard constraint.</span></span> <span data-ttu-id="7102c-266">Cada ejecución de DOM realiza dos iteraciones.</span><span class="sxs-lookup"><span data-stu-id="7102c-266">Every DOM run goes through two iterations.</span></span> <span data-ttu-id="7102c-267">En la primera iteración, cada regla se trata como una regla de restricción completa, independientemente del valor de este campo.</span><span class="sxs-lookup"><span data-stu-id="7102c-267">In the first iteration, every rule is treated as a hard constraint rule, regardless of the setting of this field.</span></span> <span data-ttu-id="7102c-268">Es decir, se aplican todas las reglas.</span><span class="sxs-lookup"><span data-stu-id="7102c-268">In other words, every rule is applied.</span></span> <span data-ttu-id="7102c-269">La única excepción es la regla de **Prioridad de ubicación**.</span><span class="sxs-lookup"><span data-stu-id="7102c-269">The only exception is the **Location priority** rule.</span></span> <span data-ttu-id="7102c-270">En la segunda iteración se quitan las reglas que no se hayan definido como reglas de restricción completa, y se asignarán a ubicaciones los pedidos y las líneas de pedido que no se asignaron a ubicaciones cuando se aplicaron todas las reglas.</span><span class="sxs-lookup"><span data-stu-id="7102c-270">In the second iteration, the rules that weren't defined as hard constraint rules are removed, and the order or order lines that weren't assigned to locations when all the rules were applied are assigned to locations.</span></span>

10. <span data-ttu-id="7102c-271">Se utilizan perfiles de cumplimiento para agrupar un conjunto de reglas, entidades jurídicas, orígenes de pedido de ventas y modos de entrega.</span><span class="sxs-lookup"><span data-stu-id="7102c-271">Fulfillment profiles are used to group a collection of rules, legal entities, sales order origins, and modes of delivery.</span></span> <span data-ttu-id="7102c-272">Cada ejecución de DOM es para un perfil de cumplimiento específico.</span><span class="sxs-lookup"><span data-stu-id="7102c-272">Every DOM run is for a specific fulfillment profile.</span></span> <span data-ttu-id="7102c-273">De esta manera, las organizaciones pueden definir y ejecutar un conjunto de reglas para un conjunto de entidades jurídicas en los pedidos que tengan orígenes de pedido de ventas y modos de entrega específicos.</span><span class="sxs-lookup"><span data-stu-id="7102c-273">In this way, organizations can define and run a set of rules for a set of legal entities, on orders that have specific sales order origins and modes of delivery.</span></span> <span data-ttu-id="7102c-274">Por lo tanto, si hubiera que ejecutar conjunto de reglas distintos para conjuntos de orígenes de pedido de ventas o conjuntos de modos de entrega diferentes, es posible definir los perfiles de cumplimiento correspondientes.</span><span class="sxs-lookup"><span data-stu-id="7102c-274">Therefore, if different set of rules must be run for different sets of sales order origins or modes of delivery, the fulfillment profiles can be defined accordingly.</span></span> <span data-ttu-id="7102c-275">Siga estos pasos para configurar perfiles de cumplimiento:</span><span class="sxs-lookup"><span data-stu-id="7102c-275">To set up fulfillment profiles, follow these steps:</span></span>  

    1. <span data-ttu-id="7102c-276">Vaya a **Retail y Commerce \> Gestión de pedidos distribuida \> Configuración \> Perfiles de cumplimiento**.</span><span class="sxs-lookup"><span data-stu-id="7102c-276">Go to **Retail and Commerce \> Distributed order management \> Setup \> Fulfillment profiles**.</span></span>
    2. <span data-ttu-id="7102c-277">Seleccione **Nuevo**.</span><span class="sxs-lookup"><span data-stu-id="7102c-277">Select **New**.</span></span>
    3. <span data-ttu-id="7102c-278">Escriba valores en los campos **Perfil** y **Descripción**.</span><span class="sxs-lookup"><span data-stu-id="7102c-278">Enter values in the **Profile** and **Description** fields.</span></span>
    4. <span data-ttu-id="7102c-279">Establezca la opción **Aplicar resultado automáticamente**.</span><span class="sxs-lookup"><span data-stu-id="7102c-279">Set the **Auto apply result** option.</span></span> <span data-ttu-id="7102c-280">Si establece esta opción en **Sí**, los resultados de la ejecución de DOM para el perfil se aplicarán automáticamente a las líneas de pedido de ventas.</span><span class="sxs-lookup"><span data-stu-id="7102c-280">If you set this option to **Yes**, the results of the DOM run for the profile will be automatically applied to the sales order lines.</span></span> <span data-ttu-id="7102c-281">Si la establece en **No**, los resultados solo se podrán visualizar en el plan de cumplimiento.</span><span class="sxs-lookup"><span data-stu-id="7102c-281">If you set it to **No**, the results can only be viewed in the fulfillment plan.</span></span> <span data-ttu-id="7102c-282">No se aplicarán a las líneas de pedido de ventas.</span><span class="sxs-lookup"><span data-stu-id="7102c-282">They won't be applied to the sales order lines.</span></span>
    5. <span data-ttu-id="7102c-283">Si desea que el perfil de DOM se ejecute para pedidos que tengan cualquier origen de pedido de ventas, como pedidos cuyo origen de pedido de ventas esté indefinido, establezca la opción **Procesar pedidos con origen de ventas vacío** en **Sí**.</span><span class="sxs-lookup"><span data-stu-id="7102c-283">If you want the DOM profile to be run for orders that have every sales order origin, including orders where the sales order origin is undefined, set the **Process orders with empty sales origin** option to **Yes**.</span></span> <span data-ttu-id="7102c-284">Para ejecutar el perfil para solo unos pocos orígenes de pedido de ventas, puede definirlos en la página **Orígenes de ventas**, tal como se explica más adelante.</span><span class="sxs-lookup"><span data-stu-id="7102c-284">To run the profile for only a few sales order origins, you can define them on the **Sales origins** page, as explained later.</span></span>

    > [!NOTE]
    > <span data-ttu-id="7102c-285">En Commerce versión 10.0.12 y posterior, la **Capacidad para asignar un grupo de cumplimiento a un perfil de cumplimiento** debe estar habilitada en el espacio de trabajo **Administración de características**.</span><span class="sxs-lookup"><span data-stu-id="7102c-285">In Commerce version 10.0.12 and higher, **Ability to assign Fulfillment group to a Fulfillment Profile** must be enabled in the **Feature Management** workspace.</span></span> 
    >
    > <span data-ttu-id="7102c-286">Esta característica agrega una nueva configuración en la página **Perfil de cumplimiento** que se puede asociar a un solo grupo de cumplimiento.</span><span class="sxs-lookup"><span data-stu-id="7102c-286">This feature adds a new configuration on the **Fulfillment profile** page that can be associated to a single fulfilment group.</span></span> 
    >
    > <span data-ttu-id="7102c-287">Si selecciona el grupo de cumplimiento, las reglas de DOM para ese perfil de cumplimiento se ejecutarán de manera eficiente frente a los almacenes de "envío" incluidos en el grupo de cumplimiento.</span><span class="sxs-lookup"><span data-stu-id="7102c-287">If you select the fulfilment group, the DOM rules for that fulfilment profile will efficiently run against the "shipping" warehouses included in the fulfilment group.</span></span> 
    > 
    > <span data-ttu-id="7102c-288">Para utilizar esta característica de manera efectiva, asegúrese de que haya un grupo de cumplimiento que contenga todos los almacenes de envío y luego asocie ese grupo de cumplimiento al perfil de cumplimiento.</span><span class="sxs-lookup"><span data-stu-id="7102c-288">To effectively use this feature, ensure that there is one fulfillment group that contains all the shipping warehouses, and then associate that fulfillment group to the fulfillment profile.</span></span>
    
    6. <span data-ttu-id="7102c-289">En la ficha desplegable **Entidades jurídicas** seleccione **Agregar** y, a continuación, seleccione una entidad jurídica.</span><span class="sxs-lookup"><span data-stu-id="7102c-289">On the **Legal entities** FastTab, select **Add**, and then select a legal entity.</span></span>
    7. <span data-ttu-id="7102c-290">En la ficha desplegable **Reglas**, seleccione **Agregar** y seleccione la regla que desee vincular al perfil.</span><span class="sxs-lookup"><span data-stu-id="7102c-290">On the **Rules** FastTab, select **Add**, and then select the rule to link to the profile.</span></span>
    8. <span data-ttu-id="7102c-291">Repita los dos pasos anteriores hasta que haya asociado todas las reglas necesarias al perfil.</span><span class="sxs-lookup"><span data-stu-id="7102c-291">Repeat the previous two steps until all the required rules are associated with the profile.</span></span>
    9. <span data-ttu-id="7102c-292">Seleccione **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="7102c-292">Select **Save**.</span></span>
    10. <span data-ttu-id="7102c-293">En el panel de acciones, en la pestaña **Configuración**, seleccione **Modos de entrega**.</span><span class="sxs-lookup"><span data-stu-id="7102c-293">On the Action Pane, on the **Setup** tab, select **Modes of delivery**.</span></span>
    11. <span data-ttu-id="7102c-294">En la página **Modos de entrega**, seleccione **Nuevo**.</span><span class="sxs-lookup"><span data-stu-id="7102c-294">On the **Modes of delivery** page, select **New**.</span></span>
    12. <span data-ttu-id="7102c-295">En el campo **Empresa**, seleccione la entidad jurídica.</span><span class="sxs-lookup"><span data-stu-id="7102c-295">In the **Company** field, select the legal entity.</span></span> <span data-ttu-id="7102c-296">La lista de empresas se limita a las entidades jurídicas que agregó anteriormente.</span><span class="sxs-lookup"><span data-stu-id="7102c-296">The list of companies is limited to the legal entities that you added earlier.</span></span>
    13. <span data-ttu-id="7102c-297">En el campo **Modo de entrega**, seleccione el modo de entrega que desea asociar a este perfil.</span><span class="sxs-lookup"><span data-stu-id="7102c-297">In the **Mode of delivery** field, select the mode of delivery to associate with this profile.</span></span> <span data-ttu-id="7102c-298">Un modo de entrega no se puede asociar a varios perfiles activos.</span><span class="sxs-lookup"><span data-stu-id="7102c-298">A mode of delivery can't be associated with multiple active profiles.</span></span>
    14. <span data-ttu-id="7102c-299">Repita los dos pasos anteriores hasta que haya asociado todos los modos de entrega necesarios al perfil.</span><span class="sxs-lookup"><span data-stu-id="7102c-299">Repeat the previous two steps until all the required modes of delivery are associated with the profile.</span></span>
    15. <span data-ttu-id="7102c-300">Cierre la página **Modos de entrega**.</span><span class="sxs-lookup"><span data-stu-id="7102c-300">Close the **Modes of delivery** page.</span></span>
    16. <span data-ttu-id="7102c-301">En el panel de acciones, en la pestaña **Configuración**, seleccione **Orígenes de pedido de ventas**.</span><span class="sxs-lookup"><span data-stu-id="7102c-301">On the Action Pane, on the **Setup** tab, select **Sales order origins**.</span></span>
    17. <span data-ttu-id="7102c-302">En la página **Orígenes de ventas**, seleccione **Nuevo**.</span><span class="sxs-lookup"><span data-stu-id="7102c-302">On the **Sales origins** page, select **New**.</span></span>
    18. <span data-ttu-id="7102c-303">En el campo **Empresa**, seleccione la entidad jurídica.</span><span class="sxs-lookup"><span data-stu-id="7102c-303">In the **Company** field, select the legal entity.</span></span> <span data-ttu-id="7102c-304">La lista de empresas se limita a las entidades jurídicas que agregó anteriormente.</span><span class="sxs-lookup"><span data-stu-id="7102c-304">The list of companies is limited to the legal entities that you added earlier.</span></span>
    19. <span data-ttu-id="7102c-305">En el campo **Origen de la venta**, seleccione el origen de ventas que desea asociar a este perfil.</span><span class="sxs-lookup"><span data-stu-id="7102c-305">In the **Sales origin** field, select the sales origin to associate with this profile.</span></span> <span data-ttu-id="7102c-306">Un origen de ventas no se puede asociar a varios perfiles activos.</span><span class="sxs-lookup"><span data-stu-id="7102c-306">A sales origin can't be associated with multiple active profiles.</span></span>
    20. <span data-ttu-id="7102c-307">Repita los dos pasos anteriores hasta que haya asociado todos los orígenes de ventas necesarios al perfil.</span><span class="sxs-lookup"><span data-stu-id="7102c-307">Repeat the previous two steps until all the required sales origins are associated with the profile.</span></span>
    21. <span data-ttu-id="7102c-308">Cierre la página **Orígenes de ventas**.</span><span class="sxs-lookup"><span data-stu-id="7102c-308">Close the **Sales origins** page.</span></span>
    22. <span data-ttu-id="7102c-309">Establezca la opción **Habilitar perfil** en **Sí**.</span><span class="sxs-lookup"><span data-stu-id="7102c-309">Set the **Enable profile** option to **Yes**.</span></span> <span data-ttu-id="7102c-310">Si hubiera algún error en la configuración, aparecerá un mensaje de advertencia.</span><span class="sxs-lookup"><span data-stu-id="7102c-310">If there are any errors in the setup, you receive a warning message.</span></span>

## <a name="dom-processing"></a><span data-ttu-id="7102c-311">Procesamiento de DOM</span><span class="sxs-lookup"><span data-stu-id="7102c-311">DOM processing</span></span>

<span data-ttu-id="7102c-312">DOM solo se ejecutará en un trabajo por lotes.</span><span class="sxs-lookup"><span data-stu-id="7102c-312">DOM will run only in a batch job.</span></span> <span data-ttu-id="7102c-313">Para configurar el trabajo por lotes de DOM, siga estos pasos.</span><span class="sxs-lookup"><span data-stu-id="7102c-313">To configure the batch job for DOM runs, follow these steps.</span></span>

1. <span data-ttu-id="7102c-314">Vaya a **Retail y Commerce \> Gestión de pedidos distribuida \> Procesamiento por lotes \> Configuración de trabajo del procesador de DOM**.</span><span class="sxs-lookup"><span data-stu-id="7102c-314">Go to **Retail and Commerce \> Distributed order management \> Batch processing \> DOM processor job setup**.</span></span>
1. <span data-ttu-id="7102c-315">En la ficha desplegable **Parámetros**, en el campo **Perfil de cumplimiento**, seleccione un perfil para el que se pueda ejecutar DOM.</span><span class="sxs-lookup"><span data-stu-id="7102c-315">On the **Parameters** FastTab, in the **Fulfillment profile** field, select a profile that DOM must be run for.</span></span>
1. <span data-ttu-id="7102c-316">En la ficha desplegable **Ejecutar en segundo plano**, en el campo **Grupo de lotes**, seleccione un grupo de lotes configurado.</span><span class="sxs-lookup"><span data-stu-id="7102c-316">On the **Run in the background** FastTab, in the **Batch group** field, select a configured batch group.</span></span>
1. <span data-ttu-id="7102c-317">En el campo **Descripción de la tarea**, escriba un nombre descriptivo para el trabajo por lotes.</span><span class="sxs-lookup"><span data-stu-id="7102c-317">In the **Task description** field, enter a name for the batch job.</span></span>
1. <span data-ttu-id="7102c-318">Seleccione **Periodicidad** y defina la periodicidad del trabajo por lotes.</span><span class="sxs-lookup"><span data-stu-id="7102c-318">Select **Recurrence**, and define the recurrence of the batch job.</span></span>
1. <span data-ttu-id="7102c-319">Seleccione **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="7102c-319">Select **OK**.</span></span>

<span data-ttu-id="7102c-320">Durante el procesamiento, DOM tendrá en cuenta los pedidos y las líneas de pedido como se describe a continuación:</span><span class="sxs-lookup"><span data-stu-id="7102c-320">At the time of processing, DOM will consider the order and order lines as described here:</span></span>

- <span data-ttu-id="7102c-321">Las líneas de pedido que cumplan con los criterios para orígenes de pedido de ventas, modos de entrega y entidad jurídica definidos en el perfil de DOM, y que además cumplan cualquiera de estos criterios:</span><span class="sxs-lookup"><span data-stu-id="7102c-321">Order lines that meet the criteria for sales order origins, modes of delivery, and legal entity as defined in the DOM profile, and that also meet any of these criteria:</span></span>

    - <span data-ttu-id="7102c-322">Se crean desde canales de Commerce.</span><span class="sxs-lookup"><span data-stu-id="7102c-322">They are created from commerce channels.</span></span>
    - <span data-ttu-id="7102c-323">DOM nunca las ha gestionado.</span><span class="sxs-lookup"><span data-stu-id="7102c-323">They have never been brokered by DOM.</span></span>
    - <span data-ttu-id="7102c-324">DOM las ha gestionado antes, pero se han marcado como excepciones y están por debajo del umbral de número máximo de intentos.</span><span class="sxs-lookup"><span data-stu-id="7102c-324">They have been brokered by DOM before, but they are marked as exceptions and are below the maximum threshold for attempts.</span></span>
    - <span data-ttu-id="7102c-325">El modo de entrega no es recogida o entrega electrónica.</span><span class="sxs-lookup"><span data-stu-id="7102c-325">The mode of delivery isn't pick-up or electronic delivery.</span></span>
    - <span data-ttu-id="7102c-326">No se han marcado para entrega.</span><span class="sxs-lookup"><span data-stu-id="7102c-326">They aren't marked for delivery.</span></span>
    - <span data-ttu-id="7102c-327">No se han excluido manualmente.</span><span class="sxs-lookup"><span data-stu-id="7102c-327">They aren't manually excluded.</span></span>

- <span data-ttu-id="7102c-328">Pedidos que no están en espera.</span><span class="sxs-lookup"><span data-stu-id="7102c-328">Orders that aren't on hold</span></span>

<span data-ttu-id="7102c-329">Después de aplicar las reglas, las restricciones de inventario y la optimización, DOM elige la ubicación más cercana a la dirección de entrega del cliente.</span><span class="sxs-lookup"><span data-stu-id="7102c-329">After it applies the rules, inventory constraints, and optimization, DOM picks the location that is closest to the customer's delivery address.</span></span>

<span data-ttu-id="7102c-330">![Criterios de pedidos de ventas](./media/ordercriteria.png "Criterios de pedidos de ventas")</span><span class="sxs-lookup"><span data-stu-id="7102c-330">![Sales order criteria](./media/ordercriteria.png "Sales order criteria")</span></span>

## <a name="results-of-dom-runs"></a><span data-ttu-id="7102c-331">Resultados de las ejecuciones de DOM</span><span class="sxs-lookup"><span data-stu-id="7102c-331">Results of DOM runs</span></span>

<span data-ttu-id="7102c-332">Si el perfil de cumplimiento se establece en **Aplicar resultado automáticamente**, los resultados de la ejecución se aplicarán automáticamente a las líneas de pedido de ventas, y el plan de cumplimiento se podrá ver por separado.</span><span class="sxs-lookup"><span data-stu-id="7102c-332">If the fulfillment profile is set to **Auto apply**, the results of the run will be automatically applied to the sales order lines, and the fulfillment plan can be viewed separately.</span></span> <span data-ttu-id="7102c-333">Sin embargo, si el perfil de cumplimiento no está establecido en **Aplicar resultado automáticamente**, los resultados de la ejecución solo se podrán ver desde la vista de plan de cumplimiento.</span><span class="sxs-lookup"><span data-stu-id="7102c-333">However, if the fulfillment profile isn't set to **Auto apply**, the results of the run can be seen only from the fulfillment plan view.</span></span> 

<span data-ttu-id="7102c-334">Para ver todos los planes de cumplimiento generados, siga estos pasos.</span><span class="sxs-lookup"><span data-stu-id="7102c-334">To view all the fulfillment plans that are generated, follow these steps.</span></span>

1. <span data-ttu-id="7102c-335">Vaya a **Retail y Commerce \> Gestión de pedidos distribuida \> Gestión de pedidos distribuida**.</span><span class="sxs-lookup"><span data-stu-id="7102c-335">Go to **Retail and Commerce \> Distributed order management \> Distributed order management**.</span></span>
2. <span data-ttu-id="7102c-336">En el espacio de trabajo **Gestión de pedidos distribuida**, seleccione el icono **Planes de cumplimiento**.</span><span class="sxs-lookup"><span data-stu-id="7102c-336">In the **Distributed order management** workspace, select the **Fulfillment Plans** tile.</span></span>
3. <span data-ttu-id="7102c-337">Seleccione el identificador del plan de cumplimiento que desee ver.</span><span class="sxs-lookup"><span data-stu-id="7102c-337">Select the ID of the relevant order fulfillment plan to view the fulfillment plan.</span></span>

    <span data-ttu-id="7102c-338">La sección de detalles del pedido del plan de cumplimiento muestra las líneas de pedido de ventas originales que formaron parte de la ejecución.</span><span class="sxs-lookup"><span data-stu-id="7102c-338">The order details section of the fulfillment plan shows the original sales order lines that were part of the run.</span></span> <span data-ttu-id="7102c-339">Además de los campos de línea de pedido de ventas estándar, la sección de detalles del pedido también incluye los tres campos siguientes relacionados con DOM:</span><span class="sxs-lookup"><span data-stu-id="7102c-339">Besides the standard sales order line fields, the order details section also includes the following three DOM-related fields:</span></span>

    - <span data-ttu-id="7102c-340">**Tipo de cumplimiento**: este campo indica si la línea de pedido de ventas está totalmente gestionada para una ubicación, parcialmente asignada o no está asignada.</span><span class="sxs-lookup"><span data-stu-id="7102c-340">**Fulfillment type** – This field indicates whether the sales order line is fully brokered, partially brokered, or not brokered at all to a location.</span></span>
    - <span data-ttu-id="7102c-341">**Dividir**: este campo indica si la línea de pedido de ventas se ha dividido y gestionado para distintas ubicaciones.</span><span class="sxs-lookup"><span data-stu-id="7102c-341">**Split** – This field indicates whether one sales order line has been split and brokered to different locations.</span></span>
    - <span data-ttu-id="7102c-342">**Número de ubicaciones de cumplimiento**: este campo indica cuántas líneas de cumplimiento se han creado para una línea de pedido de ventas (en función del número de ubicaciones a las que se asignó la línea de pedido de ventas original).</span><span class="sxs-lookup"><span data-stu-id="7102c-342">**Number of fulfillment locations** – This field indicates how many fulfillment lines were created for one sales order line (based on the number of locations that the original sales order line was brokered to).</span></span>

    <span data-ttu-id="7102c-343">La sección de detalles de cumplimiento de pedido muestra la asignación de las líneas de pedido de ventas originales a distintas ubicaciones, junto con sus cantidades.</span><span class="sxs-lookup"><span data-stu-id="7102c-343">The order fulfillment details section shows the assignment of the original sales order lines to different locations, together with their quantities.</span></span>

## <a name="order-line-actions-and-statuses"></a><span data-ttu-id="7102c-344">Acciones y estados de línea de pedido</span><span class="sxs-lookup"><span data-stu-id="7102c-344">Order line actions and statuses</span></span>

<span data-ttu-id="7102c-345">A continuación se describen los valores de configuración de la línea de pedido.</span><span class="sxs-lookup"><span data-stu-id="7102c-345">The following describes settings on the order line.</span></span> <span data-ttu-id="7102c-346">Para abrir la línea de pedido, vaya a **Retail y Commerce \> Clientes \> Todos los pedidos de ventas**.</span><span class="sxs-lookup"><span data-stu-id="7102c-346">To open the order line, go to **Retail and Commerce \> Customers \> All sales orders**.</span></span>
- <span data-ttu-id="7102c-347">Si establece en **Sí** la opción **Excluir de procesamiento de DOM** en la pestaña **General** de la línea de pedido de ventas, el pedido o la línea de pedido se excluirán del procesamiento de DOM.</span><span class="sxs-lookup"><span data-stu-id="7102c-347">If you set the **Exclude from DOM processing** option on the **General** tab of the sales order line to **Yes**, the order or order line will be excluded from DOM processing.</span></span>
- <span data-ttu-id="7102c-348">El campo **Estado de DOM** en la pestaña **General** de la línea de pedido de ventas se puede establecer en uno de los siguientes valores:</span><span class="sxs-lookup"><span data-stu-id="7102c-348">The **DOM status** field on the **General** tab of the sales order line can be set to one of the following values:</span></span>

    - <span data-ttu-id="7102c-349">**Ninguno**: la línea de pedido nunca se ha gestionado.</span><span class="sxs-lookup"><span data-stu-id="7102c-349">**None** – The order line has never been brokered.</span></span>
    - <span data-ttu-id="7102c-350">**Completado**: la línea de pedido se ha gestionado y asignado correctamente a una ubicación.</span><span class="sxs-lookup"><span data-stu-id="7102c-350">**Complete** – The order line has been successfully brokered and assigned to a location.</span></span>
    - <span data-ttu-id="7102c-351">**Excepción**: la línea de pedido se ha gestionado pero no se puede asignar a una ubicación.</span><span class="sxs-lookup"><span data-stu-id="7102c-351">**Exception** – The order line has been brokered but can't be assigned to a location.</span></span> <span data-ttu-id="7102c-352">Las excepciones tienen varios subtipos que se pueden ver en el espacio de trabajo de DOM:</span><span class="sxs-lookup"><span data-stu-id="7102c-352">Exceptions have multiple subtypes that can be viewed from the DOM workspace:</span></span>

        - <span data-ttu-id="7102c-353">**Ninguna cantidad disponible**: no hay inventario disponible para asignar el pedido en las ubicaciones.</span><span class="sxs-lookup"><span data-stu-id="7102c-353">**No quantity available** – There is no available inventory to assign the order to in the locations.</span></span>
        - <span data-ttu-id="7102c-354">**Número máximo de rechazos**: la línea de pedido ha alcanzado el umbral de número máximo de rechazos.</span><span class="sxs-lookup"><span data-stu-id="7102c-354">**Maximum rejections** – The order line has reached the maximum threshold for rejections.</span></span>
        - <span data-ttu-id="7102c-355">**Conflicto de modificación de datos**: la línea de pedido de ventas ha cambiado desde que se gestionó el pedido.</span><span class="sxs-lookup"><span data-stu-id="7102c-355">**Data modification conflict** – The sales order line has been changed since the order was brokered.</span></span> <span data-ttu-id="7102c-356">Por lo tanto, no se puede aplicar el plan de cumplimiento al pedido.</span><span class="sxs-lookup"><span data-stu-id="7102c-356">Therefore, the fulfillment plan can't be applied to the order.</span></span>
        - <span data-ttu-id="7102c-357">**Excepción específica de línea de pedido**: hay varias excepciones en la línea de pedido.</span><span class="sxs-lookup"><span data-stu-id="7102c-357">**Order line specific exception** – There are multiple exceptions on the order line.</span></span>

- <span data-ttu-id="7102c-358">Durante la entrada del pedido de ventas, DOM puede ejecutarse en modo interactivo.</span><span class="sxs-lookup"><span data-stu-id="7102c-358">During the sales order entry, DOM can be run in an interactive mode.</span></span> <span data-ttu-id="7102c-359">Al introducir una línea de pedido, después de especificar el producto y la cantidad, puede seleccionar **Actualizar línea** y, a continuación, seleccionar **Sugerir ubicación de cumplimiento** en **DOM**.</span><span class="sxs-lookup"><span data-stu-id="7102c-359">While you're entering an order line, after you specify the product and quantity, you can select **Update line** and then, under **DOM**, select **Suggest fulfillment location**.</span></span> <span data-ttu-id="7102c-360">Verá una lista de ubicaciones basada en las reglas de DOM que pueden cumplir la cantidad de la línea de pedido.</span><span class="sxs-lookup"><span data-stu-id="7102c-360">You then see a list of locations that is based on DOM rules that can fulfill the quantity on the order line.</span></span> <span data-ttu-id="7102c-361">Esta lista se ordena por distancia.</span><span class="sxs-lookup"><span data-stu-id="7102c-361">This list is sorted by distance.</span></span> <span data-ttu-id="7102c-362">Seleccione una ubicación para establecer el sitio y el almacén de datos correspondientes en la línea de pedido de ventas.</span><span class="sxs-lookup"><span data-stu-id="7102c-362">Select a location to set the relevant site and warehouse on the sales order line.</span></span> <span data-ttu-id="7102c-363">Para poder utilizar esta funcionalidad debe haber un perfil de cumplimiento activo que coincida con el origen de ventas y el modo de entrega en la línea de ventas.</span><span class="sxs-lookup"><span data-stu-id="7102c-363">For this functionality to work, there must be an existing, active fulfillment profile that matches the sales origin and delivery mode on the sales line.</span></span>
- <span data-ttu-id="7102c-364">Para ver los registros de ejecución de DOM para una línea de pedido de ventas, seleccione **Línea de pedido de ventas** y, a continuación, seleccione **Ver registros de DOM** en **DOM**.</span><span class="sxs-lookup"><span data-stu-id="7102c-364">To view the DOM run logs for a sales order line, select **Sales order line**, and then, under **DOM**, select **View DOM Logs**.</span></span> <span data-ttu-id="7102c-365">Los registros de DOM muestran todos los eventos y registros generados por la ejecución de DOM.</span><span class="sxs-lookup"><span data-stu-id="7102c-365">The DOM logs show all the events and logs that were generated by the DOM run.</span></span> <span data-ttu-id="7102c-366">Los registros pueden ayudarle a comprender por qué se ha asignado una ubicación concreta a la línea de pedido, y qué reglas y restricciones se aplicaron como parte de la asignación.</span><span class="sxs-lookup"><span data-stu-id="7102c-366">The logs can help you understand why a specific location was assigned to the order line, and what rules and constraints were considered as a part of the assignment.</span></span> <span data-ttu-id="7102c-367">En la pestaña **Administrar**, los registros de DOM también están disponibles en el nivel del encabezado del pedido de ventas.</span><span class="sxs-lookup"><span data-stu-id="7102c-367">On the **Manage** tab, the DOM logs are also available at the level of the sales order header.</span></span>

## <a name="run-a-clean-up-job-for-dom-fulfillment-plans"></a><span data-ttu-id="7102c-368">Ejecutar un trabajo de limpieza de planes de cumplimiento de DOM</span><span class="sxs-lookup"><span data-stu-id="7102c-368">Run a clean-up job for DOM fulfillment plans</span></span>

<span data-ttu-id="7102c-369">Se crean planes de cumplimiento a medida que se ejecuta el procesamiento de DOM.</span><span class="sxs-lookup"><span data-stu-id="7102c-369">As DOM processing is run, fulfillment plans are created.</span></span> <span data-ttu-id="7102c-370">Con el tiempo, el sistema acumulará una gran cantidad de planes de cumplimiento.</span><span class="sxs-lookup"><span data-stu-id="7102c-370">Over time, the system will keep numerous fulfillment plans.</span></span> <span data-ttu-id="7102c-371">Para administrar el número de planes de cumplimiento conservados por el sistema, puede configurar un trabajo por lotes que elimine los planes de cumplimiento más antiguos en función del valor de **Período máximo de retención en días**.</span><span class="sxs-lookup"><span data-stu-id="7102c-371">To manage the number of fulfillment plans that the system keeps, you can configure a batch job that deletes older fulfillment plans, based on the **Retention period in days** value.</span></span>

1. <span data-ttu-id="7102c-372">Vaya a **Retail y Commerce \> Gestión de pedidos distribuida \> Procesamiento por lotes \> Configuración de trabajo de eliminación de datos de cumplimiento de DOM**.</span><span class="sxs-lookup"><span data-stu-id="7102c-372">Go to **Retail and Commerce \> Distributed order management \> Batch processing \> DOM fulfillment data deletion job setup**.</span></span> 
1. <span data-ttu-id="7102c-373">En el campo **Grupo de lotes**, seleccione un grupo de lotes configurado.</span><span class="sxs-lookup"><span data-stu-id="7102c-373">In the **Batch group** field, select a configured batch group.</span></span>
1. <span data-ttu-id="7102c-374">Seleccione **Periodicidad** y defina la periodicidad del trabajo por lotes.</span><span class="sxs-lookup"><span data-stu-id="7102c-374">Select **Recurrence**, and define the recurrence of the batch job.</span></span>
1. <span data-ttu-id="7102c-375">Seleccione **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="7102c-375">Select **OK**.</span></span>

## <a name="more-information"></a><span data-ttu-id="7102c-376">Más información</span><span class="sxs-lookup"><span data-stu-id="7102c-376">More information</span></span>

<span data-ttu-id="7102c-377">Veamos algunas cosas que hay que tener en cuenta al usar la característica DOM:</span><span class="sxs-lookup"><span data-stu-id="7102c-377">Here are some things to consider when you use the DOM feature:</span></span>

- <span data-ttu-id="7102c-378">Actualmente, DOM solo tiene en cuenta los pedidos creados en los canales de Commerce.</span><span class="sxs-lookup"><span data-stu-id="7102c-378">Currently, DOM looks only at orders that are created from commerce channels.</span></span> <span data-ttu-id="7102c-379">Los pedidos de ventas se identifican como pedidos de ventas cuando la opción **Venta de Commerce** está establecida en **Sí**.</span><span class="sxs-lookup"><span data-stu-id="7102c-379">Sales orders are identified as sales orders when the **Commerce sale** option is set to **Yes**.</span></span>
- <span data-ttu-id="7102c-380">Microsoft no ha probado DOM con funciones avanzadas de gestión de almacenes.</span><span class="sxs-lookup"><span data-stu-id="7102c-380">Microsoft hasn't tested DOM with advanced warehouse management features.</span></span> <span data-ttu-id="7102c-381">Los clientes y los socios deben determinar si DOM es compatible con las capacidades y los procesos avanzados de gestión de almacenes que necesitan.</span><span class="sxs-lookup"><span data-stu-id="7102c-381">Customers and partners must be careful to determine whether DOM is compatible with the advanced warehouse management capabilities and processes that are relevant to them.</span></span>
- <span data-ttu-id="7102c-382">DOM solo está disponible en la versión de Commerce para la nube.</span><span class="sxs-lookup"><span data-stu-id="7102c-382">DOM is available only on the cloud version of Commerce.</span></span> <span data-ttu-id="7102c-383">No se admite en implementaciones locales.</span><span class="sxs-lookup"><span data-stu-id="7102c-383">It isn't supported in on-premises deployments.</span></span>


[!INCLUDE[footer-include](../includes/footer-banner.md)]