---
title: Módulo de finalización de compra
description: En este tema se describe cómo agregar un módulo de finalización de compra a una página y establecer las propiedades necesarias.
author: anupamar-ms
manager: annbe
ms.date: 01/23/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-commerce
ms.technology: ''
audience: Application user
ms.reviewer: v-chgri
ms.search.scope: Operations, Retail, Core
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: anupamar
ms.search.validFrom: 2019-10-31
ms.dyn365.ops.version: Release 10.0.5
ms.openlocfilehash: 3805c0faabc8afc3decffb924b7f25332ff1ab16
ms.sourcegitcommit: 829329220475ed8cff5a5db92a59dd90c22b04fa
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 02/05/2020
ms.locfileid: "3025400"
---
# <a name="checkout-module"></a><span data-ttu-id="c5cec-103">Módulo de finalización de compra</span><span class="sxs-lookup"><span data-stu-id="c5cec-103">Checkout module</span></span>


[!include [banner](includes/banner.md)]

<span data-ttu-id="c5cec-104">En este tema se describe cómo agregar un módulo de finalización de compra a una página y establecer las propiedades necesarias.</span><span class="sxs-lookup"><span data-stu-id="c5cec-104">This topic describes how to add a checkout module to a page and set the required properties.</span></span>

## <a name="overview"></a><span data-ttu-id="c5cec-105">Visión general</span><span class="sxs-lookup"><span data-stu-id="c5cec-105">Overview</span></span>

<span data-ttu-id="c5cec-106">Un módulo de finalización de compra es un contenedor especial que hospeda todos los módulos necesarios para crear un pedido.</span><span class="sxs-lookup"><span data-stu-id="c5cec-106">A checkout module is a special container that hosts all modules that are required to create an order.</span></span> <span data-ttu-id="c5cec-107">Presenta un flujo detallado que un cliente usa para introducir toda la información pertinente para realizar una compra.</span><span class="sxs-lookup"><span data-stu-id="c5cec-107">It presents a step-by-step flow that a customer uses to enter all the relevant information to make a purchase.</span></span> <span data-ttu-id="c5cec-108">Captura la dirección de envío, el método de envío y la información de facturación.</span><span class="sxs-lookup"><span data-stu-id="c5cec-108">It captures the shipping address, shipping method, and billing information.</span></span> <span data-ttu-id="c5cec-109">También proporciona un resumen del pedido y otra información relacionada con un pedido del cliente.</span><span class="sxs-lookup"><span data-stu-id="c5cec-109">It also provides an order summary and other information that is related to a customer order.</span></span>

<span data-ttu-id="c5cec-110">Un módulo de finalización de compra representa datos a partir del id. del carro.</span><span class="sxs-lookup"><span data-stu-id="c5cec-110">A checkout module renders data based on the cart ID.</span></span> <span data-ttu-id="c5cec-111">Este id. del carro se guarda como cookie del explorador.</span><span class="sxs-lookup"><span data-stu-id="c5cec-111">This cart ID is saved as a browser cookie.</span></span> <span data-ttu-id="c5cec-112">Se requiere un id. de carro para representar información en el módulo de finalización de compra, como los artículos del pedido, el importe total y los descuentos.</span><span class="sxs-lookup"><span data-stu-id="c5cec-112">A cart ID is required to render information in the checkout module, such as the items in the order, the total amount, and discounts.</span></span>

## <a name="checkout-module-properties"></a><span data-ttu-id="c5cec-113">Propiedades del módulo de finalización de compra</span><span class="sxs-lookup"><span data-stu-id="c5cec-113">Checkout module properties</span></span>

<span data-ttu-id="c5cec-114">Un módulo de finalización de compra muestra un resumen del pedido y proporciona la funcionalidad necesaria para realizar un pedido.</span><span class="sxs-lookup"><span data-stu-id="c5cec-114">A checkout module shows an order summary and provides the functionality for placing an order.</span></span> <span data-ttu-id="c5cec-115">Para reunir toda la información del cliente necesaria para poder realizar un pedido, hay que agregar módulos adicionales al módulo de finalización de compra.</span><span class="sxs-lookup"><span data-stu-id="c5cec-115">To gather all the customer information that is required before an order can be placed, additional modules must be added to the checkout module.</span></span> <span data-ttu-id="c5cec-116">Por lo tanto, los minoristas tienen la flexibilidad de agregar módulos personalizados al flujo de finalización de compra, o de excluir módulos, según sus requisitos.</span><span class="sxs-lookup"><span data-stu-id="c5cec-116">Therefore, retailers have the flexibility to add custom modules to the checkout flow, or to exclude modules, based on their requirements.</span></span>

### <a name="modules-that-can-be-used-in-the-checkout-module"></a><span data-ttu-id="c5cec-117">Módulos que se pueden usar en el módulo de finalización de compra</span><span class="sxs-lookup"><span data-stu-id="c5cec-117">Modules that can be used in the checkout module</span></span>

- <span data-ttu-id="c5cec-118">**Dirección de envío**: este módulo permite que un cliente agregue o seleccione la dirección de envío para un pedido.</span><span class="sxs-lookup"><span data-stu-id="c5cec-118">**Shipping address** – This module lets a customer add or select the shipping address for an order.</span></span> <span data-ttu-id="c5cec-119">Si el cliente ha iniciado sesión, se muestran las direcciones que se guardaron anteriormente para ese cliente.</span><span class="sxs-lookup"><span data-stu-id="c5cec-119">If the customer is signed in, any addresses that were previously saved for that customer are shown.</span></span> <span data-ttu-id="c5cec-120">El cliente puede seleccionar a continuación entre esas direcciones.</span><span class="sxs-lookup"><span data-stu-id="c5cec-120">The customer can then select among those addresses.</span></span> <span data-ttu-id="c5cec-121">El cliente también puede agregar una dirección nueva.</span><span class="sxs-lookup"><span data-stu-id="c5cec-121">The customer can also add a new address.</span></span> <span data-ttu-id="c5cec-122">La dirección de envío se usa para todos los artículos del pedido que requieren envío.</span><span class="sxs-lookup"><span data-stu-id="c5cec-122">The shipping address is used for all the items in the order that require shipping.</span></span> <span data-ttu-id="c5cec-123">No se puede personalizar para artículos de línea individuales.</span><span class="sxs-lookup"><span data-stu-id="c5cec-123">It can't be customized for individual line items.</span></span> <span data-ttu-id="c5cec-124">Los formatos de dirección de envío se definen para cada país o región, y las reglas específicas de país o región se aplican por este módulo.</span><span class="sxs-lookup"><span data-stu-id="c5cec-124">Shipping address formats are defined for each country or region, and the country/region-specific rules are enforced by this module.</span></span> <span data-ttu-id="c5cec-125">Aunque este módulo no proporcione la validación de la dirección, la validación de la dirección se puede implementar a través de la personalización.</span><span class="sxs-lookup"><span data-stu-id="c5cec-125">Although this module doesn't provide address validation, address validation can be implemented through customization.</span></span> <span data-ttu-id="c5cec-126">Si el pedido solo incluye artículos que se recogerán en la tienda, este módulo se oculta automáticamente.</span><span class="sxs-lookup"><span data-stu-id="c5cec-126">If the order includes only items that will be picked up in the store, this module is automatically hidden.</span></span>
- <span data-ttu-id="c5cec-127">**Opciones de entrega**: este módulo permite a un cliente seleccionar una opción de entrega para un pedido.</span><span class="sxs-lookup"><span data-stu-id="c5cec-127">**Delivery options** – This module lets a customer select a delivery option for an order.</span></span> <span data-ttu-id="c5cec-128">Las opciones de entrega se basan en la dirección de envío.</span><span class="sxs-lookup"><span data-stu-id="c5cec-128">Delivery options are based on the shipping address.</span></span> <span data-ttu-id="c5cec-129">Si cambia la dirección de envío, las opciones de entrega se deben recuperar de nuevo.</span><span class="sxs-lookup"><span data-stu-id="c5cec-129">If the shipping address is changed, the delivery options must be retrieved again.</span></span> <span data-ttu-id="c5cec-130">Si el pedido solo incluye artículos que se recogerán en la tienda, este módulo se oculta automáticamente.</span><span class="sxs-lookup"><span data-stu-id="c5cec-130">If the order includes only items that will be picked up in the store, this module is automatically hidden.</span></span>
- <span data-ttu-id="c5cec-131">**Contenedor de secciones de finalización de compra:** este módulo es un contenedor que puede colocar varios módulos dentro para crear una sección dentro del flujo de finalización de compra.</span><span class="sxs-lookup"><span data-stu-id="c5cec-131">**Checkout section container** – This module is a container that you can put multiple modules inside to create a section within the checkout flow.</span></span> <span data-ttu-id="c5cec-132">Por ejemplo, puede colocar todos los módulos relacionados con pagos dentro de este contenedor para que aparezcan como una sección.</span><span class="sxs-lookup"><span data-stu-id="c5cec-132">For example, you can put all payment-related modules inside this container to make them appear as one section.</span></span> <span data-ttu-id="c5cec-133">Este módulo solo afecta al diseño del flujo.</span><span class="sxs-lookup"><span data-stu-id="c5cec-133">This module affects only the layout of the flow.</span></span>
- <span data-ttu-id="c5cec-134">**Tarjeta regalo**: este módulo permite a un cliente pagar por un pedido con una tarjeta regalo.</span><span class="sxs-lookup"><span data-stu-id="c5cec-134">**Gift card** – This module lets a customer pay for an order by using a gift card.</span></span> <span data-ttu-id="c5cec-135">Solo admite tarjetas regalos de Microsoft Dynamics 365 Commerce.</span><span class="sxs-lookup"><span data-stu-id="c5cec-135">It supports only Microsoft Dynamics 365 Commerce gift cards.</span></span> <span data-ttu-id="c5cec-136">Se pueden aplicar una o más tarjetas regalo a un pedido.</span><span class="sxs-lookup"><span data-stu-id="c5cec-136">One or more gift cards can be applied to an order.</span></span> <span data-ttu-id="c5cec-137">Si el saldo de la tarjeta regalo no cubre el importe del carro, la tarjeta regalo se puede combinar con otro método de pago.</span><span class="sxs-lookup"><span data-stu-id="c5cec-137">If the balance of the gift card doesn't cover the amount in the cart, the gift card can be combined with another payment method.</span></span> <span data-ttu-id="c5cec-138">Las tarjetas regalo solo se pueden canjear si el cliente ha iniciado sesión.</span><span class="sxs-lookup"><span data-stu-id="c5cec-138">Gift cards can be redeemed only if the customer is signed in.</span></span>
- <span data-ttu-id="c5cec-139">**Puntos de fidelización:** este módulo permite a un cliente pagar por un pedido mediante puntos de fidelización.</span><span class="sxs-lookup"><span data-stu-id="c5cec-139">**Loyalty points** – This module lets a customer pay for an order by using loyalty points.</span></span> <span data-ttu-id="c5cec-140">Ofrece un resumen de puntos disponibles y puntos de caducidad, y permite al cliente seleccionar el número de puntos que se canjearán.</span><span class="sxs-lookup"><span data-stu-id="c5cec-140">It provides a summary of available points and expiring points, and lets the customer select the number of points to redeem.</span></span> <span data-ttu-id="c5cec-141">Si el cliente no ha iniciado sesión o no es un cliente de fidelización, o si el importe total del carro es 0 (cero), este módulo se oculta automáticamente.</span><span class="sxs-lookup"><span data-stu-id="c5cec-141">If the customer isn't signed in or isn't a loyalty member, or if the total amount in the cart is 0 (zero), this module is automatically hidden.</span></span>
- <span data-ttu-id="c5cec-142">**Pago**: este módulo permite a un cliente pagar un pedido con una tarjeta de crédito.</span><span class="sxs-lookup"><span data-stu-id="c5cec-142">**Payment** – This module lets a customer pay for an order by using a credit card.</span></span> <span data-ttu-id="c5cec-143">Si el importe total del carro se cubre con puntos de fidelización o una tarjeta regalo, o es 0 (cero), este módulo se oculta automáticamente.</span><span class="sxs-lookup"><span data-stu-id="c5cec-143">If the total amount in the cart is covered by loyalty points or a gift card, or if it's 0 (zero), this module is automatically hidden.</span></span> <span data-ttu-id="c5cec-144">La integración de la tarjeta de crédito la proporciona el connector de pagos de Adyen para este módulo.</span><span class="sxs-lookup"><span data-stu-id="c5cec-144">Credit card integration is provided by the Adyen payment connector for this module.</span></span> <span data-ttu-id="c5cec-145">Para obtener más información acerca de cómo usar este conector, consulte [Conector de pago de Dynamics 365 para Adyen](dev-itpro/adyen-connector.md).</span><span class="sxs-lookup"><span data-stu-id="c5cec-145">For more information about how to use this connector, see [Dynamics 365 Payment Connector for Adyen](dev-itpro/adyen-connector.md).</span></span>
- <span data-ttu-id="c5cec-146">**Dirección de facturación**: este módulo permite a un cliente proporcionar información de facturación.</span><span class="sxs-lookup"><span data-stu-id="c5cec-146">**Billing address** – This module lets a customer provide billing information.</span></span> <span data-ttu-id="c5cec-147">Adyen procesa esta información, junto con la información de la tarjeta de crédito.</span><span class="sxs-lookup"><span data-stu-id="c5cec-147">This information is processed, together with the credit card information, by Adyen.</span></span> <span data-ttu-id="c5cec-148">Este módulo incluye una opción que permite a los clientes usar su dirección de facturación como la dirección de envío.</span><span class="sxs-lookup"><span data-stu-id="c5cec-148">This module includes an option that lets customers use their billing address as the shipping address.</span></span>
- <span data-ttu-id="c5cec-149">**Información de contacto:** este módulo permite a un cliente agregar o cambiar la información de contacto (dirección de correo electrónico) para un pedido.</span><span class="sxs-lookup"><span data-stu-id="c5cec-149">**Contact information** – This module lets a customer add or change the contact information (email address) for an order.</span></span>
- <span data-ttu-id="c5cec-150">**Bloque de texto**: este módulo contiene cualquier mensajería controlada por el sistema de gestión de contenidos (CMS).</span><span class="sxs-lookup"><span data-stu-id="c5cec-150">**Text block** – This module contains any messaging that is driven by the content management system (CMS).</span></span> <span data-ttu-id="c5cec-151">Por ejemplo, es posible que contenga un mensaje que indique "Para problemas con el pedido, póngase en contacto con 1-800-Fabrikam".</span><span class="sxs-lookup"><span data-stu-id="c5cec-151">For example, it might contain a message that states, "For issues with your order, contact 1-800-Fabrikam."</span></span> 

## <a name="commerce-scale-unit-interaction"></a><span data-ttu-id="c5cec-152">Interacción con Commerce Scale Unit</span><span class="sxs-lookup"><span data-stu-id="c5cec-152">Commerce Scale Unit interaction</span></span>

<span data-ttu-id="c5cec-153">La mayor parte de la información de finalización del pago, como la dirección de envío y el método de envío, se almacena en el carro y se procesa como parte del pedido.</span><span class="sxs-lookup"><span data-stu-id="c5cec-153">Most of the checkout information, such as the shipping address and shipping method, is stored in the cart and processed as part of the order.</span></span> <span data-ttu-id="c5cec-154">La única excepción es la información de la tarjeta de crédito.</span><span class="sxs-lookup"><span data-stu-id="c5cec-154">The only exception is the credit card information.</span></span> <span data-ttu-id="c5cec-155">Esta información se procesa directamente mediante el conector de pagos de Adyen.</span><span class="sxs-lookup"><span data-stu-id="c5cec-155">This information is processed directly by using the Adyen payment connector.</span></span> <span data-ttu-id="c5cec-156">El pago se autoriza pero no se carga.</span><span class="sxs-lookup"><span data-stu-id="c5cec-156">The payment is authorized but isn't charged.</span></span>

## <a name="add-a-checkout-module-to-a-new-page-and-set-the-required-properties"></a><span data-ttu-id="c5cec-157">Agregue un módulo de finalización del pago a una página nueva y establezca las propiedades necesarias.</span><span class="sxs-lookup"><span data-stu-id="c5cec-157">Add a checkout module to a new page and set the required properties</span></span>

<span data-ttu-id="c5cec-158">Para agregar un módulo de finalización del pago a una página nueva y establecer las propiedades necesarias, siga estos pasos.</span><span class="sxs-lookup"><span data-stu-id="c5cec-158">To add a checkout module to a new page and set the required properties, follow these steps.</span></span>

1. <span data-ttu-id="c5cec-159">Vaya a **Fragmento \> Nuevo fragmento** y asigne al nuevo fragmento el nombre **Fragmento de finalización de compra**.</span><span class="sxs-lookup"><span data-stu-id="c5cec-159">Go to **Fragment \> New Fragment**, and name the new fragment **Checkout fragment**.</span></span>
1. <span data-ttu-id="c5cec-160">Agregue un módulo de finalización de compra al fragmento.</span><span class="sxs-lookup"><span data-stu-id="c5cec-160">Add a checkout module to the fragment.</span></span>
1. <span data-ttu-id="c5cec-161">Agregue un encabezado al módulo de finalización de compra.</span><span class="sxs-lookup"><span data-stu-id="c5cec-161">Add a heading to the checkout module.</span></span>
1. <span data-ttu-id="c5cec-162">Agregue la dirección de envío, las opciones de entrega, el contenedor de la sección de finalización de compra y los módulos de información de contacto.</span><span class="sxs-lookup"><span data-stu-id="c5cec-162">Add shipping address, delivery options, checkout section container, and contact information modules.</span></span> 
1. <span data-ttu-id="c5cec-163">En el módulo de contenedor de la sección de finalización de compra, agregue los módulos de la tarjeta regalo, los puntos de fidelización y pago.</span><span class="sxs-lookup"><span data-stu-id="c5cec-163">In the checkout section container module, add gift card, loyalty points, and payment modules.</span></span> <span data-ttu-id="c5cec-164">De esta manera, asegúrese de que todos los métodos de pago aparecen juntos en una sección.</span><span class="sxs-lookup"><span data-stu-id="c5cec-164">In this way, you make sure that all the payment methods appear together in a section.</span></span>
1. <span data-ttu-id="c5cec-165">Guarde el fragmento y muestre una vista.</span><span class="sxs-lookup"><span data-stu-id="c5cec-165">Save and preview the fragment.</span></span> <span data-ttu-id="c5cec-166">Es posible que los módulos que no tienen un contexto de carro no se representen en la vista previa.</span><span class="sxs-lookup"><span data-stu-id="c5cec-166">Some modules that don't have a cart context might not be rendered in the preview.</span></span>
1. <span data-ttu-id="c5cec-167">Termine de editar el fragmento y publíquelo.</span><span class="sxs-lookup"><span data-stu-id="c5cec-167">Finish editing the fragment, and publish it.</span></span>
1. <span data-ttu-id="c5cec-168">Cree una plantilla que use el nuevo fragmento de finalización de compra.</span><span class="sxs-lookup"><span data-stu-id="c5cec-168">Create a template that uses the new checkout fragment.</span></span>
1. <span data-ttu-id="c5cec-169">Cree una página de finalización de compra que use la nueva plantilla.</span><span class="sxs-lookup"><span data-stu-id="c5cec-169">Create a checkout page that uses the new template.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="c5cec-170">Recursos adicionales</span><span class="sxs-lookup"><span data-stu-id="c5cec-170">Additional resources</span></span>

[<span data-ttu-id="c5cec-171">Visión general de kit de inicio</span><span class="sxs-lookup"><span data-stu-id="c5cec-171">Starter kit overview</span></span>](starter-kit-overview.md)

[<span data-ttu-id="c5cec-172">Módulo Contenedor</span><span class="sxs-lookup"><span data-stu-id="c5cec-172">Container module</span></span>](add-container-module.md)

[<span data-ttu-id="c5cec-173">Módulo de cuadro de compra</span><span class="sxs-lookup"><span data-stu-id="c5cec-173">Buy box module</span></span>](add-buy-box.md)

[<span data-ttu-id="c5cec-174">Módulo de carro</span><span class="sxs-lookup"><span data-stu-id="c5cec-174">Cart module</span></span>](add-cart-module.md)

[<span data-ttu-id="c5cec-175">Módulo de confirmación de pedido</span><span class="sxs-lookup"><span data-stu-id="c5cec-175">Order confirmation module</span></span>](order-confirmation-module.md)

[<span data-ttu-id="c5cec-176">Módulo de encabezado</span><span class="sxs-lookup"><span data-stu-id="c5cec-176">Header module</span></span>](author-header-module.md)

[<span data-ttu-id="c5cec-177">Módulo de pie de página</span><span class="sxs-lookup"><span data-stu-id="c5cec-177">Footer module</span></span>](author-footer-module.md)
