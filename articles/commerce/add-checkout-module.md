---
title: Módulo de finalización de compra
description: En este tema se describe cómo agregar un módulo de finalización de compra a una página y establecer las propiedades necesarias.
author: anupamar-ms
manager: annbe
ms.date: 10/31/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-commerce
ms.technology: ''
audience: Application user
ms.reviewer: v-chgri
ms.search.scope: Operations, Retail, Core
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: anupamar
ms.search.validFrom: 2019-10-31
ms.dyn365.ops.version: Release 10.0.5
ms.openlocfilehash: 4b810441fd25d41ee0893b119b4f7d91e7435d21
ms.sourcegitcommit: 295d940a345879b3dfc5991e387b91c7257019ea
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 11/01/2019
ms.locfileid: "2697092"
---
# <a name="checkout-module"></a><span data-ttu-id="adf37-103">Módulo de finalización de compra</span><span class="sxs-lookup"><span data-stu-id="adf37-103">Checkout module</span></span>

[!include [banner](includes/preview-banner.md)]
[!include [banner](includes/banner.md)]

<span data-ttu-id="adf37-104">En este tema se describe cómo agregar un módulo de finalización de compra a una página y establecer las propiedades necesarias.</span><span class="sxs-lookup"><span data-stu-id="adf37-104">This topic describes how to add a checkout module to a page and set the required properties.</span></span>

## <a name="overview"></a><span data-ttu-id="adf37-105">Visión general</span><span class="sxs-lookup"><span data-stu-id="adf37-105">Overview</span></span>

<span data-ttu-id="adf37-106">Un módulo de finalización de compra es un contenedor especial que hospeda todos los módulos necesarios para crear un pedido.</span><span class="sxs-lookup"><span data-stu-id="adf37-106">A checkout module is a special container that hosts all the modules that are required to create an order.</span></span> <span data-ttu-id="adf37-107">Un módulo de finalización de pago puede incluir módulos que administren la dirección de envío, los métodos de envío, la información de facturación, el resumen de pedidos y otra información relacionada con un pedido de cliente.</span><span class="sxs-lookup"><span data-stu-id="adf37-107">A checkout module can include modules that handle the shipping address, shipping methods, billing information, order summary, and other information that is related to a customer order.</span></span> <span data-ttu-id="adf37-108">Presenta un flujo detallado que un cliente usa para introducir toda la información pertinente para realizar una compra.</span><span class="sxs-lookup"><span data-stu-id="adf37-108">It presents a step-by-step flow that a customer uses to enter all the relevant information to make a purchase.</span></span>

<span data-ttu-id="adf37-109">Un módulo de finalización de compra representa datos a partir del id. del carro.</span><span class="sxs-lookup"><span data-stu-id="adf37-109">A checkout module renders data based on the cart ID.</span></span> <span data-ttu-id="adf37-110">Este id. del carro se guarda como cookie del explorador.</span><span class="sxs-lookup"><span data-stu-id="adf37-110">This cart ID is saved as a browser cookie.</span></span> <span data-ttu-id="adf37-111">Se requiere un id. de carro para representar información en el módulo de finalización de compra, como los artículos del pedido, el importe total y los descuentos.</span><span class="sxs-lookup"><span data-stu-id="adf37-111">A cart ID is required to render information in the checkout module, such as the items in the order, the total amount, and discounts.</span></span>

## <a name="checkout-module-properties"></a><span data-ttu-id="adf37-112">Propiedades del módulo de finalización de compra</span><span class="sxs-lookup"><span data-stu-id="adf37-112">Checkout module properties</span></span>

<span data-ttu-id="adf37-113">Un módulo de finalización de compra hospeda un conjunto de módulos en él.</span><span class="sxs-lookup"><span data-stu-id="adf37-113">A checkout module hosts a set of modules inside it.</span></span> <span data-ttu-id="adf37-114">Una propiedad de ancho le permite especificar si los artículos del módulo de finalización de compra deben ajustarse a su ancho o rellenar la pantalla.</span><span class="sxs-lookup"><span data-stu-id="adf37-114">A width property lets you specify whether the items in the checkout module should fit the width of it or fill the screen.</span></span>

<span data-ttu-id="adf37-115">Un módulo de finalización de compra tiene varias franjas, como una franja **Información de finalización de la compra**, una franja **Resumen del pedido** y una franja **Realizar pedido**.</span><span class="sxs-lookup"><span data-stu-id="adf37-115">A checkout module has multiple slots, such as a **Checkout information** slot, an **Order summary** slot, and a **Place order** slot.</span></span> <span data-ttu-id="adf37-116">Cada franja admite un conjunto de módulos que aparecerán en un diseño específico de la página.</span><span class="sxs-lookup"><span data-stu-id="adf37-116">Each slot supports a set of modules that will appear in a specific layout on the page.</span></span> <span data-ttu-id="adf37-117">Por ejemplo, la franja **Información de finalización de compra** contiene todos los módulos que se requieren para desencadenar una finalización de compra, como módulos para la dirección de envío y el método de pago.</span><span class="sxs-lookup"><span data-stu-id="adf37-117">For example, the **Checkout information** slot contains all the modules that are required to trigger a checkout, such as modules for the shipping address and payment method.</span></span> <span data-ttu-id="adf37-118">La franja **Resumen del pedido** muestra un resumen del pedido y admite la acción para realizar el pedido.</span><span class="sxs-lookup"><span data-stu-id="adf37-118">The **Order summary** slot shows an order summary and supports the action for placing the order.</span></span> <span data-ttu-id="adf37-119">La franja **Realizar pedido** también admite la acción para realizar el pedido.</span><span class="sxs-lookup"><span data-stu-id="adf37-119">The **Place order** slot also supports the action for placing the order.</span></span> <span data-ttu-id="adf37-120">Los módulos Realizar pedido se pueden definir en dos franjas para optimizar el proceso de realizar pedidos desde varias plataformas.</span><span class="sxs-lookup"><span data-stu-id="adf37-120">Place order modules can be defined in two slots to optimize the process of placing orders from various platforms.</span></span>

### <a name="modules-that-can-be-used-in-the-checkout-module"></a><span data-ttu-id="adf37-121">Módulos que se pueden usar en el módulo de finalización de compra</span><span class="sxs-lookup"><span data-stu-id="adf37-121">Modules that can be used in the checkout module</span></span>

- <span data-ttu-id="adf37-122">**Dirección de envío**: este módulo permite que un cliente agregue o seleccione la dirección de envío para un pedido.</span><span class="sxs-lookup"><span data-stu-id="adf37-122">**Shipping address** – This module lets a customer add or select the shipping address for an order.</span></span> <span data-ttu-id="adf37-123">Si el cliente ha iniciado sesión, se muestran las direcciones que se guardaron anteriormente para ese cliente.</span><span class="sxs-lookup"><span data-stu-id="adf37-123">If the customer is signed in, any addresses that were previously saved for that customer are shown.</span></span> <span data-ttu-id="adf37-124">El cliente puede seleccionar a continuación entre esas direcciones.</span><span class="sxs-lookup"><span data-stu-id="adf37-124">The customer can then select among those addresses.</span></span> <span data-ttu-id="adf37-125">El cliente también puede agregar una dirección nueva.</span><span class="sxs-lookup"><span data-stu-id="adf37-125">The customer can also add a new address.</span></span> <span data-ttu-id="adf37-126">La dirección de envío se usa para todos los artículos del pedido que requieren envío.</span><span class="sxs-lookup"><span data-stu-id="adf37-126">The shipping address is used for all the items in the order that require shipping.</span></span> <span data-ttu-id="adf37-127">No se puede personalizar para artículos de línea individuales.</span><span class="sxs-lookup"><span data-stu-id="adf37-127">It can't be customized for individual line items.</span></span> <span data-ttu-id="adf37-128">Los formatos de dirección de envío se definen para cada país o región, y las reglas específicas de país o región se aplican por este módulo.</span><span class="sxs-lookup"><span data-stu-id="adf37-128">Shipping address formats are defined for each country or region, and the country/region-specific rules are enforced by this module.</span></span> <span data-ttu-id="adf37-129">Aunque este módulo no proporcione la validación de la dirección, la validación de la dirección se puede implementar a través de la personalización.</span><span class="sxs-lookup"><span data-stu-id="adf37-129">Although this module doesn't provide address validation, address validation can be implemented through customization.</span></span> <span data-ttu-id="adf37-130">Si el pedido solo incluye artículos que se recogerán en la tienda, este módulo se oculta automáticamente.</span><span class="sxs-lookup"><span data-stu-id="adf37-130">If the order includes only items that will be picked up in the store, this module is automatically hidden.</span></span>
- <span data-ttu-id="adf37-131">**Opciones de entrega**: este módulo permite a un cliente seleccionar una opción de entrega para un pedido.</span><span class="sxs-lookup"><span data-stu-id="adf37-131">**Delivery options** – This module lets a customer select a delivery option for an order.</span></span> <span data-ttu-id="adf37-132">Las opciones de entrega se basan en la dirección de envío.</span><span class="sxs-lookup"><span data-stu-id="adf37-132">Delivery options are based on the shipping address.</span></span> <span data-ttu-id="adf37-133">Si cambia la dirección de envío, las opciones de entrega se deben recuperar de nuevo.</span><span class="sxs-lookup"><span data-stu-id="adf37-133">If the shipping address is changed, the delivery options must be retrieved again.</span></span> <span data-ttu-id="adf37-134">Si el pedido solo incluye artículos que se recogerán en la tienda, este módulo se oculta automáticamente.</span><span class="sxs-lookup"><span data-stu-id="adf37-134">If the order includes only items that will be picked up in the store, this module is automatically hidden.</span></span>
- <span data-ttu-id="adf37-135">**Contenedor de secciones de finalización de compra:** este módulo es un contenedor que puede colocar varios módulos dentro para crear una sección dentro del flujo de finalización de compra.</span><span class="sxs-lookup"><span data-stu-id="adf37-135">**Checkout section container** – This module is a container that you can put multiple modules inside to create a section within the checkout flow.</span></span> <span data-ttu-id="adf37-136">Por ejemplo, puede colocar todos los módulos relacionados con pagos dentro de este contenedor para que aparezcan como una sección.</span><span class="sxs-lookup"><span data-stu-id="adf37-136">For example, you can put all payment-related modules inside this container to make them appear as one section.</span></span> <span data-ttu-id="adf37-137">Este módulo solo afecta al diseño del flujo.</span><span class="sxs-lookup"><span data-stu-id="adf37-137">This module affects only the layout of the flow.</span></span>
- <span data-ttu-id="adf37-138">**Tarjeta regalo**: este módulo permite a un cliente pagar por un pedido con una tarjeta regalo.</span><span class="sxs-lookup"><span data-stu-id="adf37-138">**Gift card** – This module lets a customer pay for an order by using a gift card.</span></span> <span data-ttu-id="adf37-139">Solo admite tarjetas regalos de Microsoft Dynamics 365 Commerce.</span><span class="sxs-lookup"><span data-stu-id="adf37-139">It supports only Microsoft Dynamics 365 Commerce gift cards.</span></span> <span data-ttu-id="adf37-140">Se pueden aplicar una o más tarjetas regalo a un pedido.</span><span class="sxs-lookup"><span data-stu-id="adf37-140">One or more gift cards can be applied to an order.</span></span> <span data-ttu-id="adf37-141">Si el saldo de la tarjeta regalo no cubre el importe del carro, la tarjeta regalo se puede combinar con otro método de pago.</span><span class="sxs-lookup"><span data-stu-id="adf37-141">If the balance of the gift card doesn't cover the amount in the cart, the gift card can be combined with another payment method.</span></span> <span data-ttu-id="adf37-142">Las tarjetas regalo solo se pueden canjear si el cliente ha iniciado sesión.</span><span class="sxs-lookup"><span data-stu-id="adf37-142">Gift cards can be redeemed only if the customer is signed in.</span></span>
- <span data-ttu-id="adf37-143">**Puntos de fidelización:** este módulo permite a un cliente pagar por un pedido mediante puntos de fidelización.</span><span class="sxs-lookup"><span data-stu-id="adf37-143">**Loyalty points** – This module lets a customer pay for an order by using loyalty points.</span></span> <span data-ttu-id="adf37-144">Ofrece un resumen de puntos disponibles y puntos de caducidad, y permite al cliente seleccionar el número de puntos que se canjearán.</span><span class="sxs-lookup"><span data-stu-id="adf37-144">It provides a summary of available points and expiring points, and lets the customer select the number of points to redeem.</span></span> <span data-ttu-id="adf37-145">Si el cliente no ha iniciado sesión o no es un cliente de fidelización, o si el importe total del carro es 0 (cero), este módulo se oculta automáticamente.</span><span class="sxs-lookup"><span data-stu-id="adf37-145">If the customer isn't signed in or isn't a loyalty member, or if the total amount in the cart is 0 (zero), this module is automatically hidden.</span></span>
- <span data-ttu-id="adf37-146">**Tarjeta de crédito**: este módulo permite a un cliente pagar por un pedido con una tarjeta de crédito.</span><span class="sxs-lookup"><span data-stu-id="adf37-146">**Credit card** – This module lets a customer pay for an order by using a credit card.</span></span> <span data-ttu-id="adf37-147">Si el importe total del carro se cubre con puntos de fidelización o una tarjeta regalo, o es 0 (cero), este módulo se oculta automáticamente.</span><span class="sxs-lookup"><span data-stu-id="adf37-147">If the total amount in the cart is covered by loyalty points or a gift card, or if it's 0 (zero), this module is automatically hidden.</span></span> <span data-ttu-id="adf37-148">La integración de la tarjeta de crédito la proporciona el connector de pagos de Adyen.</span><span class="sxs-lookup"><span data-stu-id="adf37-148">Credit card integration is provided by the Adyen payment connector.</span></span> <span data-ttu-id="adf37-149">Para obtener más información acerca de cómo usar este conector, consulte [Conector de pagos de Adyen](https://).</span><span class="sxs-lookup"><span data-stu-id="adf37-149">For more information about how to use this connector, see [Adyen payment connector](https://).</span></span>
- <span data-ttu-id="adf37-150">**Dirección de facturación**: este módulo permite a un cliente proporcionar información de facturación.</span><span class="sxs-lookup"><span data-stu-id="adf37-150">**Billing address** – This module lets a customer provide billing information.</span></span> <span data-ttu-id="adf37-151">Adyen procesa esta información, junto con la información de la tarjeta de crédito.</span><span class="sxs-lookup"><span data-stu-id="adf37-151">This information is processed, together with the credit card information, by Adyen.</span></span> <span data-ttu-id="adf37-152">Este módulo incluye una opción que permite a los clientes usar su dirección de facturación como la dirección de envío.</span><span class="sxs-lookup"><span data-stu-id="adf37-152">This module includes an option that lets customers use their billing address as the shipping address.</span></span>
- <span data-ttu-id="adf37-153">**Información de contacto:** este módulo permite a un cliente agregar o cambiar la información de contacto (dirección de correo electrónico) para un pedido.</span><span class="sxs-lookup"><span data-stu-id="adf37-153">**Contact information** – This module lets a customer add or change the contact information (email address) for an order.</span></span>
- <span data-ttu-id="adf37-154">**Realizar pedido:** este módulo permite a un cliente realizar un pedido.</span><span class="sxs-lookup"><span data-stu-id="adf37-154">**Place order** – This module lets a customer place an order.</span></span>
- <span data-ttu-id="adf37-155">**Bloque de enriquecimiento de contenido:** este módulo contiene cualquier mensajería controlada por el sistema de gestión de contenidos (CMS).</span><span class="sxs-lookup"><span data-stu-id="adf37-155">**Content rich block** – This module contains any messaging that is driven by the content management system (CMS).</span></span> <span data-ttu-id="adf37-156">Por ejemplo, es posible que contenga un mensaje que indique “Para problemas con el pedido, póngase en contacto con 1-800-FABRIKAM”.</span><span class="sxs-lookup"><span data-stu-id="adf37-156">For example, it might contain a message that states, "For issues with your order, please contact 1-800-FABRIKAM."</span></span> 
- <span data-ttu-id="adf37-157">**Resumen del pedido:** este módulo muestra el desglose de costes de un pedido.</span><span class="sxs-lookup"><span data-stu-id="adf37-157">**Order summary** – This module shows the cost breakdown of an order.</span></span>
- <span data-ttu-id="adf37-158">**Elementos de línea de pedido:** este módulo muestra un resumen de los artículos que se incluirán en un pedido.</span><span class="sxs-lookup"><span data-stu-id="adf37-158">**Order line items** – This module shows a summary of the items that will be included in an order.</span></span>

## <a name="retail-server-interaction"></a><span data-ttu-id="adf37-159">Interacción con Retail Server</span><span class="sxs-lookup"><span data-stu-id="adf37-159">Retail server interaction</span></span>

<span data-ttu-id="adf37-160">La mayor parte de la información de finalización del pago, como la dirección de envío y el método de envío, se almacena en el carro y se procesa como parte del pedido.</span><span class="sxs-lookup"><span data-stu-id="adf37-160">Most of the checkout information, such as the shipping address and shipping method, is stored in the cart and processed as part of the order.</span></span> <span data-ttu-id="adf37-161">La única excepción es la información de la tarjeta de crédito.</span><span class="sxs-lookup"><span data-stu-id="adf37-161">The only exception is the credit card information.</span></span> <span data-ttu-id="adf37-162">Esta información se procesa directamente mediante el conector de pagos de Adyen.</span><span class="sxs-lookup"><span data-stu-id="adf37-162">This information is processed directly by using the Adyen payment connector.</span></span> <span data-ttu-id="adf37-163">El pago se autoriza pero no se carga.</span><span class="sxs-lookup"><span data-stu-id="adf37-163">The payment is authorized but isn't charged.</span></span>

## <a name="add-a-checkout-module-to-a-new-page-and-set-the-required-properties"></a><span data-ttu-id="adf37-164">Agregue un módulo de finalización del pago a una página nueva y establezca las propiedades necesarias.</span><span class="sxs-lookup"><span data-stu-id="adf37-164">Add a checkout module to a new page and set the required properties</span></span>

<span data-ttu-id="adf37-165">Para agregar un módulo de finalización del pago a una página nueva y establecer las propiedades necesarias, siga estos pasos.</span><span class="sxs-lookup"><span data-stu-id="adf37-165">To add a checkout module to a new page and set the required properties, follow these steps.</span></span>

1. <span data-ttu-id="adf37-166">Vaya a **Fragmento \> Nuevo fragmento** y asigne al nuevo fragmento el nombre **Fragmento de finalización de compra**.</span><span class="sxs-lookup"><span data-stu-id="adf37-166">Go to **Fragment \> New Fragment**, and name the new fragment **Checkout fragment**.</span></span>
1. <span data-ttu-id="adf37-167">Agregue un módulo de finalización de compra al fragmento.</span><span class="sxs-lookup"><span data-stu-id="adf37-167">Add a checkout module to the fragment.</span></span>
1. <span data-ttu-id="adf37-168">Agregue un encabezado al módulo de finalización de compra.</span><span class="sxs-lookup"><span data-stu-id="adf37-168">Add a heading to the checkout module.</span></span>
1. <span data-ttu-id="adf37-169">En la franja **Información de la finalización de compra**, agregue la dirección de envío, las opciones de entrega, el contenedor de la sección de finalización de compra y los módulos de información de contacto.</span><span class="sxs-lookup"><span data-stu-id="adf37-169">In the **Checkout information** slot, add shipping address, delivery options, checkout section container, and contact information modules.</span></span> <span data-ttu-id="adf37-170">Debe haber ahora cuatro secciones en la franja **Información de finalización de compra**.</span><span class="sxs-lookup"><span data-stu-id="adf37-170">There should now be four sections in the **Checkout information** slot.</span></span>
1. <span data-ttu-id="adf37-171">En el módulo de contenedor de la sección de finalización de compra, agregue los módulos de la tarjeta regalo, los puntos de fidelización y la tarjeta de crédito.</span><span class="sxs-lookup"><span data-stu-id="adf37-171">In the checkout section container module, add gift card, loyalty points, and credit card modules.</span></span> <span data-ttu-id="adf37-172">De esta manera, asegúrese de que todos los métodos de pago aparecen juntos en una sección.</span><span class="sxs-lookup"><span data-stu-id="adf37-172">In this way, you make sure that all the payment methods appear together in a section.</span></span>
1. <span data-ttu-id="adf37-173">En la franja **Resumen del pedido**, agregue los módulos de resumen del pedido, realizar pedido y bloque de enriquecimiento de contenido.</span><span class="sxs-lookup"><span data-stu-id="adf37-173">In the **Order summary** slot, add order summary, place order, and content rich block modules.</span></span>
1. <span data-ttu-id="adf37-174">En el módulo del bloque de enriquecimiento de contenido, agregue el texto siguiente: **Para preguntas sobre el pedido, póngase en contacto con 1-800-FABRIKAM.**</span><span class="sxs-lookup"><span data-stu-id="adf37-174">In the content rich block module, add the following text: **For questions about your order, contact 1-800-FABRIKAM.**</span></span>
1. <span data-ttu-id="adf37-175">En la franja **Realizar pedido**, agregue un módulo de realizar pedido.</span><span class="sxs-lookup"><span data-stu-id="adf37-175">In the **Place order** slot, add a place order module.</span></span>
1. <span data-ttu-id="adf37-176">Seleccione **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="adf37-176">Select **Save**.</span></span> <span data-ttu-id="adf37-177">Es posible que algunos módulos no se representen en la vista previa, porque no tienen un contexto de carro.</span><span class="sxs-lookup"><span data-stu-id="adf37-177">Some modules might not be rendered in the preview, because they don't have a cart context.</span></span>
1. <span data-ttu-id="adf37-178">Proteja el fragmento y publíquelo.</span><span class="sxs-lookup"><span data-stu-id="adf37-178">Check the fragment in, and publish it.</span></span>
1. <span data-ttu-id="adf37-179">Cree una plantilla que use el nuevo fragmento de finalización de compra.</span><span class="sxs-lookup"><span data-stu-id="adf37-179">Create a template that uses the new checkout fragment.</span></span>
1. <span data-ttu-id="adf37-180">Cree una página de finalización de compra que use la nueva plantilla.</span><span class="sxs-lookup"><span data-stu-id="adf37-180">Create a checkout page that uses the new template.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="adf37-181">Recursos adicionales</span><span class="sxs-lookup"><span data-stu-id="adf37-181">Additional resources</span></span>

[<span data-ttu-id="adf37-182">Visión general de kit de inicio</span><span class="sxs-lookup"><span data-stu-id="adf37-182">Starter kit overview</span></span>](starter-kit-overview.md)

[<span data-ttu-id="adf37-183">Módulo Contenedor</span><span class="sxs-lookup"><span data-stu-id="adf37-183">Container module</span></span>](add-container-module.md)

[<span data-ttu-id="adf37-184">Módulo de cuadro de compra</span><span class="sxs-lookup"><span data-stu-id="adf37-184">Buy box module</span></span>](add-buy-box.md)

[<span data-ttu-id="adf37-185">Módulo de carro</span><span class="sxs-lookup"><span data-stu-id="adf37-185">Cart module</span></span>](add-cart-module.md)

[<span data-ttu-id="adf37-186">Módulo de confirmación de pedido</span><span class="sxs-lookup"><span data-stu-id="adf37-186">Order confirmation module</span></span>](order-confirmation-module.md)

[<span data-ttu-id="adf37-187">Módulo de encabezado</span><span class="sxs-lookup"><span data-stu-id="adf37-187">Header module</span></span>](author-header-module.md)

[<span data-ttu-id="adf37-188">Módulo de pie de página</span><span class="sxs-lookup"><span data-stu-id="adf37-188">Footer module</span></span>](author-footer-module.md)
