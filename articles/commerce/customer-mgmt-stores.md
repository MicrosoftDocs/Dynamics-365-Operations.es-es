---
title: Gestión de clientes en tiendas
description: Este tema explica cómo los minoristas pueden habilitar las capacidades de gestión de clientes en el punto de venta (PDV) en Microsoft Dynamics 365 Commerce.
author: josaw1
ms.date: 03/05/2021
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
ms.search.form: RetailOperations
audience: Application User, IT Pro
ms.reviewer: v-chgri
ms.search.region: Global
ms.search.industry: retail
ms.author: shajain
ms.search.validFrom: 2021-01-31
ms.dyn365.ops.version: 10.0.14
ms.openlocfilehash: 46a18d36a389e8a52253c2c3a153e0eae95c0e57
ms.sourcegitcommit: 3cdc42346bb653c13ab33a7142dbb7969f1f6dda
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 03/31/2021
ms.locfileid: "5799430"
---
# <a name="customer-management-in-stores"></a><span data-ttu-id="95aa3-103">Gestión de clientes en tiendas</span><span class="sxs-lookup"><span data-stu-id="95aa3-103">Customer management in stores</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="95aa3-104">Este tema explica cómo los minoristas pueden habilitar las capacidades de gestión de clientes en el punto de venta (PDV) en Microsoft Dynamics 365 Commerce.</span><span class="sxs-lookup"><span data-stu-id="95aa3-104">This topic explains how retailers can enable customer management capabilities at the point of sale (POS) in Microsoft Dynamics 365 Commerce.</span></span>

<span data-ttu-id="95aa3-105">Es importante que los empleados de la tienda puedan crear y editar registros de clientes en el PDV.</span><span class="sxs-lookup"><span data-stu-id="95aa3-105">It's important that store associates can create and edit customer records at the POS.</span></span> <span data-ttu-id="95aa3-106">De esa manera, pueden capturar cualquier actualización de la información del cliente, como la dirección de correo electrónico, el número de teléfono y la dirección.</span><span class="sxs-lookup"><span data-stu-id="95aa3-106">In that way, they can capture any updates to customer information such as the email address, phone number, and address.</span></span> <span data-ttu-id="95aa3-107">Esta información es útil en sistemas posteriores, como el marketing, porque la efectividad de esos sistemas depende de la precisión de los datos de sus clientes.</span><span class="sxs-lookup"><span data-stu-id="95aa3-107">This information is helpful in downstream systems such as marketing, because the effectiveness of those systems depends on the accuracy of their customer data.</span></span>

<span data-ttu-id="95aa3-108">Los asociados de ventas pueden activar el flujo de trabajo de creación de clientes desde dos puntos de entrada de PDV.</span><span class="sxs-lookup"><span data-stu-id="95aa3-108">Sales associates can trigger the customer creation workflow from two POS entry points.</span></span> <span data-ttu-id="95aa3-109">Pueden seleccionar un botón que esté asignado a la operación **Agregar cliente**, o pueden seleccionar **Crear cliente** en la barra de la aplicación, en la página de resultados de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="95aa3-109">They can select a button that is mapped to the **Customer add** operation, or they can select **Create customer** on the app bar on the search results page.</span></span> <span data-ttu-id="95aa3-110">En ambos casos, aparece el cuadro de diálogo **Nuevo cliente**, donde los asociados de ventas pueden introducir los detalles requeridos del cliente, como el nombre del cliente, la dirección de correo electrónico, el número de teléfono, la dirección y cualquier información adicional que sea relevante para la empresa.</span><span class="sxs-lookup"><span data-stu-id="95aa3-110">In both cases, the **New customer** dialog box appears, where sales associates can enter required customer details, such as the customer's name, email address, phone number, address, and any additional information that is relevant to the business.</span></span> <span data-ttu-id="95aa3-111">Esa información adicional se puede capturar utilizando los atributos del cliente que están asociados con el cliente.</span><span class="sxs-lookup"><span data-stu-id="95aa3-111">That additional information can be captured by using the customer attributes that are associated with the customer.</span></span> <span data-ttu-id="95aa3-112">Para obtener más información sobre los atributos del cliente, consulte [Atributos del cliente](dev-itpro/customer-attributes.md).</span><span class="sxs-lookup"><span data-stu-id="95aa3-112">For more information about customer attributes, see [Customer attributes](dev-itpro/customer-attributes.md).</span></span>

<span data-ttu-id="95aa3-113">Los asociados de ventas también pueden capturar direcciones de correo electrónico y números de teléfono secundarios.</span><span class="sxs-lookup"><span data-stu-id="95aa3-113">Sales associates can also capture secondary email addresses and phone numbers.</span></span> <span data-ttu-id="95aa3-114">Además, pueden capturar la preferencia del cliente sobre la recepción de información de marketing a través de cualquiera de esas direcciones de correo electrónico o números de teléfono secundarios.</span><span class="sxs-lookup"><span data-stu-id="95aa3-114">Additionally, they can capture the customer's preference about receiving marketing information via any of those secondary email addresses or phone numbers.</span></span> <span data-ttu-id="95aa3-115">Para habilitar esta capacidad, los minoristas deben activar la característica **Capturar varios correos electrónicos y números de teléfono y dar consentimiento para la comercialización de estos contactos** en el característica en el espacio de trabajo **Gestión de funciones** en la sede de Commerce (**Administración de sistemas \> Espacios de trabajo \> Gestión de funciones**).</span><span class="sxs-lookup"><span data-stu-id="95aa3-115">To enable this capability, retailers must turn on the **Capture multiple emails and phone numbers and consent for marketing on these contacts** feature in the **Feature management** workspace in Commerce headquarters (**Systems administration \> Workspaces \> Feature management**).</span></span>

## <a name="default-customer-properties"></a><span data-ttu-id="95aa3-116">Propiedades de cliente predeterminadas</span><span class="sxs-lookup"><span data-stu-id="95aa3-116">Default customer properties</span></span>

<span data-ttu-id="95aa3-117">Los minoristas pueden utilizar la página **Todas las tiendas** en la sede de Commerce (**Comercio minorista \> Canales \> Tiendas**) para asociar un cliente predeterminado a cada tienda.</span><span class="sxs-lookup"><span data-stu-id="95aa3-117">Retailers can use the **All stores** page in Commerce headquarters (**Retail and Commerce \> Channels \> Stores**) to associate a default customer with each store.</span></span> <span data-ttu-id="95aa3-118">A continuación, Commerce copia las propiedades definidas para el cliente predeterminado en todos los registros de clientes nuevos que se crean.</span><span class="sxs-lookup"><span data-stu-id="95aa3-118">Commerce then copies the properties that are defined for the default customer to all new customer records that are created.</span></span> <span data-ttu-id="95aa3-119">Por ejemplo, el cuadro de diálogo **Crear cliente** muestra las propiedades que se heredan del cliente predeterminado asociado con la tienda.</span><span class="sxs-lookup"><span data-stu-id="95aa3-119">For example, the **Create customer** dialog box shows properties that are inherited from the default customer that is associated with the store.</span></span> <span data-ttu-id="95aa3-120">Esas propiedades incluyen el tipo de cliente, el grupo de clientes, la preferencia de recibo, la divisa y el idioma.</span><span class="sxs-lookup"><span data-stu-id="95aa3-120">Those properties include the customer type, customer group, receipt preference, currency, and language.</span></span> <span data-ttu-id="95aa3-121">Las afiliaciones (agrupaciones de clientes) también se heredan del cliente predeterminado.</span><span class="sxs-lookup"><span data-stu-id="95aa3-121">Any affiliations (groupings of customers) are also inherited from the default customer.</span></span> <span data-ttu-id="95aa3-122">Sin embargo, las dimensiones financieras se heredan del grupo de clientes asociado con el cliente predeterminado, no del propio cliente predeterminado.</span><span class="sxs-lookup"><span data-stu-id="95aa3-122">However, financial dimensions are inherited from the customer group that is associated with the default customer, not from the default customer itself.</span></span>

<span data-ttu-id="95aa3-123">Los asociados de ventas pueden capturar varias direcciones para un cliente.</span><span class="sxs-lookup"><span data-stu-id="95aa3-123">Sales associates can capture multiple addresses for a customer.</span></span> <span data-ttu-id="95aa3-124">El nombre y el número de teléfono del cliente se heredan de la información de contacto asociada a cada dirección.</span><span class="sxs-lookup"><span data-stu-id="95aa3-124">The customer's name and phone number are inherited from the contact information that is associated with each address.</span></span> <span data-ttu-id="95aa3-125">La ficha desplegable **Direcciones** de un registro de cliente incluye un campo **Objetivo** que los asociados de ventas pueden editar.</span><span class="sxs-lookup"><span data-stu-id="95aa3-125">The **Addresses** FastTab of a customer record includes a **Purpose** field that sales associates can edit.</span></span> <span data-ttu-id="95aa3-126">Si el tipo de cliente es **Persona**, el valor predeterminado es **Inicio**.</span><span class="sxs-lookup"><span data-stu-id="95aa3-126">If the customer type is **Person**, the default value is **Home**.</span></span> <span data-ttu-id="95aa3-127">Si el tipo de cliente es **Organización**, el valor predeterminado es **Empresa**.</span><span class="sxs-lookup"><span data-stu-id="95aa3-127">If the customer type is **Organization**, the default value is **Business**.</span></span> <span data-ttu-id="95aa3-128">Entre otros valores que admite este campo se encuentran **Hogar**, **Oficina** y **Buzón**.</span><span class="sxs-lookup"><span data-stu-id="95aa3-128">Other values that this field supports include **Home**, **Office**, and **Post box**.</span></span> <span data-ttu-id="95aa3-129">El valor del campo **País** de una dirección se hereda de la dirección principal que se especifica en la página **Unidad Operativa** en la sede de Commerce en **Administración de la organización \> Organizaciones \> Unidades operativas**.</span><span class="sxs-lookup"><span data-stu-id="95aa3-129">The value of the **Country** field for an address is inherited from the primary address that is specified on the **Operating unit** page in Commerce headquarters at **Organization administration \> Organizations \> Operating units**.</span></span>

## <a name="sync-customers-and-async-customers"></a><span data-ttu-id="95aa3-130">Clientes de modo sincrónico y de modo asincrónico</span><span class="sxs-lookup"><span data-stu-id="95aa3-130">Sync customers and Async customers</span></span>

<span data-ttu-id="95aa3-131">En Commerce, hay dos modos de creación de clientes: Sincrónico (o síncrono) y Asincrónico (o asíncrono).</span><span class="sxs-lookup"><span data-stu-id="95aa3-131">In Commerce, there are two modes of customer creation: Synchronous (or Sync) and Asynchronous (or Async).</span></span> <span data-ttu-id="95aa3-132">De forma predeterminada, los clientes se crean de forma sincrónica.</span><span class="sxs-lookup"><span data-stu-id="95aa3-132">By default, customers are created synchronously.</span></span> <span data-ttu-id="95aa3-133">Es decir, se crean en la sede de Commerce en tiempo real.</span><span class="sxs-lookup"><span data-stu-id="95aa3-133">In other words, they are created in Commerce headquarters in real time.</span></span> <span data-ttu-id="95aa3-134">El modo de creación de clientes Sincrónico es beneficioso porque los nuevos clientes se pueden buscar inmediatamente en todos los canales.</span><span class="sxs-lookup"><span data-stu-id="95aa3-134">The Sync customer creation mode is beneficial because new customers are immediately searchable across channels.</span></span> <span data-ttu-id="95aa3-135">Sin embargo, también tiene un inconveniente.</span><span class="sxs-lookup"><span data-stu-id="95aa3-135">However, it also has a drawback.</span></span> <span data-ttu-id="95aa3-136">Porque genera llamadas de [Commerce Data Exchange: servicio en tiempo real](dev-itpro/define-retail-channel-communications-cdx.md#realtime-service) a la sede de Commerce, el rendimiento puede verse afectado si se realizan muchas llamadas simultáneas de creación de clientes.</span><span class="sxs-lookup"><span data-stu-id="95aa3-136">Because it generates [Commerce Data Exchange: Real-time Service](dev-itpro/define-retail-channel-communications-cdx.md#realtime-service) calls to Commerce headquarters, performance can be affected if many concurrent customer creation calls are made.</span></span>

<span data-ttu-id="95aa3-137">Si la opción **Crear cliente en modo asíncrono** está configurada en **Sí** en el perfil de funcionalidad de la tienda (**Comercio minorista y Commerce \> Configuración de canal \> Configuración de la tienda en línea \> Perfiles de funcionalidad**), las llamadas de servicio en tiempo real no se utilizan para crear registros de clientes en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="95aa3-137">If the **Create customer in async mode** option is set to **Yes** in the store's functionality profile (**Retail and Commerce \> Channel setup \> Online store setup \> Functionality profiles**), Real-time Service calls aren't used to create customer records in the channel database.</span></span> <span data-ttu-id="95aa3-138">El modo de creación de clientes Asincrónico no afecta el rendimiento de la sede de Commerce.</span><span class="sxs-lookup"><span data-stu-id="95aa3-138">The Async customer creation mode doesn't affect the performance of Commerce headquarters.</span></span> <span data-ttu-id="95aa3-139">Se asigna un identificador único global temporal (GUID) a cada nuevo registro de cliente asincrónico y se utiliza como id. de cuenta de cliente.</span><span class="sxs-lookup"><span data-stu-id="95aa3-139">A temporary globally unique identifier (GUID) is assigned to every new Async customer record and used as the customer account ID.</span></span> <span data-ttu-id="95aa3-140">Este GUID no se muestra a los usuarios de PDV.</span><span class="sxs-lookup"><span data-stu-id="95aa3-140">This GUID isn't shown to POS users.</span></span> <span data-ttu-id="95aa3-141">En cambio, esos usuarios verán **Pendiente de sincronización** como id. de la cuenta del cliente.</span><span class="sxs-lookup"><span data-stu-id="95aa3-141">Instead, those users will see **Pending sync** as the customer account ID.</span></span> <span data-ttu-id="95aa3-142">Aunque esta configuración obliga a que los clientes se creen de asincrónicamente, tenga en cuenta que las ediciones en los registros de los clientes siempre se realizan de forma sincrónica.</span><span class="sxs-lookup"><span data-stu-id="95aa3-142">Although this configuration forces customers to be created asynchronously, note that edits to customer records are always done synchronously.</span></span>

### <a name="convert-async-customers-to-sync-customers"></a><span data-ttu-id="95aa3-143">Convertir clientes de modo asincrónico y en clientes de modo sincrónico</span><span class="sxs-lookup"><span data-stu-id="95aa3-143">Convert Async customers to Sync customers</span></span>

<span data-ttu-id="95aa3-144">Para convertir los clientes asincrónicos en clientes sincrónicos, primero debe ejecutar el trabajo P para enviar a los clientes asincrónicos a la sede de Commerce.</span><span class="sxs-lookup"><span data-stu-id="95aa3-144">To convert Async customers to Sync customers, you must first run the P-job to send the Async customers to Commerce headquarters.</span></span> <span data-ttu-id="95aa3-145">Entonces ejecute el trabajo **Sincronizar clientes y socios comerciales desde el modo asíncrono** para crear las id. de cuenta de cliente.</span><span class="sxs-lookup"><span data-stu-id="95aa3-145">Then run the **Synchronize customers and business partners from async mode** job to create customer account IDs.</span></span> <span data-ttu-id="95aa3-146">Finalmente, ejecute el trabajo **1010** para sincronizar los nuevos id. de cuenta de cliente con los canales.</span><span class="sxs-lookup"><span data-stu-id="95aa3-146">Finally, run the **1010** job to sync the new customer account IDs to the channels.</span></span>

### <a name="async-customer-limitations"></a><span data-ttu-id="95aa3-147">Limitaciones del cliente asíncrono</span><span class="sxs-lookup"><span data-stu-id="95aa3-147">Async customer limitations</span></span>

<span data-ttu-id="95aa3-148">La funcionalidad del cliente asíncrono tiene actualmente las siguientes limitaciones:</span><span class="sxs-lookup"><span data-stu-id="95aa3-148">The Async customer functionality currently has the following limitations:</span></span>

- <span data-ttu-id="95aa3-149">Los registros de clientes asíncronos no se pueden editar a menos que el cliente se haya creado en la sede de Commerce y el nuevo id. de cuenta de cliente se haya vuelto a sincronizar con el canal.</span><span class="sxs-lookup"><span data-stu-id="95aa3-149">Async customer records can't be edited unless the customer has been created in Commerce headquarters and the new customer account ID has been synced back to the channel.</span></span>
- <span data-ttu-id="95aa3-150">Las afiliaciones no se pueden asociar con clientes asincrónicos.</span><span class="sxs-lookup"><span data-stu-id="95aa3-150">Affiliations can't be associated with Async customers.</span></span> <span data-ttu-id="95aa3-151">Por lo tanto, los nuevos clientes asincrónicos no heredan las afiliaciones del cliente predeterminado.</span><span class="sxs-lookup"><span data-stu-id="95aa3-151">Therefore, new Async customers don't inherit affiliations from the default customer.</span></span>
- <span data-ttu-id="95aa3-152">No se pueden emitir tarjetas de fidelización a los clientes asincrónicos a menos que el nuevo id. de cuenta de cliente se haya vuelto a sincronizar con el canal.</span><span class="sxs-lookup"><span data-stu-id="95aa3-152">Loyalty cards can't be issued to Async customers unless the new customer account ID has been synced back to the channel.</span></span>
- <span data-ttu-id="95aa3-153">Las direcciones de correo electrónico y los números de teléfono secundarios no se pueden capturar para los clientes asíncronos.</span><span class="sxs-lookup"><span data-stu-id="95aa3-153">Secondary email addresses and phone numbers can't be captured for Async customers.</span></span>

### <a name="customer-creation-in-pos-offline-mode"></a><span data-ttu-id="95aa3-154">Creación de clientes en modo sin conexión del PDV</span><span class="sxs-lookup"><span data-stu-id="95aa3-154">Customer creation in POS offline mode</span></span>

<span data-ttu-id="95aa3-155">Si el PDV se desconecta mientras el modo de creación de clientes asíncrono está habilitado, los nuevos registros de clientes se crean de forma asincrónica.</span><span class="sxs-lookup"><span data-stu-id="95aa3-155">If the POS goes offline while the Async customer creation mode is enabled, new customer records are created asynchronously.</span></span> <span data-ttu-id="95aa3-156">Si el PDV se desconecta mientras el modo de creación de clientes asincrónico está desactivado, el sistema cambia automáticamente al modo de creación de clientes a asincrónico.</span><span class="sxs-lookup"><span data-stu-id="95aa3-156">If the POS goes offline while the Async customer creation mode is disabled, the system automatically switches to the Async customer creation mode.</span></span> <span data-ttu-id="95aa3-157">En otras palabras, los registros de clientes se crean de forma asincrónica incluso cuando el modo de creación de clientes asincrónico está desactivado.</span><span class="sxs-lookup"><span data-stu-id="95aa3-157">In other words, customer records might be created asynchronously even if the Async customer creation mode is disabled.</span></span> <span data-ttu-id="95aa3-158">Por lo tanto, los administradores de la sede de Commerce deben crear y programar un trabajo por lotes periódico para el trabajo P, el trabajo **Sincronizar clientes y socios comerciales desde el modo asincrónico** y el trabajo **1010**, de modo que los clientes asincrónicos se conviertan en clientes sincrónicos en la sede de Commerce.</span><span class="sxs-lookup"><span data-stu-id="95aa3-158">Therefore, Commerce headquarters administrators must create and schedule a recurring batch job for the P-job, the **Synchronize customers and business partners from async mode** job, and the **1010** job, so that any Async customers are converted to Sync customers in Commerce headquarters.</span></span>

> [!NOTE]
> <span data-ttu-id="95aa3-159">Si la opción **Filtrar tablas de datos de clientes compartidos** está configurada en **Sí** en la página **Esquema de canal de Commerce** (**Comercio minorista y Commerce \> Configuración de la sede \> Programador de Commerce \> Grupo de base de datos de canales**), los registros de clientes no se crean en el modo POS sin conexión.</span><span class="sxs-lookup"><span data-stu-id="95aa3-159">If the **Filter shared customer data tables** option is set to **Yes** on the **Commerce channel schema** page (**Retail and Commerce \> Headquarters setup \> Commerce scheduler \> Channel database group**), customer records aren't created in POS offline mode.</span></span> <span data-ttu-id="95aa3-160">Para obtener más información, consulte [Exclusión de datos sin conexión](dev-itpro/implementation-considerations-cdx.md#offline-data-exclusion).</span><span class="sxs-lookup"><span data-stu-id="95aa3-160">For more information, see [Offline data exclusion](dev-itpro/implementation-considerations-cdx.md#offline-data-exclusion).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="95aa3-161">Recursos adicionales</span><span class="sxs-lookup"><span data-stu-id="95aa3-161">Additional resources</span></span>

[<span data-ttu-id="95aa3-162">Atributos de cliente</span><span class="sxs-lookup"><span data-stu-id="95aa3-162">Customer attributes</span></span>](dev-itpro/customer-attributes.md)

[<span data-ttu-id="95aa3-163">Exclusión de datos sin conexión</span><span class="sxs-lookup"><span data-stu-id="95aa3-163">Offline data exclusion</span></span>](dev-itpro/implementation-considerations-cdx.md#offline-data-exclusion)
