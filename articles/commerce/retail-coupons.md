---
title: Configurar vales para ventas minoristas
description: Este tema proporciona una visión general de los cupones y explica cómo configurarlos.
author: scott-tucker
manager: AnnBe
ms.date: 06/04/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
ms.search.form: RetailCoupon, RetailParameters, RetailSharedParameters
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations, Retail
ms.custom: ''
ms.search.region: Global
ms.search.industry: retail
ms.author: scotttuc
ms.search.validFrom: 2017-06-30
ms.dyn365.ops.version: July 2017 update
ms.openlocfilehash: a07bed244152327047efd68cfacb329a722c0049
ms.sourcegitcommit: 199848e78df5cb7c439b001bdbe1ece963593cdb
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 10/13/2020
ms.locfileid: "4415464"
---
# <a name="set-up-coupons-for-retail-sales"></a><span data-ttu-id="439b1-103">Configurar vales para ventas minoristas</span><span class="sxs-lookup"><span data-stu-id="439b1-103">Set up coupons for retail sales</span></span>

[!include [banner](includes/banner.md)]

## <a name="overview-of-coupons"></a><span data-ttu-id="439b1-104">Visión general de los vales</span><span class="sxs-lookup"><span data-stu-id="439b1-104">Overview of coupons</span></span>

<span data-ttu-id="439b1-105">Los vales son códigos y códigos de barras que se usan para agregar descuentos a las transacciones.</span><span class="sxs-lookup"><span data-stu-id="439b1-105">Coupons are codes and bar codes that are used to add discounts to transactions.</span></span> <span data-ttu-id="439b1-106">Cada vale puede tener varios códigos, y cada código puede tener sus propias fechas de vigencia.</span><span class="sxs-lookup"><span data-stu-id="439b1-106">Each coupon can have multiple codes, and each code can have its own effective dates.</span></span>

<span data-ttu-id="439b1-107">Cada vale está relacionado con un descuento.</span><span class="sxs-lookup"><span data-stu-id="439b1-107">Each coupon is related to one discount.</span></span> <span data-ttu-id="439b1-108">Los grupos de precios asociados al descuento definen a los clientes que pueden utilizar un vale o los canales donde es válido un vale.</span><span class="sxs-lookup"><span data-stu-id="439b1-108">The price groups that are associated with the discount define the customers that can use a coupon or the channels where a coupon is valid.</span></span>

<span data-ttu-id="439b1-109">Esencialmente, los vales son una validación adicional a los descuentos.</span><span class="sxs-lookup"><span data-stu-id="439b1-109">Essentially, coupons are additional validation on top of discounts.</span></span> <span data-ttu-id="439b1-110">El vale proporciona los códigos y los códigos de barras obligatorios, así como los intervalos de fechas para dichos códigos.</span><span class="sxs-lookup"><span data-stu-id="439b1-110">The coupon provides the coupon codes and bar codes that are required, together with date ranges for those codes.</span></span> <span data-ttu-id="439b1-111">El vale también proporciona límites de uso opcionales y propiedades requeridas por el cliente.</span><span class="sxs-lookup"><span data-stu-id="439b1-111">The coupon also provides optional usage limits and customer required properties.</span></span> <span data-ttu-id="439b1-112">El descuento proporciona el conjunto de productos para los que es válido.</span><span class="sxs-lookup"><span data-stu-id="439b1-112">The discount provides the set of products that the coupon is valid for.</span></span> <span data-ttu-id="439b1-113">Los grupos de precios para el descuento proporcionan el conjunto de clientes, canales o catálogos para los que el vale es válido.</span><span class="sxs-lookup"><span data-stu-id="439b1-113">The price groups for the discount provide the set of customers, channels, or catalogs that the coupon is valid for.</span></span>

<span data-ttu-id="439b1-114">Para crear un vale, cree el descuento y el vale por separado.</span><span class="sxs-lookup"><span data-stu-id="439b1-114">To create a coupon, you create the discount and the coupon separately.</span></span> <span data-ttu-id="439b1-115">A continuación los vincula seleccionando el descuento en la página de vales en Commerce.</span><span class="sxs-lookup"><span data-stu-id="439b1-115">You then link them by selecting the discount on the coupon page in Commerce.</span></span>

> [!NOTE]
> <span data-ttu-id="439b1-116">Después de vincular un vale a un descuento, varios campos de la página de descuentos de Commerce se vuelven de solo lectura porque son administrados mediante la configuración del vale.</span><span class="sxs-lookup"><span data-stu-id="439b1-116">After a coupon is linked to a discount, several fields on the discount page in Commerce become read-only, because they are managed by the coupon's settings.</span></span> <span data-ttu-id="439b1-117">Estos campos incluyen los campos para estado y los intervalos de fechas estándar.</span><span class="sxs-lookup"><span data-stu-id="439b1-117">These fields include the fields for the status and standard date ranges.</span></span>

### <a name="limited-use-coupons"></a><span data-ttu-id="439b1-118">Vales de uso limitado</span><span class="sxs-lookup"><span data-stu-id="439b1-118">Limited-use coupons</span></span>

<span data-ttu-id="439b1-119">Los vales se pueden configurar como vales de uso limitado.</span><span class="sxs-lookup"><span data-stu-id="439b1-119">Coupons can be configured as limited-use coupons.</span></span> <span data-ttu-id="439b1-120">El límite de uso puede definirse por cliente o canal, o como límite global.</span><span class="sxs-lookup"><span data-stu-id="439b1-120">The usage limit can be defined per customer or channel, or as a global limit.</span></span> <span data-ttu-id="439b1-121">Este límite se aplica cuando el código o el código de barras se introducen o escanean en el PDV o durante la entrada de pedidos de ventas.</span><span class="sxs-lookup"><span data-stu-id="439b1-121">This limit is enforced when the code or bar code is entered or scanned in POS or during sales order entry.</span></span>

<span data-ttu-id="439b1-122">El límite se aplica por el código de vale.</span><span class="sxs-lookup"><span data-stu-id="439b1-122">The limit is enforced per coupon code on a coupon.</span></span> <span data-ttu-id="439b1-123">Por ejemplo, un cupón de un solo uso que tiene dos códigos de vale se puede utilizar dos veces: una vez por cada código de vale.</span><span class="sxs-lookup"><span data-stu-id="439b1-123">For example, a single-use coupon that has two coupon codes can be used two times: one time for each coupon code.</span></span> <span data-ttu-id="439b1-124">Cada código de un vale se puede activar de forma independiente.</span><span class="sxs-lookup"><span data-stu-id="439b1-124">Each code on a coupon can be independently set to active.</span></span>

<span data-ttu-id="439b1-125">Los cupones se pueden usar en cualquier canal de venta; sin embargo, para pedidos de centros de llamadas, los cupones de uso limitado se pueden usar solo para aquellos pedidos de centros de llamadas donde la configuración **Orden de finalización** del centro de llamadas está habilitada.</span><span class="sxs-lookup"><span data-stu-id="439b1-125">The coupons can be used across any selling channel however, for call center orders, the limited use coupons can be used for only those call centers orders where the **Order completion** setting on the call center is enabled.</span></span> <span data-ttu-id="439b1-126">Si esto no está habilitado, solo se pueden usar cupones de tipo de uso no limitado en los pedidos del centro de atención telefónica.</span><span class="sxs-lookup"><span data-stu-id="439b1-126">If this is not enabled, then only non-limited use type coupons can be used in call center orders.</span></span>

> [!NOTE]
> <span data-ttu-id="439b1-127">Una vez que un código de vale ha llegado a su límite de uso, el sistema *no* cambia automáticamente el estado del código de vale a "Usado".</span><span class="sxs-lookup"><span data-stu-id="439b1-127">After a coupon code has reached its usage limit, the system does *not* automatically change the status of the coupon code to “Used".</span></span> <span data-ttu-id="439b1-128">Sin embargo, ese código de cupón ha alcanzado su límite de uso y no se puede usar.</span><span class="sxs-lookup"><span data-stu-id="439b1-128">However that coupon code has reached its usage limit and cannot be used.</span></span> <span data-ttu-id="439b1-129">Si el estado de un código de vale se establece manualmente en algo distinto de **Activo**, entonces este código de vale no se puede utilizar en ningún canal.</span><span class="sxs-lookup"><span data-stu-id="439b1-129">If the status of a coupon code is manually set to anything other than **Active**, then this coupon code cannot be used in any channel.</span></span>  

## <a name="managing-coupons"></a><span data-ttu-id="439b1-130">Administrar vales</span><span class="sxs-lookup"><span data-stu-id="439b1-130">Managing coupons</span></span>

<span data-ttu-id="439b1-131">Debe crear el descuento y el vale por separado.</span><span class="sxs-lookup"><span data-stu-id="439b1-131">You must create the discount and the coupon separately.</span></span> <span data-ttu-id="439b1-132">A continuación los vincula seleccionando el descuento en la página de vales.</span><span class="sxs-lookup"><span data-stu-id="439b1-132">You then link them by selecting the discount on the coupon page.</span></span> <span data-ttu-id="439b1-133">Después de vincular un vale a un descuento, varios campos del descuento se vuelven de solo lectura porque son administrados mediante la configuración del vale.</span><span class="sxs-lookup"><span data-stu-id="439b1-133">After you link a coupon to a discount, several fields for the discount become read-only, because they are managed by the coupon's settings.</span></span> <span data-ttu-id="439b1-134">Estos campos incluyen los campos para estado y los intervalos de fechas estándar.</span><span class="sxs-lookup"><span data-stu-id="439b1-134">These fields include the fields for the status and standard date ranges.</span></span>

<span data-ttu-id="439b1-135">Esencialmente, los vales son ahora una validación adicional a los descuentos.</span><span class="sxs-lookup"><span data-stu-id="439b1-135">Essentially, coupons are now additional validation on top of discounts.</span></span> <span data-ttu-id="439b1-136">El vale proporciona los códigos y los códigos de barras, así como los intervalos de fechas, los límites de uso y la propiedad exigida por el cliente.</span><span class="sxs-lookup"><span data-stu-id="439b1-136">The coupon provides the coupon codes and bar codes, together with date ranges, the usage limits, and the customer required property.</span></span> <span data-ttu-id="439b1-137">El descuento proporciona el conjunto de productos para los que es válido.</span><span class="sxs-lookup"><span data-stu-id="439b1-137">The discount provides the set of products that the coupon is valid for.</span></span> <span data-ttu-id="439b1-138">Los grupos de precios del descuento proporcionan el conjunto de clientes, canales o catálogos para los que el vale es válido.</span><span class="sxs-lookup"><span data-stu-id="439b1-138">The discount's price groups provide the set of customers, channels, or catalogs that the coupon is valid for.</span></span>

## <a name="system-setup-for-coupons"></a><span data-ttu-id="439b1-139">Configuración del sistema para vales</span><span class="sxs-lookup"><span data-stu-id="439b1-139">System setup for coupons</span></span>

<span data-ttu-id="439b1-140">Para poder configurar un vale, debe configurar el código de barras del vale y dos secuencias numéricas de vales.</span><span class="sxs-lookup"><span data-stu-id="439b1-140">Before you can set up a coupon, you must set up the coupon bar code and two coupon number sequences.</span></span>

1. <span data-ttu-id="439b1-141">En la página **Caracteres de máscara**, cree un nuevo carácter de máscara para el código de vale.</span><span class="sxs-lookup"><span data-stu-id="439b1-141">On the **Mask characters** page, create a new mask character for the coupon code.</span></span> <span data-ttu-id="439b1-142">Puede seleccionar cualquier carácter que no se haya utilizado.</span><span class="sxs-lookup"><span data-stu-id="439b1-142">You can select any unused character.</span></span>
2. <span data-ttu-id="439b1-143">En la página **Configuración de máscara de código de barras**, cree una nueva máscara de código de barras.</span><span class="sxs-lookup"><span data-stu-id="439b1-143">On the **Bar code mask setup** page, create a new bar code mask.</span></span> <span data-ttu-id="439b1-144">Establezca el campo **Tipo** en **Vale**.</span><span class="sxs-lookup"><span data-stu-id="439b1-144">Set the **Type** field to **Coupon**.</span></span>
3. <span data-ttu-id="439b1-145">En la página **Configuración de código de barras**, cree un nuevo código de barras que utilice la máscara de código de barras que acaba de crear.</span><span class="sxs-lookup"><span data-stu-id="439b1-145">On the **Bar code setup** page, create a new bar code that uses the bar code mask that you just created.</span></span>
4. <span data-ttu-id="439b1-146">En la página **Secuencias numéricas** , cree dos nuevas secuencias numéricas.</span><span class="sxs-lookup"><span data-stu-id="439b1-146">On the **Number sequences** page, create two new number sequences.</span></span> <span data-ttu-id="439b1-147">Una secuencia es para el identificador del código de vale y la otra para el número de vale.</span><span class="sxs-lookup"><span data-stu-id="439b1-147">One sequence is for the coupon code ID, and the other sequence is for the coupon number.</span></span> <span data-ttu-id="439b1-148">El identificador del código de vale es el identificador único de cada código de vale.</span><span class="sxs-lookup"><span data-stu-id="439b1-148">The coupon code ID is the unique identifier for each coupon code for a coupon.</span></span> <span data-ttu-id="439b1-149">El número de vale es el identificador único de un vale.</span><span class="sxs-lookup"><span data-stu-id="439b1-149">The coupon number is the unique identifier for a coupon.</span></span> <span data-ttu-id="439b1-150">Cada vale puede tener varios códigos y códigos de barras que activan el vale.</span><span class="sxs-lookup"><span data-stu-id="439b1-150">Each coupon can have multiple codes and bar codes that trigger the coupon.</span></span>

    > [!NOTE]
    > <span data-ttu-id="439b1-151">En ambas secuencias numéricas, debe establecer el campo **Ámbito** a **Empresa**.</span><span class="sxs-lookup"><span data-stu-id="439b1-151">For both number sequences, you must set the **Scope** field to **Company**.</span></span> <span data-ttu-id="439b1-152">En la mayoría de los casos, debe generar automáticamente los dos números secuenciales.</span><span class="sxs-lookup"><span data-stu-id="439b1-152">In most cases, you should automatically generate both sequence numbers.</span></span>

5. <span data-ttu-id="439b1-153">En la página **Parámetros de Commerce**, en la pestaña **Códigos de barras**, seleccione el código de barras que ha creado anteriormente.</span><span class="sxs-lookup"><span data-stu-id="439b1-153">On the **Commerce parameters** page, on the **Bar codes** tab, select the bar code that you created earlier.</span></span>
6. <span data-ttu-id="439b1-154">En la página **Parámetros compartidos de Commerce**, en la pestaña **Secuencias numéricas**, seleccione las secuencias numéricas que ha creado para el número de vale y el identificador del código de vale.</span><span class="sxs-lookup"><span data-stu-id="439b1-154">On the **Commerce shared parameters** page, on the **Number sequences** tab, select the number sequences that you created for the coupon number and coupon code ID.</span></span>
7. <span data-ttu-id="439b1-155">Ahora puede abrir la página **Vales** y crear vales nuevos.</span><span class="sxs-lookup"><span data-stu-id="439b1-155">You can now open the **Coupons** page and create new coupons.</span></span>

## <a name="the-effect-of-partial-updates-on-coupons"></a><span data-ttu-id="439b1-156">El efecto de las actualizaciones parciales en los vales</span><span class="sxs-lookup"><span data-stu-id="439b1-156">The effect of partial updates on coupons</span></span>

<span data-ttu-id="439b1-157">La funcionalidad de vales incluye varias características distintivas.</span><span class="sxs-lookup"><span data-stu-id="439b1-157">Coupon functionality comprises multiple distinct features.</span></span> <span data-ttu-id="439b1-158">Commerce Headquarters (HQ) y el canal se pueden actualizar parcialmente a través de los componentes.</span><span class="sxs-lookup"><span data-stu-id="439b1-158">Commerce Headquarters (HQ) and the channel can be partially updated across components.</span></span> <span data-ttu-id="439b1-159">Por lo tanto, es importante que comprenda cómo las actualizaciones parciales afectan a la funcionalidad de los vales en conjunto.</span><span class="sxs-lookup"><span data-stu-id="439b1-159">Therefore, it's important that you understand how partial updates affect coupon functionality as a whole.</span></span>

- <span data-ttu-id="439b1-160">**La central se actualiza parcialmente, pero no se actualizan Commerce Scale Unit ni los PDV.**</span><span class="sxs-lookup"><span data-stu-id="439b1-160">**HQ is partially updated, but Commerce Scale Unit and POS aren't updated.**</span></span> <span data-ttu-id="439b1-161">En una actualización de la central, se actualizan el vale y las páginas de descuento, y el motor de precios de Commerce también se actualiza.</span><span class="sxs-lookup"><span data-stu-id="439b1-161">In an HQ update, the coupon and discount pages are updated, and the commerce price engine is also updated.</span></span> <span data-ttu-id="439b1-162">Si solo uno de estos dos componentes se actualiza, algunas páginas de Commerce no coincidirán los datos de cálculo de precio.</span><span class="sxs-lookup"><span data-stu-id="439b1-162">If only one of those two components is updated, some pages in Commerce won't match the price calculation data.</span></span> <span data-ttu-id="439b1-163">Por lo tanto, cálculos de descuento o errores inesperados pueden producirse durante cálculos de descuento.</span><span class="sxs-lookup"><span data-stu-id="439b1-163">Therefore, unexpected discount calculations or errors might occur during discount calculations.</span></span>
- <span data-ttu-id="439b1-164">**La central se actualiza, pero no se actualizan Commerce Scale Unit ni los PDV (N-1).**</span><span class="sxs-lookup"><span data-stu-id="439b1-164">**HQ is updated, but Commerce Scale Unit and POS aren't updated (N-1).**</span></span> <span data-ttu-id="439b1-165">Dado que no todas las tiendas se pueden actualizar al mismo tiempo, recomendamos que actualice la central antes de actualizar las tiendas.</span><span class="sxs-lookup"><span data-stu-id="439b1-165">Because not all stores can be updated at the same time, we recommend that you update HQ before you update stores.</span></span> <span data-ttu-id="439b1-166">En la situación N-1, la nueva funcionalidad relacionada con vales no estará disponible en las tiendas que todavía no se hayan actualizado.</span><span class="sxs-lookup"><span data-stu-id="439b1-166">In the N-1 scenario, new functionality that is related to coupons won't be available in stores that haven't been updated yet.</span></span> <span data-ttu-id="439b1-167">Por ejemplo, la funcionalidad de vales introduce líneas de “exclusión”.</span><span class="sxs-lookup"><span data-stu-id="439b1-167">For example, the coupon functionality introduces "exclude" lines.</span></span> <span data-ttu-id="439b1-168">Si usa líneas de exclusión en un descuento, estas no se aplicarán en una tienda que esté ejecutando una versión anterior.</span><span class="sxs-lookup"><span data-stu-id="439b1-168">If you use exclude lines on a discount, they won't be applied in a store that is running an earlier version.</span></span>
- <span data-ttu-id="439b1-169">**La central no se actualiza, pero se actualizan Commerce Scale Unit ni los PDV (N+1).**</span><span class="sxs-lookup"><span data-stu-id="439b1-169">**HQ isn't updated, but Commerce Scale Unit and POS are updated (N+1).**</span></span> <span data-ttu-id="439b1-170">Dado que el motor de precios actualizado en el servidor de Commerce Scale Unit puede gestionar códigos de descuento antiguos durante los cálculos de precios, la actualización no debe tener ningún impacto funcional en este escenario.</span><span class="sxs-lookup"><span data-stu-id="439b1-170">Because the updated price engine in Commerce Scale Unit can handle legacy discount codes during price calculations, the update should have no functional impact in this scenario.</span></span>
