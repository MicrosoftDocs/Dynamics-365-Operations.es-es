---
title: Procedimientos recomendados para importar asientos mediante la entidad Diario general
description: Este tema ofrece sugerencias para importar datos en el Diario general mediante la entidad Diario general.
author: ShylaThompson
manager: AnnBe
ms.date: 06/20/2017
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
audience: Application User
ms.reviewer: sericks
ms.search.scope: Core, Operations
ms.custom: 94363
ms.assetid: 0b8149b5-32c5-4518-9ebd-09c9fd7f4cfc
ms.search.region: Global
ms.author: kweekley
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 167afa70bfa35b966081709f1587d61d401d318f
ms.sourcegitcommit: 16bfa0fd08feec1647829630401ce62ce2ffa1a4
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 08/02/2019
ms.locfileid: "1848190"
---
# <a name="best-practices-for-importing-vouchers-by-using-the-general-journal-entity"></a><span data-ttu-id="a5cb0-103">Procedimientos recomendados para importar asientos mediante la entidad Diario general</span><span class="sxs-lookup"><span data-stu-id="a5cb0-103">Best practices for importing vouchers by using the General journal entity</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="a5cb0-104">Este tema ofrece sugerencias para importar datos en el Diario general mediante la entidad Diario general.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-104">This topic provides tips for importing data into the General journal by using the General journal entity.</span></span>

<span data-ttu-id="a5cb0-105">Puede utilizar la entidad Diario General para importar asientos que tengan un tipo de cuenta o tipo de cuenta de contrapartida **Contabilidad, Cliente, Proveedor o Banco**.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-105">You can use the General journal entity to import vouchers that have an account or offset account type of **Ledger, Customer, Vendor, or Bank**.</span></span> <span data-ttu-id="a5cb0-106">El asiento se pueden especificar como una línea, mediante el campo **Cuenta** y **Cuenta de contrapartida**, o como asiento multilínea, donde solo se usa el campo **Cuenta** (y **Cuenta de contrapartida** se deja en blanco en cada línea).</span><span class="sxs-lookup"><span data-stu-id="a5cb0-106">The voucher can be entered as one line, using both the **Account** field and the **Offset account** field, or as a multi-line voucher, where only the **Account** field is used (and the **Offset account** is left blank on each line).</span></span> <span data-ttu-id="a5cb0-107">La entidad Diario general no admite todos los tipos de cuenta.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-107">The General journal entity doesn't support every account type.</span></span> <span data-ttu-id="a5cb0-108">En su lugar, existen otras entidades para escenarios donde se requieren diferentes combinaciones de tipos de cuenta.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-108">Instead, other entities exist for scenarios where different combinations of account types are required.</span></span> <span data-ttu-id="a5cb0-109">Por ejemplo, para importar una transacción de proyecto, utilice la entidad Diario de gastos de proyecto.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-109">For example, to import a project transaction, use the Project expense journal entity.</span></span> <span data-ttu-id="a5cb0-110">Cada entidad está diseñada para admitir escenarios específicos, es decir, pueden mostrar campos adicionales para un escenario que no se muestran en otros escenarios.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-110">Each entity is designed to support specific scenarios, which means additional fields may be available in entities for those scenarios but not in entities for a different scenario.</span></span>

## <a name="setup"></a><span data-ttu-id="a5cb0-111">Configuración</span><span class="sxs-lookup"><span data-stu-id="a5cb0-111">Setup</span></span>
<span data-ttu-id="a5cb0-112">Antes de importar con la entidad Diario general, valide la siguiente configuración:</span><span class="sxs-lookup"><span data-stu-id="a5cb0-112">Before you import by using the General journal entity, validate the following setup:</span></span>

- <span data-ttu-id="a5cb0-113">**Configuración de secuencia numérica para el número de lote del diario** : de forma predeterminada, al importar con la entidad Diario general, el número de lote de diario utiliza la secuencia numérica que se define en los parámetros de Contabilidad general.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-113">**Number sequence setup for the journal batch number** – By default, when you import by using the General journal entity, the journal batch number uses the number sequence that is defined in the General ledger parameters.</span></span> <span data-ttu-id="a5cb0-114">Si establece la secuencia numérica para el número de lote de diario en **Manual de**, no se aplica un número predeterminado.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-114">If you set the number sequence for the journal batch number to **Manual**, a default number isn't applied.</span></span> <span data-ttu-id="a5cb0-115">No se admite esta configuración.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-115">This setup isn't supported.</span></span>
- <span data-ttu-id="a5cb0-116">**Configuración de la dimensión financiera**: cada organización debe definir el orden de las dimensiones financieras cuando las entidades se utilizan para importar transacciones.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-116">**Financial dimension configuration** – Every organization must define the order of financial dimensions when entities are used to import transactions.</span></span> <span data-ttu-id="a5cb0-117">El orden se define para el formato **Integración de dimensiones contables**, en **Contabilidad general** &gt; **Plan contable** &gt; **Dimensiones** &gt; **Configuración de la dimensión financiera para la integración de aplicaciones** &gt; **Seleccionar entidades de datos**.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-117">The order is defined for the **Ledger dimensions integration** format, at **General ledger** &gt; **Chart of accounts** &gt; **Dimensions** &gt; **Financial dimension configuration for integrating applications** &gt; **Select data entities**.</span></span> <span data-ttu-id="a5cb0-118">Los segmentos de la cuenta contable que se importa deben tener el mismo orden.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-118">The segments of the ledger account that is imported must have the same order.</span></span> <span data-ttu-id="a5cb0-119">De lo contrario, se producirá un error durante la importación.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-119">Otherwise, an error will occur during import.</span></span>

## <a name="general-journal-entity-setup"></a><span data-ttu-id="a5cb0-120">Configuración de la entidad Diario general</span><span class="sxs-lookup"><span data-stu-id="a5cb0-120">General journal entity setup</span></span>
<span data-ttu-id="a5cb0-121">Dos valores de administración de datos afectan a cómo se aplica el número de lote del diario o el número de asiento predeterminado:</span><span class="sxs-lookup"><span data-stu-id="a5cb0-121">Two settings in Data management affect how the default journal batch number or voucher number is applied:</span></span>

- <span data-ttu-id="a5cb0-122">**Procesamiento basado en conjuntos** (en la entidad de datos)</span><span class="sxs-lookup"><span data-stu-id="a5cb0-122">**Set-based processing** (on the data entity)</span></span>
- <span data-ttu-id="a5cb0-123">**Generado automáticamente** (en la asignación de campos)</span><span class="sxs-lookup"><span data-stu-id="a5cb0-123">**Auto-generated** (on the field mapping)</span></span>

<span data-ttu-id="a5cb0-124">Las secciones siguientes describen el efecto de esta configuración y también explican cómo se generan los números de lote de diario y los números de asiento.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-124">The following sections describe the effect of these settings, and also explain how journal batch numbers and voucher numbers are generated.</span></span>

### <a name="journal-batch-number"></a><span data-ttu-id="a5cb0-125">Número de lote de diario</span><span class="sxs-lookup"><span data-stu-id="a5cb0-125">Journal batch number</span></span>

- <span data-ttu-id="a5cb0-126">La configuración **Procesamiento basado en conjuntos** de la entidad Diario general no afecta a la forma en que se generan los números de lote del diario.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-126">The **Set-based processing** setting on the General journal entity doesn't affect the way that journal batch numbers are generated.</span></span>
- <span data-ttu-id="a5cb0-127">Si el campo **Número de lote de diario** se establece en **Generado automáticamente**, se crea un nuevo número de lote del diario para cada línea que se importa.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-127">If the **Journal batch number** field is set to **Auto-generated**, a new journal batch number is created for every line that is imported.</span></span> <span data-ttu-id="a5cb0-128">No se recomienda este comportamiento.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-128">This behavior isn't recommended.</span></span> <span data-ttu-id="a5cb0-129">La configuración **Generado automáticamente** se encuentra en el proyecto de importación en **Ver mapa**, en la pestaña **Detalles de la asignación**.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-129">The **Auto-generated** setting is found on the import project, under **View map**, on the **Mapping details** tab.</span></span>
- <span data-ttu-id="a5cb0-130">Si el campo **Número de lote de diario** no se establece en **Generado automáticamente**, se crea el número de lote del diario de la siguiente manera.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-130">If the **Journal batch number** field isn't set to **Auto-generated**, the journal batch number is created as follows:</span></span>

    - <span data-ttu-id="a5cb0-131">Si el número de lote del diario que se define en el archivo importado coincide con un diario no registrado existente, todas las líneas con un número de lote de diario coincidente se importan en el diario existente.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-131">If the journal batch number that is defined in the imported file matches an existing, unposted daily journal, all lines that have a matching journal batch number are imported into the existing journal.</span></span> <span data-ttu-id="a5cb0-132">Las líneas nunca se importan en un número de lote del diario registrado.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-132">Lines are never imported into a posted journal batch number.</span></span> <span data-ttu-id="a5cb0-133">En su lugar, se crea un nuevo número.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-133">Instead, a new number is created.</span></span>
    - <span data-ttu-id="a5cb0-134">Si el número de lote del diario que se define en el archivo importado no coincide con un diario no registrado existente, todas las líneas con el mismo número de lote de diario se agrupan en un diario nuevo.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-134">If the journal batch number that is defined in the imported file doesn't match an existing, unposted daily journal, all lines that have the same journal batch number are grouped under a new journal.</span></span> <span data-ttu-id="a5cb0-135">Por ejemplo, todas las líneas que tienen un número de lote del diario de 1 se importan a un diario nuevo y todas las líneas que tienen un número de lote del diario de 2 se importan en un segundo diario nuevo.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-135">For example, all lines that have a journal batch number of 1 are imported into a new journal, and all lines that have a journal batch number of 2 are imported into a second new journal.</span></span> <span data-ttu-id="a5cb0-136">El número de lote del diario se crea mediante la secuencia numérica que se define en los parámetros de Contabilidad General.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-136">The journal batch number is created by using the number sequence that is defined in the General ledger parameters.</span></span>

### <a name="voucher-number"></a><span data-ttu-id="a5cb0-137">Número de asiento</span><span class="sxs-lookup"><span data-stu-id="a5cb0-137">Voucher number</span></span>

- <span data-ttu-id="a5cb0-138">Al utilizar la configuración **Procesamiento basado en conjuntos** en la entidad Diario general, se debe proporcionar el número de asiento en el archivo importado.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-138">When you use the **Set-based processing** setting on the General journal entity, the voucher number must be provided in the imported file.</span></span> <span data-ttu-id="a5cb0-139">Todas las transacciones del Diario general se asignan al número de asiento que se proporciona en el archivo importado, incluso si el asiento no está equilibrado.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-139">Every transaction in the General journal is assigned the voucher number that is provided in the imported file, even if the voucher isn’t balanced.</span></span> <span data-ttu-id="a5cb0-140">Si desea utilizar el procesamiento basado en conjuntos, pero desea utilizar la secuencia numérica que se define para los números de asiento, se ha proporcionado una revisión para la versión de febrero de 2016.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-140">If you want to use set-based processing, but you also want to use the number sequence that is defined for voucher numbers, a hotfix has been provided for the February 2016 release.</span></span> <span data-ttu-id="a5cb0-141">El número de revisión es 3170316 y está disponible para su descarga desde Lifecycle Services (LCS).</span><span class="sxs-lookup"><span data-stu-id="a5cb0-141">The hotfix number is 3170316 and available for download from Lifecycle services (LCS).</span></span> <span data-ttu-id="a5cb0-142">Para obtener más información, consulte [Descargar revisiones desde Lifecycle Services](../migration-upgrade/download-hotfix-lcs.md).</span><span class="sxs-lookup"><span data-stu-id="a5cb0-142">For more information, see [Download hotfixes from Lifecycle Services](../migration-upgrade/download-hotfix-lcs.md).</span></span>

    - <span data-ttu-id="a5cb0-143">Para habilitar esta funcionalidad, en el nombre del diario que se usa para las importaciones, establezca **Asignación numérica en el registro** en **Sí**.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-143">To enable this functionality, on the journal name that is used for imports, set **Number allocation at posting** to **Yes**.</span></span>
    - <span data-ttu-id="a5cb0-144">Todavía se debe definir un número de asiento en el archivo importado.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-144">A voucher number must still be defined in the imported file.</span></span> <span data-ttu-id="a5cb0-145">Sin embargo, este número es temporal y se sobrescribe por el número de asiento cuando se registra el diario.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-145">However, this number is temporary and is overwritten by the voucher number when the journal is posted.</span></span> <span data-ttu-id="a5cb0-146">Debe asegurarse de que las líneas del diario se agrupan correctamente por número de asiento temporal.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-146">You must make sure that the lines of the journal are grouped correctly by temporary voucher number.</span></span> <span data-ttu-id="a5cb0-147">Por ejemplo, durante el registro, hay tres líneas que tienen un número de asiento temporal de 1.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-147">For example, during posting, three lines are found that have a temporary voucher number of 1.</span></span> <span data-ttu-id="a5cb0-148">El número de asiento temporal de las tres líneas se sobrescribirá con el siguiente número de la secuencia numérica.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-148">The temporary voucher number of all three lines is overwritten by the next number in the number sequence.</span></span> <span data-ttu-id="a5cb0-149">Si esas tres líneas no son una entrada equilibrada, el asiento no está registrado.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-149">If those three lines aren’t a balanced entry, the voucher isn't posted.</span></span> <span data-ttu-id="a5cb0-150">A continuación, si se encuentran líneas que tienen un número de asiento temporal de 2, este número se sobrescribe con el siguiente número de asiento de la secuencia numérica, y así sucesivamente.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-150">Next, if lines are found that have a temporary voucher number of 2, this number is overwritten by the next voucher number in the number sequence, and so on.</span></span>

- <span data-ttu-id="a5cb0-151">Cuando no se utiliza la configuración **Procesamiento basado en conjuntos**, no debe proporcionar ningún número de asiento en el archivo importado.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-151">When you don't use the **Set-based processing** setting, you do not need to provide a voucher number in the imported file.</span></span> <span data-ttu-id="a5cb0-152">Los números de asiento que se crean durante la importación, en función de la configuración del nombre del diario (**Sólo un número de asiento**, **Según el saldo**, etc).</span><span class="sxs-lookup"><span data-stu-id="a5cb0-152">The voucher numbers are created during import, based on the setup of the journal name (**One voucher only**, **In connection of balance**, and so on).</span></span> <span data-ttu-id="a5cb0-153">Por ejemplo, si el nombre del diario se define como **Según el saldo**, la primera línea recibe un nuevo número de asiento predeterminado.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-153">For example, if the journal name is defined as **In connection of balance**, the first line receives a new default voucher number.</span></span> <span data-ttu-id="a5cb0-154">El sistema evalúa entonces la línea para determinar si los débitos son iguales a los créditos.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-154">The system then evaluates the line to determine whether the debits equal the credits.</span></span> <span data-ttu-id="a5cb0-155">Si existe una cuenta de contrapartida en la línea, la línea siguiente importada recibe un nuevo número de asiento.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-155">If an offset account exists on the line, the next line that is imported receives a new voucher number.</span></span> <span data-ttu-id="a5cb0-156">Si no existe ninguna cuenta de contrapartida, el sistema evalúa si los débitos son iguales a los créditos conforme se importa cada línea nueva.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-156">If no offset account exists, the system evaluates whether the debits equal the credits as each new line is imported.</span></span>
- <span data-ttu-id="a5cb0-157">Si el campo **número de asiento** se establece en **Generado automáticamente**, la importación no será correcta.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-157">If the **Voucher number** field is set to **Auto-generated**, the import won't succeed.</span></span> <span data-ttu-id="a5cb0-158">No se admite la configuración **Generado automáticamente** para el campo **Número de asiento**.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-158">The **Auto-generated** setting for the **Voucher number** field isn't supported.</span></span>

<span data-ttu-id="a5cb0-159">De forma predeterminada, la entidad Diario general utiliza el procesamiento basado en conjuntos.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-159">By default, the General journal entity uses set-based processing.</span></span> <span data-ttu-id="a5cb0-160">Después de evaluar los requisitos empresariales para su organización, puede cambiar la configuración **Procesamiento basado en conjuntos** haciendo clic en **Entidades de datos** en el área de trabajo **Administración de datos**.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-160">After you evaluate the business requirements for your organization, you can change the **Set-based processing** setting by clicking **Data entities** in the **Data management** workspace.</span></span> <span data-ttu-id="a5cb0-161">El procesamiento basado en conjuntos se utiliza para acelerar el proceso de importación.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-161">Set-based processing is used to speed up the import process.</span></span> <span data-ttu-id="a5cb0-162">Si no utiliza el procesamiento basado en conjuntos, la importación de la entidad Diario general será más lenta.</span><span class="sxs-lookup"><span data-stu-id="a5cb0-162">If you don't use set-based processing, import of the General journal entity import will be slower.</span></span>
