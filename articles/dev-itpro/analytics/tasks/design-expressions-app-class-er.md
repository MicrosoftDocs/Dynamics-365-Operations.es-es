---
title: Diseñe expresiones de ER para abrir métodos de clase de aplicación
description: Esta guía proporciona información acerca de cómo volver a usar la lógica de aplicación existente en las configuraciones de informes electrónicos (ER) llamando a los métodos necesarios de clases de aplicación en expresiones de ER.
author: NickSelin
manager: AnnBe
ms.date: 12/12/2017
ms.topic: business-process
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User
ms.reviewer: kfend
ms.search.scope: Operations
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-06-30
ms.dyn365.ops.version: Version 7.0.0
ms.openlocfilehash: fdacd852eeed33b443a3c79b96fc4c4af04bb6b2
ms.sourcegitcommit: 9d4c7edd0ae2053c37c7d81cdd180b16bf3a9d3b
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 05/15/2019
ms.locfileid: "1544895"
---
# <a name="design-er-expressions-to-call-application-class-methods"></a><span data-ttu-id="a84ab-103">Diseñe expresiones de ER para abrir métodos de clase de aplicación</span><span class="sxs-lookup"><span data-stu-id="a84ab-103">Design ER expressions to call application class methods</span></span>

[!include [task guide banner](../../includes/task-guide-banner.md)]

<span data-ttu-id="a84ab-104">Esta guía proporciona información acerca de cómo volver a usar la lógica de aplicación existente en las configuraciones de informes electrónicos (ER) llamando a los métodos necesarios de clases de aplicación en expresiones de ER.</span><span class="sxs-lookup"><span data-stu-id="a84ab-104">This guide provides information about how to reuse the existing application logic in Electronic reporting (ER) configurations by calling required methods of application classes in ER expressions.</span></span> <span data-ttu-id="a84ab-105">Los valores de los argumentos para llamar a clases se pueden definir de forma dinámica en tiempo de ejecución: por ejemplo, en función de la información en el documento de análisis para proteger su corrección.</span><span class="sxs-lookup"><span data-stu-id="a84ab-105">Values of arguments for calling classes can be defined dynamically at run-time: for example, based on information in the parsing document to ensure its correctness.</span></span> <span data-ttu-id="a84ab-106">En esta guía, creará las configuraciones de ER necesarias para la empresa de muestra, Litware, Inc. Este procedimiento se crea para los usuarios con el rol asignado de Administrador del sistema o de Desarrollador de informes electrónicos.</span><span class="sxs-lookup"><span data-stu-id="a84ab-106">In this guide, you will create the required ER configurations for the sample company, Litware, Inc. This procedure is created for users with the assigned role of System administrator or Electronic reporting developer.</span></span> 

<span data-ttu-id="a84ab-107">Estos pasos se pueden completar mediante cualquier conjunto de datos.</span><span class="sxs-lookup"><span data-stu-id="a84ab-107">These steps can be completed using any data set.</span></span> <span data-ttu-id="a84ab-108">También debe descargar y guardar el archivo siguiente localmente: (https://go.microsoft.com/fwlink/?linkid=862266): SampleIncomingMessage.txt.</span><span class="sxs-lookup"><span data-stu-id="a84ab-108">You must also download and save the following file locally: (https://go.microsoft.com/fwlink/?linkid=862266): SampleIncomingMessage.txt.</span></span>

<span data-ttu-id="a84ab-109">Para completar estos pasos, primero debe completar los pasos del procedimiento "ER Creación y activación de un proveedor de configuraciones".</span><span class="sxs-lookup"><span data-stu-id="a84ab-109">To complete these steps, you must first complete the steps in the procedure, “ER Create a configuration provider and mark it as active.”</span></span>

1. <span data-ttu-id="a84ab-110">Vaya a Administración de la organización > Espacios de trabajo > Informes electrónicos.</span><span class="sxs-lookup"><span data-stu-id="a84ab-110">Go to Organization administration > Workspaces > Electronic reporting.</span></span>
    * <span data-ttu-id="a84ab-111">Compruebe que el proveedor de configuración de la empresa de ejemplo, Litware, Inc., está disponible y marcado como activo.</span><span class="sxs-lookup"><span data-stu-id="a84ab-111">Verify that the configuration provider for sample company, Litware, Inc. is available and marked as active.</span></span> <span data-ttu-id="a84ab-112">Si no ve a este proveedor de configuración, primero debe completar los pasos del procedimiento "Creación de un proveedor de configuración y marcarlo como activo".</span><span class="sxs-lookup"><span data-stu-id="a84ab-112">If you don’t see this configuration provider, you must first complete the steps in the procedure, “Create a configuration provider and mark it as active”.</span></span>   
    * <span data-ttu-id="a84ab-113">Supongamos que está diseñando un proceso para analizar los extractos bancarios de entrada para una actualización de los datos de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="a84ab-113">Let’s assume that you are designing a process for parsing incoming bank statements for an application data update.</span></span> <span data-ttu-id="a84ab-114">Recibirá los extractos bancarios entrantes como archivos TXT que incluyen los códigos de IBAN.</span><span class="sxs-lookup"><span data-stu-id="a84ab-114">You will receive the incoming bank statements as TXT files that contain IBAN codes.</span></span> <span data-ttu-id="a84ab-115">Como parte del proceso de importación del extracto bancario, debe validar la corrección de los códigos de este IBAN mediante la lógica que esté ya disponible en Dynamics 365 for Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="a84ab-115">As part of the bank statement import process, you need to validate the correctness of this IBAN codes using the logic that is already available in Dynamics 365 for Finance and Operations.</span></span>   

## <a name="import-a-new-er-model-configuration"></a><span data-ttu-id="a84ab-116">Importe una nueva configuración para el modelo ER</span><span class="sxs-lookup"><span data-stu-id="a84ab-116">Import a new ER model configuration</span></span>
1. <span data-ttu-id="a84ab-117">En la lista, busque y seleccione el registro deseado.</span><span class="sxs-lookup"><span data-stu-id="a84ab-117">In the list, find and select the desired record.</span></span>
    * <span data-ttu-id="a84ab-118">Seleccione el mosaico del proveedor de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="a84ab-118">Select the Microsoft provider tile.</span></span>  
2. <span data-ttu-id="a84ab-119">Haga clic en Repositorios.</span><span class="sxs-lookup"><span data-stu-id="a84ab-119">Click Repositories.</span></span>
3. <span data-ttu-id="a84ab-120">Haga clic en Mostrar filtros.</span><span class="sxs-lookup"><span data-stu-id="a84ab-120">Click Show filters.</span></span>
4. <span data-ttu-id="a84ab-121">Añada un campo de filtro "Nombre de tipo".</span><span class="sxs-lookup"><span data-stu-id="a84ab-121">Add a filter field ‘Type name’.</span></span> <span data-ttu-id="a84ab-122">En el campo Nombre, especifique el valor “recursos”, seleccione el operador del filtro "contiene" y haga clic en Aplicar.</span><span class="sxs-lookup"><span data-stu-id="a84ab-122">In the Name field, enter the value “resources”, select the “contains” filter operator, and then click Apply.</span></span>
5. <span data-ttu-id="a84ab-123">Haga clic en Abrir.</span><span class="sxs-lookup"><span data-stu-id="a84ab-123">Click Open.</span></span>
6. <span data-ttu-id="a84ab-124">En el árbol, seleccione "Modelo de pago".</span><span class="sxs-lookup"><span data-stu-id="a84ab-124">In the tree, select 'Payment model'.</span></span>
    * <span data-ttu-id="a84ab-125">Si el botón de la importación de las ficha desplegable Versiones no está habilitado, ya ha importado la versión 1 del “modelo de pago” de la configuración de ER.</span><span class="sxs-lookup"><span data-stu-id="a84ab-125">If the Import button on the Versions FastTab is not enabled, you have already imported the version 1 one of the ER configuration ‘Payment model’.</span></span> <span data-ttu-id="a84ab-126">Puede omitir los pasos del resto de esta subtarea.</span><span class="sxs-lookup"><span data-stu-id="a84ab-126">You can skip the rest steps in this sub-task.</span></span>   
7. <span data-ttu-id="a84ab-127">Haga clic en Importar.</span><span class="sxs-lookup"><span data-stu-id="a84ab-127">Click Import.</span></span>
8. <span data-ttu-id="a84ab-128">Haga clic en Sí.</span><span class="sxs-lookup"><span data-stu-id="a84ab-128">Click Yes.</span></span>
9. <span data-ttu-id="a84ab-129">Cierre la página.</span><span class="sxs-lookup"><span data-stu-id="a84ab-129">Close the page.</span></span>
10. <span data-ttu-id="a84ab-130">Cierre la página.</span><span class="sxs-lookup"><span data-stu-id="a84ab-130">Close the page.</span></span>

## <a name="add-a-new-er-format-configuration"></a><span data-ttu-id="a84ab-131">Añada una nueva configuración para el formato de ER</span><span class="sxs-lookup"><span data-stu-id="a84ab-131">Add a new ER format configuration</span></span>
1. <span data-ttu-id="a84ab-132">Haga clic en Configuraciones de informes.</span><span class="sxs-lookup"><span data-stu-id="a84ab-132">Click Reporting configurations.</span></span>
    * <span data-ttu-id="a84ab-133">Agregar un nuevo formato de ER para analizar los extractos bancarios de entrada en el formato de TXT.</span><span class="sxs-lookup"><span data-stu-id="a84ab-133">Add a new ER format to parse incoming bank statements in TXT format.</span></span>  
2. <span data-ttu-id="a84ab-134">En el árbol, seleccione "Modelo de pago".</span><span class="sxs-lookup"><span data-stu-id="a84ab-134">In the tree, select 'Payment model'.</span></span>
3. <span data-ttu-id="a84ab-135">Haga clic en Crear configuración para abrir el menú del cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="a84ab-135">Click Create configuration to open the dialog menu.</span></span>
4. <span data-ttu-id="a84ab-136">En el campo Nuevo, especifique "Formato basado en modelo de datos PaymentModel".</span><span class="sxs-lookup"><span data-stu-id="a84ab-136">In the New field, enter 'Format based on data model PaymentModel'.</span></span>
5. <span data-ttu-id="a84ab-137">En el campo Nombre, escriba “formato de importación de extracto bancario (muestra)”.</span><span class="sxs-lookup"><span data-stu-id="a84ab-137">In the Name field, type 'Bank statement import format (sample)'.</span></span>
    * <span data-ttu-id="a84ab-138">Formato de importación del extracto bancario (muestra)</span><span class="sxs-lookup"><span data-stu-id="a84ab-138">Bank statement import format (sample)</span></span>  
6. <span data-ttu-id="a84ab-139">Seleccione Sí en el campo Admite la importación de datos.</span><span class="sxs-lookup"><span data-stu-id="a84ab-139">Select Yes in the Supports data import field.</span></span>
7. <span data-ttu-id="a84ab-140">Haga clic en Crear configuración.</span><span class="sxs-lookup"><span data-stu-id="a84ab-140">Click Create configuration.</span></span>

## <a name="design-the-er-format-configuration---format"></a><span data-ttu-id="a84ab-141">Diseñar la configuración del formato de ER - format</span><span class="sxs-lookup"><span data-stu-id="a84ab-141">Design the ER format configuration - format</span></span>
1. <span data-ttu-id="a84ab-142">Haga clic en Diseñador.</span><span class="sxs-lookup"><span data-stu-id="a84ab-142">Click Designer.</span></span>
    * <span data-ttu-id="a84ab-143">El formato diseñado representa la estructura esperada del archivo externo en formato TXT.</span><span class="sxs-lookup"><span data-stu-id="a84ab-143">The designed format represents the expected structure of the external file in TXT format.</span></span>  
2. <span data-ttu-id="a84ab-144">Haga clic en Agregar para abrir el menú del cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="a84ab-144">Click Add root to open the dialog menu.</span></span>
3. <span data-ttu-id="a84ab-145">En el árbol, seleccione "Texto\Secuencia".</span><span class="sxs-lookup"><span data-stu-id="a84ab-145">In the tree, select 'Text\Sequence'.</span></span>
4. <span data-ttu-id="a84ab-146">Escriba "Raíz" en el campo Nombre.</span><span class="sxs-lookup"><span data-stu-id="a84ab-146">In the Name field, type 'Root'.</span></span>
    * <span data-ttu-id="a84ab-147">Raíz</span><span class="sxs-lookup"><span data-stu-id="a84ab-147">Root</span></span>  
5. <span data-ttu-id="a84ab-148">En el campo Caracteres especiales, seleccione "Línea nueva - Windows (CR LF)".</span><span class="sxs-lookup"><span data-stu-id="a84ab-148">In the Special characters field, select 'New line - Windows (CR LF)'.</span></span>
    * <span data-ttu-id="a84ab-149">La opción seleccione "Línea nueva - Windows (CR LF)" se ha seleccionado en el campo "Caracteres especiales".</span><span class="sxs-lookup"><span data-stu-id="a84ab-149">The option ‘New line - Windows (CR LF)’ has been selected in the ‘Special characters’ field.</span></span> <span data-ttu-id="a84ab-150">Basándose en esta configuración, cada línea en el archivo de análisis se considera un registro individual.</span><span class="sxs-lookup"><span data-stu-id="a84ab-150">Based on this setting, each line in the parsing file is considered a separate record.</span></span>  
6. <span data-ttu-id="a84ab-151">Haga clic en Aceptar</span><span class="sxs-lookup"><span data-stu-id="a84ab-151">Click OK.</span></span>
7. <span data-ttu-id="a84ab-152">Haga clic en Agregar para abrir el cuadro desplegable.</span><span class="sxs-lookup"><span data-stu-id="a84ab-152">Click Add to open the drop dialog.</span></span>
8. <span data-ttu-id="a84ab-153">En el árbol, seleccione "Texto\Secuencia".</span><span class="sxs-lookup"><span data-stu-id="a84ab-153">In the tree, select 'Text\Sequence'.</span></span>
9. <span data-ttu-id="a84ab-154">En el campo Nombre, escriba "Rows".</span><span class="sxs-lookup"><span data-stu-id="a84ab-154">In the Name field, type 'Rows'.</span></span>
    * <span data-ttu-id="a84ab-155">Filas</span><span class="sxs-lookup"><span data-stu-id="a84ab-155">Rows</span></span>  
10. <span data-ttu-id="a84ab-156">En el campo de Multiplicidad, seleccione "Uno o varios".</span><span class="sxs-lookup"><span data-stu-id="a84ab-156">In the Multiplicity field, select 'One many'.</span></span>
    * <span data-ttu-id="a84ab-157">La opción “Uno o varios” se ha seleccionado en el campo “Multiplicidad”.</span><span class="sxs-lookup"><span data-stu-id="a84ab-157">The option ‘One many’ has been selected in the ‘Multiplicity’ field.</span></span> <span data-ttu-id="a84ab-158">En base a este valor, se espera que el menos una línea se visualizará en el archivo del análisis.</span><span class="sxs-lookup"><span data-stu-id="a84ab-158">Based on this setting, it is expected that at least one line will be presented in the parsing file.</span></span>  
11. <span data-ttu-id="a84ab-159">Haga clic en Aceptar</span><span class="sxs-lookup"><span data-stu-id="a84ab-159">Click OK.</span></span>
12. <span data-ttu-id="a84ab-160">En el árbol, seleccione 'Root\Rows'.</span><span class="sxs-lookup"><span data-stu-id="a84ab-160">In the tree, select 'Root\Rows'.</span></span>
13. <span data-ttu-id="a84ab-161">Haga clic en Agregar secuencia.</span><span class="sxs-lookup"><span data-stu-id="a84ab-161">Click Add Sequence.</span></span>
14. <span data-ttu-id="a84ab-162">En el campo Nombre, escriba "Fields".</span><span class="sxs-lookup"><span data-stu-id="a84ab-162">In the Name field, type 'Fields'.</span></span>
    * <span data-ttu-id="a84ab-163">Campos</span><span class="sxs-lookup"><span data-stu-id="a84ab-163">Fields</span></span>  
15. <span data-ttu-id="a84ab-164">En el campo de Multiplicidad, seleccione "Exactamente uno".</span><span class="sxs-lookup"><span data-stu-id="a84ab-164">In the Multiplicity field, select 'Exactly one'.</span></span>
16. <span data-ttu-id="a84ab-165">Haga clic en Aceptar</span><span class="sxs-lookup"><span data-stu-id="a84ab-165">Click OK.</span></span>
17. <span data-ttu-id="a84ab-166">En el árbol , seleccione 'Root\Rows\Fields'.</span><span class="sxs-lookup"><span data-stu-id="a84ab-166">In the tree, select 'Root\Rows\Fields'.</span></span>
18. <span data-ttu-id="a84ab-167">Haga clic en Agregar para abrir el cuadro desplegable.</span><span class="sxs-lookup"><span data-stu-id="a84ab-167">Click Add to open the drop dialog.</span></span>
19. <span data-ttu-id="a84ab-168">En el árbol, seleccione "Texto\Cadena".</span><span class="sxs-lookup"><span data-stu-id="a84ab-168">In the tree, select 'Text\String'.</span></span>
20. <span data-ttu-id="a84ab-169">En el campo Nombre, escriba "IBAN".</span><span class="sxs-lookup"><span data-stu-id="a84ab-169">In the Name field, type 'IBAN'.</span></span>
    * <span data-ttu-id="a84ab-170">IBAN</span><span class="sxs-lookup"><span data-stu-id="a84ab-170">IBAN</span></span>  
21. <span data-ttu-id="a84ab-171">Haga clic en Aceptar</span><span class="sxs-lookup"><span data-stu-id="a84ab-171">Click OK.</span></span>
    * <span data-ttu-id="a84ab-172">Se ha configurado que cada línea del archivo de análisis contenga el único código de IBAN.</span><span class="sxs-lookup"><span data-stu-id="a84ab-172">It has been configured that each line in the parsing file contains the only IBAN code.</span></span>  
22. <span data-ttu-id="a84ab-173">Haga clic en Guardar.</span><span class="sxs-lookup"><span data-stu-id="a84ab-173">Click Save.</span></span>

## <a name="design-the-er-format-configuration--mapping-to-data-model"></a><span data-ttu-id="a84ab-174">Diseñar la configuración del formato de ER – asignación al modelo de datos</span><span class="sxs-lookup"><span data-stu-id="a84ab-174">Design the ER format configuration – mapping to data model</span></span>
1. <span data-ttu-id="a84ab-175">Haga clic en Asignar formato a modelo.</span><span class="sxs-lookup"><span data-stu-id="a84ab-175">Click Map format to model.</span></span>
2. <span data-ttu-id="a84ab-176">Haga clic en Nuevo.</span><span class="sxs-lookup"><span data-stu-id="a84ab-176">Click New.</span></span>
3. <span data-ttu-id="a84ab-177">En el campo Definición, escriba "BankToCustomerDebitCreditNotificationInitiation".</span><span class="sxs-lookup"><span data-stu-id="a84ab-177">In the Definition field, type 'BankToCustomerDebitCreditNotificationInitiation'.</span></span>
    * <span data-ttu-id="a84ab-178">BankToCustomerDebitCreditNotificationInitiation</span><span class="sxs-lookup"><span data-stu-id="a84ab-178">BankToCustomerDebitCreditNotificationInitiation</span></span>  
4. <span data-ttu-id="a84ab-179">ResolveChanges la Definición.</span><span class="sxs-lookup"><span data-stu-id="a84ab-179">ResolveChanges the Definition.</span></span>
5. <span data-ttu-id="a84ab-180">En el campo Nombre, escriba "Asignar a modelo de datos".</span><span class="sxs-lookup"><span data-stu-id="a84ab-180">In the Name field, type 'Mapping to data model'.</span></span>
    * <span data-ttu-id="a84ab-181">Asignación del modelo de datos</span><span class="sxs-lookup"><span data-stu-id="a84ab-181">Mapping to data model</span></span>  
6. <span data-ttu-id="a84ab-182">Haga clic en Guardar.</span><span class="sxs-lookup"><span data-stu-id="a84ab-182">Click Save.</span></span>
7. <span data-ttu-id="a84ab-183">Haga clic en Diseñador.</span><span class="sxs-lookup"><span data-stu-id="a84ab-183">Click Designer.</span></span>
8. <span data-ttu-id="a84ab-184">En el árbol, seleccione 'Dynamics 365 for Operations\Class'.</span><span class="sxs-lookup"><span data-stu-id="a84ab-184">In the tree, select 'Dynamics 365 for Operations\Class'.</span></span>
9. <span data-ttu-id="a84ab-185">Haga clic en Agregar raíz.</span><span class="sxs-lookup"><span data-stu-id="a84ab-185">Click Add root.</span></span>
    * <span data-ttu-id="a84ab-186">Agregar un nuevo origen de datos para llamar a la lógica de aplicación existente para obtener la validación de los códigos de IBAN.</span><span class="sxs-lookup"><span data-stu-id="a84ab-186">Add a new data source to call the existing application logic for IBAN codes validation.</span></span>  
10. <span data-ttu-id="a84ab-187">En el campo Nombre, escriba "check codes".</span><span class="sxs-lookup"><span data-stu-id="a84ab-187">In the Name field, type 'check_codes'.</span></span>
    * <span data-ttu-id="a84ab-188">comprobar códigos</span><span class="sxs-lookup"><span data-stu-id="a84ab-188">check_codes</span></span>  
11. <span data-ttu-id="a84ab-189">En el campo Clase, escriba ''ISO7064".</span><span class="sxs-lookup"><span data-stu-id="a84ab-189">In the Class field, type 'ISO7064'.</span></span>
    * <span data-ttu-id="a84ab-190">ISO7064</span><span class="sxs-lookup"><span data-stu-id="a84ab-190">ISO7064</span></span>  
12. <span data-ttu-id="a84ab-191">Haga clic en Aceptar</span><span class="sxs-lookup"><span data-stu-id="a84ab-191">Click OK.</span></span>
13. <span data-ttu-id="a84ab-192">En el árbol, expanda "formato".</span><span class="sxs-lookup"><span data-stu-id="a84ab-192">In the tree, expand 'format'.</span></span>
14. <span data-ttu-id="a84ab-193">En el árbol, amplíe 'format\Root: Sequence(Root)'.</span><span class="sxs-lookup"><span data-stu-id="a84ab-193">In the tree, expand 'format\Root: Sequence(Root)'.</span></span>
15. <span data-ttu-id="a84ab-194">En el árbol, seleccione 'format\Root: Sequence(Root)\Rows: Sequence 1..\* (Rows)'.</span><span class="sxs-lookup"><span data-stu-id="a84ab-194">In the tree, select 'format\Root: Sequence(Root)\Rows: Sequence 1..\* (Rows)'.</span></span>
16. <span data-ttu-id="a84ab-195">Haga clic en Enlazar.</span><span class="sxs-lookup"><span data-stu-id="a84ab-195">Click Bind.</span></span>
17. <span data-ttu-id="a84ab-196">En el árbol, amplíe 'format\Root: Sequence(Root)\Rows: Sequence 1..\* (Rows)'.</span><span class="sxs-lookup"><span data-stu-id="a84ab-196">In the tree, expand 'format\Root: Sequence(Root)\Rows: Sequence 1..\* (Rows)'.</span></span>
18. <span data-ttu-id="a84ab-197">En el árbol, amplíe 'format\Root: Sequence(Root)\Rows: Sequence 1..\* (Rows)\Fields: Sequence 1..1 (Fields)'.</span><span class="sxs-lookup"><span data-stu-id="a84ab-197">In the tree, expand 'format\Root: Sequence(Root)\Rows: Sequence 1..\* (Rows)\Fields: Sequence 1..1 (Fields)'.</span></span>
19. <span data-ttu-id="a84ab-198">En el árbol, seleccione 'format\Root: Sequence(Root)\Rows: Sequence 1..\* (Rows)\Fields: Sequence 1..1 (Fields)\IBAN: String(IBAN)'.</span><span class="sxs-lookup"><span data-stu-id="a84ab-198">In the tree, select 'format\Root: Sequence(Root)\Rows: Sequence 1..\* (Rows)\Fields: Sequence 1..1 (Fields)\IBAN: String(IBAN)'.</span></span>
20. <span data-ttu-id="a84ab-199">En el árbol, amplíe 'Payments = format.Root.Rows'.</span><span class="sxs-lookup"><span data-stu-id="a84ab-199">In the tree, expand 'Payments = format.Root.Rows'.</span></span>
21. <span data-ttu-id="a84ab-200">En el árbol, amplíe 'Payments = format.Root.Rows\Creditor Account(CreditorAccount)'.</span><span class="sxs-lookup"><span data-stu-id="a84ab-200">In the tree, expand 'Payments = format.Root.Rows\Creditor Account(CreditorAccount)'.</span></span>
22. <span data-ttu-id="a84ab-201">En el árbol, amplíe 'Payments = format.Root.Rows\Creditor Account(CreditorAccount)\Identification'.</span><span class="sxs-lookup"><span data-stu-id="a84ab-201">In the tree, expand 'Payments = format.Root.Rows\Creditor Account(CreditorAccount)\Identification'.</span></span>
23. <span data-ttu-id="a84ab-202">En el árbol, seleccione 'Payments = format.Root.Rows\Creditor Account(CreditorAccount)\Identification\IBAN'.</span><span class="sxs-lookup"><span data-stu-id="a84ab-202">In the tree, select 'Payments = format.Root.Rows\Creditor Account(CreditorAccount)\Identification\IBAN'.</span></span>
24. <span data-ttu-id="a84ab-203">Haga clic en Enlazar.</span><span class="sxs-lookup"><span data-stu-id="a84ab-203">Click Bind.</span></span>
25. <span data-ttu-id="a84ab-204">Haga clic en la pestaña Validaciones.</span><span class="sxs-lookup"><span data-stu-id="a84ab-204">Click the Validations tab.</span></span>
26. <span data-ttu-id="a84ab-205">Haga clic en Nuevo.</span><span class="sxs-lookup"><span data-stu-id="a84ab-205">Click New.</span></span>
    * <span data-ttu-id="a84ab-206">Agregar una nueva regla de validación que muestre un error para cualquier línea del archivo de análisis que contenga un código de IBAN no válido.</span><span class="sxs-lookup"><span data-stu-id="a84ab-206">Add a new validation rule that displays an error for any line in the parsing file that contains invalid IBAN code.</span></span>  
27. <span data-ttu-id="a84ab-207">Haga clic en Editar condición.</span><span class="sxs-lookup"><span data-stu-id="a84ab-207">Click Edit condition.</span></span>
28. <span data-ttu-id="a84ab-208">En el árbol, amplíe 'check_codes'.</span><span class="sxs-lookup"><span data-stu-id="a84ab-208">In the tree, expand 'check_codes'.</span></span>
29. <span data-ttu-id="a84ab-209">En el árbol, seleccione 'check_codes\verifyMOD1271_36'.</span><span class="sxs-lookup"><span data-stu-id="a84ab-209">In the tree, select 'check_codes\verifyMOD1271_36'.</span></span>
30. <span data-ttu-id="a84ab-210">Haga clic en Agregar origen de datos.</span><span class="sxs-lookup"><span data-stu-id="a84ab-210">Click Add data source.</span></span>
31. <span data-ttu-id="a84ab-211">En el campo Fórmula, escriba 'check_codes.verifyMOD1271_36('.</span><span class="sxs-lookup"><span data-stu-id="a84ab-211">In the Formula field, enter 'check_codes.verifyMOD1271_36('.</span></span>
    * <span data-ttu-id="a84ab-212">check_codes.verifyMOD1271_36(</span><span class="sxs-lookup"><span data-stu-id="a84ab-212">check_codes.verifyMOD1271_36(</span></span>  
32. <span data-ttu-id="a84ab-213">En el árbol, expanda "formato".</span><span class="sxs-lookup"><span data-stu-id="a84ab-213">In the tree, expand 'format'.</span></span>
33. <span data-ttu-id="a84ab-214">En el árbol, amplíe 'format\Root: Sequence(Root)'.</span><span class="sxs-lookup"><span data-stu-id="a84ab-214">In the tree, expand 'format\Root: Sequence(Root)'.</span></span>
34. <span data-ttu-id="a84ab-215">En el árbol, amplíe 'format\Root: Sequence(Root)\Rows: Sequence 1..\* (Rows)'.</span><span class="sxs-lookup"><span data-stu-id="a84ab-215">In the tree, expand 'format\Root: Sequence(Root)\Rows: Sequence 1..\* (Rows)'.</span></span>
35. <span data-ttu-id="a84ab-216">En el árbol, amplíe 'format\Root: Sequence(Root)\Rows: Sequence 1..\* (Rows)\Fields: Sequence 1..1 (Fields)'.</span><span class="sxs-lookup"><span data-stu-id="a84ab-216">In the tree, expand 'format\Root: Sequence(Root)\Rows: Sequence 1..\* (Rows)\Fields: Sequence 1..1 (Fields)'.</span></span>
36. <span data-ttu-id="a84ab-217">En el árbol, seleccione 'format\Root: Sequence(Root)\Rows: Sequence 1..\* (Rows)\Fields: Sequence 1..1 (Fields)\IBAN: String(IBAN)'.</span><span class="sxs-lookup"><span data-stu-id="a84ab-217">In the tree, select 'format\Root: Sequence(Root)\Rows: Sequence 1..\* (Rows)\Fields: Sequence 1..1 (Fields)\IBAN: String(IBAN)'.</span></span>
37. <span data-ttu-id="a84ab-218">Haga clic en Agregar origen de datos.</span><span class="sxs-lookup"><span data-stu-id="a84ab-218">Click Add data source.</span></span>
38. <span data-ttu-id="a84ab-219">En el campo de fórmula, introduzca 'check_codes.verifyMOD1271_36(format.Root.Rows.Fields.IBAN)'.</span><span class="sxs-lookup"><span data-stu-id="a84ab-219">In the Formula field, enter 'check_codes.verifyMOD1271_36(format.Root.Rows.Fields.IBAN)'.</span></span>
    * <span data-ttu-id="a84ab-220">check_codes.verifyMOD1271_36(format.Root.Rows.Fields.IBAN)</span><span class="sxs-lookup"><span data-stu-id="a84ab-220">check_codes.verifyMOD1271_36(format.Root.Rows.Fields.IBAN)</span></span>  
39. <span data-ttu-id="a84ab-221">Haga clic en Guardar.</span><span class="sxs-lookup"><span data-stu-id="a84ab-221">Click Save.</span></span>
40. <span data-ttu-id="a84ab-222">Cierre la página.</span><span class="sxs-lookup"><span data-stu-id="a84ab-222">Close the page.</span></span>
    * <span data-ttu-id="a84ab-223">La condición de validación se ha configurado para devolver FALSE para todo código IBAN no válido llamando al método existente “verifyMOD1271_36” de la clase de aplicación “ISO7064”.</span><span class="sxs-lookup"><span data-stu-id="a84ab-223">The validation condition has been configured to return FALSE for any invalid IBAN code by calling the existing method ‘verifyMOD1271_36’ of the application class ‘ISO7064’.</span></span> <span data-ttu-id="a84ab-224">Tenga en cuenta que el valor del código IBAN se define de forma dinámica en el tiempo de ejecución como argumento del método de llamada basándose en el contenido del archivo TXT de análisis.</span><span class="sxs-lookup"><span data-stu-id="a84ab-224">Note that the value of the IBAN code is defined dynamically at run-time as the argument of the calling method based on the content of the parsing TXT file.</span></span>   
41. <span data-ttu-id="a84ab-225">Haga clic en Editar mensaje.</span><span class="sxs-lookup"><span data-stu-id="a84ab-225">Click Edit message.</span></span>
42. <span data-ttu-id="a84ab-226">En el campo de fórmula, entre 'CONCATENATE("Invalid IBAN code has been found:  ", format.Root.Rows.Fields.IBAN)'.</span><span class="sxs-lookup"><span data-stu-id="a84ab-226">In the Formula field, enter 'CONCATENATE("Invalid IBAN code has been found:  ", format.Root.Rows.Fields.IBAN)'.</span></span>
    * <span data-ttu-id="a84ab-227">CONCATENATE("Invalid IBAN code has been found:  ", format.Root.Rows.Fields.IBAN)</span><span class="sxs-lookup"><span data-stu-id="a84ab-227">CONCATENATE("Invalid IBAN code has been found:  ", format.Root.Rows.Fields.IBAN)</span></span>  
43. <span data-ttu-id="a84ab-228">Haga clic en Guardar.</span><span class="sxs-lookup"><span data-stu-id="a84ab-228">Click Save.</span></span>
44. <span data-ttu-id="a84ab-229">Cierre la página.</span><span class="sxs-lookup"><span data-stu-id="a84ab-229">Close the page.</span></span>
45. <span data-ttu-id="a84ab-230">Haga clic en Guardar.</span><span class="sxs-lookup"><span data-stu-id="a84ab-230">Click Save.</span></span>
46. <span data-ttu-id="a84ab-231">Cierre la página.</span><span class="sxs-lookup"><span data-stu-id="a84ab-231">Close the page.</span></span>

## <a name="run-the-format-mapping"></a><span data-ttu-id="a84ab-232">Ejecute la asignación de formato</span><span class="sxs-lookup"><span data-stu-id="a84ab-232">Run the format mapping</span></span>
<span data-ttu-id="a84ab-233">Para comprobar, ejecute la asignación de formato mediante el archivo SampleIncomingMessage.txt que descargó.</span><span class="sxs-lookup"><span data-stu-id="a84ab-233">For testing purposes, execute the format mapping using the SampleIncomingMessage.txt file that you downloaded.</span></span> <span data-ttu-id="a84ab-234">La salida generada incluye datos que importarán desde el archivo TXT seleccionado y se rellenarán en el modelo de datos personalizado durante la importación real.</span><span class="sxs-lookup"><span data-stu-id="a84ab-234">The generated output includes data that will be imported from the selected TXT file and populated to the custom data model during the real import.</span></span>   
1. <span data-ttu-id="a84ab-235">Haga clic en Ejecutar.</span><span class="sxs-lookup"><span data-stu-id="a84ab-235">Click Run.</span></span>
    * <span data-ttu-id="a84ab-236">Haga clic en Examinar y desplácese hasta el archivo SampleIncomingMessage.txt que ha descargado previamente.</span><span class="sxs-lookup"><span data-stu-id="a84ab-236">Click Browse and navigate to the SampleIncomingMessage.txt file that you previously downloaded.</span></span>  
2. <span data-ttu-id="a84ab-237">Haga clic en Aceptar</span><span class="sxs-lookup"><span data-stu-id="a84ab-237">Click OK.</span></span>
    * <span data-ttu-id="a84ab-238">Revise la salida en formato XML que representa los datos que se han importado del archivo seleccionado y se han trasladado al modelo de datos.</span><span class="sxs-lookup"><span data-stu-id="a84ab-238">Review the output in XML format that represents the data that has been imported from the selected file and ported to the data model.</span></span> <span data-ttu-id="a84ab-239">Tenga en cuenta que solo las líneas 3 del archivo TXT importado se procesaron.</span><span class="sxs-lookup"><span data-stu-id="a84ab-239">Note that only 3 lines of the imported TXT file were processed.</span></span> <span data-ttu-id="a84ab-240">El código de IBAN de la línea 4 que no es válida se saltó y se proporcionó un mensaje de error en el registro de información.</span><span class="sxs-lookup"><span data-stu-id="a84ab-240">The IBAN code on line 4 that is not valid was skipped and an error message is provided in the Infolog.</span></span>  

