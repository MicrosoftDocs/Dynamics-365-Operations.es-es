---
title: Configurar vales para ventas minoristas
description: Este tema proporciona una visión general de los vales comerciales y explica cómo configurarlos.
author: scott-tucker
manager: AnnBe
ms.date: 05/22/2017
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
ms.search.form: RetailCoupon, RetailParameters, RetailSharedParameters
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations, Retail
ms.custom: ''
ms.search.region: Global
ms.search.industry: retail
ms.author: scotttuc
ms.search.validFrom: 2017-06-30
ms.dyn365.ops.version: July 2017 update
ms.openlocfilehash: bd3596b6c78c5959ca289c73bcc5785eb770be39
ms.sourcegitcommit: 0f530e5f72a40f383868957a6b5cb0e446e4c795
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 01/29/2019
ms.locfileid: "336598"
---
# <a name="set-up-coupons-for-retail-sales"></a><span data-ttu-id="6d4c9-103">Configurar vales para ventas minoristas</span><span class="sxs-lookup"><span data-stu-id="6d4c9-103">Set up coupons for retail sales</span></span>

[!include [banner](includes/banner.md)]

## <a name="overview-of-coupons"></a><span data-ttu-id="6d4c9-104">Visión general de los vales</span><span class="sxs-lookup"><span data-stu-id="6d4c9-104">Overview of coupons</span></span>

<span data-ttu-id="6d4c9-105">Los vales son códigos y códigos de barras que se usan para agregar descuentos al por menor a las transacciones.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-105">Coupons are codes and bar codes that are used to add retail discounts to transactions.</span></span> <span data-ttu-id="6d4c9-106">Cada vale puede tener varios códigos, y cada código puede tener sus propias fechas de vigencia.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-106">Each coupon can have multiple codes, and each code can have its own effective dates.</span></span>

<span data-ttu-id="6d4c9-107">Cada vale está relacionado con un descuento minorista.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-107">Each coupon is related to one retail discount.</span></span> <span data-ttu-id="6d4c9-108">Los grupos de precios asociados al descuento definen a los clientes que pueden utilizar un vale o los canales donde es válido un vale.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-108">The price groups that are associated with the discount define the customers that can use a coupon or the channels where a coupon is valid.</span></span>

<span data-ttu-id="6d4c9-109">Esencialmente, los vales son una validación adicional a los descuentos minoristas.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-109">Essentially, coupons are additional validation on top of retail discounts.</span></span> <span data-ttu-id="6d4c9-110">El vale proporciona los códigos y los códigos de barras obligatorios, así como los intervalos de fechas para dichos códigos.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-110">The coupon provides the coupon codes and bar codes that are required, together with date ranges for those codes.</span></span> <span data-ttu-id="6d4c9-111">El vale también proporciona límites de uso opcionales y propiedades requeridas por el cliente.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-111">The coupon also provides optional usage limits and customer required properties.</span></span> <span data-ttu-id="6d4c9-112">El descuento proporciona el conjunto de productos para los que es válido.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-112">The discount provides the set of products that the coupon is valid for.</span></span> <span data-ttu-id="6d4c9-113">Los grupos de precios para el descuento proporcionan el conjunto de clientes, canales o catálogos para los que el vale es válido.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-113">The price groups for the discount provide the set of customers, channels, or catalogs that the coupon is valid for.</span></span>

<span data-ttu-id="6d4c9-114">Para crear un vale, cree el descuento y el vale por separado.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-114">To create a coupon, you create the discount and the coupon separately.</span></span> <span data-ttu-id="6d4c9-115">A continuación los vincula seleccionando el descuento en la página de vales en Microsoft Dynamics 365 for Retail.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-115">You then link them by selecting the discount on the coupon page in Microsoft Dynamics 365 for Retail.</span></span>

> [!NOTE]
> <span data-ttu-id="6d4c9-116">Después de vincular un vale a un descuento, varios campos de la página de descuentos de Microsoft Dynamics 365 for Retail se vuelven de solo lectura porque son administrados mediante la configuración del vale.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-116">After a coupon is linked to a discount, several fields on the discount page in Microsoft Dynamics 365 for Retail become read-only, because they are managed by the coupon's settings.</span></span> <span data-ttu-id="6d4c9-117">Estos campos incluyen los campos para estado y los intervalos de fechas estándar.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-117">These fields include the fields for the status and standard date ranges.</span></span>

### <a name="limited-use-coupons"></a><span data-ttu-id="6d4c9-118">Vales de uso limitado</span><span class="sxs-lookup"><span data-stu-id="6d4c9-118">Limited-use coupons</span></span>

<span data-ttu-id="6d4c9-119">Los vales se pueden configurar como vales de uso limitado.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-119">Coupons can be configured as limited-use coupons.</span></span> <span data-ttu-id="6d4c9-120">El límite de uso puede definirse por cliente o canal, o como límite global.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-120">The usage limit can be defined per customer or channel, or as a global limit.</span></span> <span data-ttu-id="6d4c9-121">Este límite se aplica cuando el código o el código de barras se introducen o escanean en el PDV o durante la entrada de pedidos de ventas.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-121">This limit is enforced when the code or bar code is entered or scanned in POS or during sales order entry.</span></span>

<span data-ttu-id="6d4c9-122">El límite se aplica por el código de vale.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-122">The limit is enforced per coupon code on a coupon.</span></span> <span data-ttu-id="6d4c9-123">Por ejemplo, un cupón de un solo uso que tiene dos códigos de vale se puede utilizar dos veces: una vez por cada código de vale.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-123">For example, a single-use coupon that has two coupon codes can be used two times: one time for each coupon code.</span></span> <span data-ttu-id="6d4c9-124">Cada código de un vale se puede activar de forma independiente.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-124">Each code on a coupon can be independently set to active.</span></span>

> [!NOTE]
> <span data-ttu-id="6d4c9-125">Una vez que un código de vale ha llegado a su límite de uso, el sistema *no* cambia automáticamente el estado del código de vale a "Usado".</span><span class="sxs-lookup"><span data-stu-id="6d4c9-125">Once a coupon code has reached its usage limit, the system does *not* automatically change the status of the coupon code to "Used".</span></span> <span data-ttu-id="6d4c9-126">No obstante, el sistema no permite el uso adicional de un código de vale que ha llegado a su límite de uso.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-126">The system however, does not allow further usage of a coupon code which has reached its usage limit.</span></span> <span data-ttu-id="6d4c9-127">Si el estado de un código de vale se establece manualmente en cualquier otra cosa aparte de "Activo", entonces este código de vale no se puede utilizar en ningún canal.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-127">If the status of a coupon code is manually set to anything apart from "Active" then this coupon code cannot be used in any channel.</span></span>

## <a name="managing-coupons"></a><span data-ttu-id="6d4c9-128">Administrar vales</span><span class="sxs-lookup"><span data-stu-id="6d4c9-128">Managing coupons</span></span>

<span data-ttu-id="6d4c9-129">Debe crear el descuento y el vale por separado.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-129">You must create the discount and the coupon separately.</span></span> <span data-ttu-id="6d4c9-130">A continuación los vincula seleccionando el descuento en la página de vales.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-130">You then link them by selecting the discount on the coupon page.</span></span> <span data-ttu-id="6d4c9-131">Después de vincular un vale a un descuento, varios campos del descuento se vuelven de solo lectura porque son administrados mediante la configuración del vale.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-131">After you link a coupon to a discount, several fields for the discount become read-only, because they are managed by the coupon's settings.</span></span> <span data-ttu-id="6d4c9-132">Estos campos incluyen los campos para estado y los intervalos de fechas estándar.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-132">These fields include the fields for the status and standard date ranges.</span></span>

<span data-ttu-id="6d4c9-133">Esencialmente, los vales son ahora una validación adicional a los descuentos minoristas.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-133">Essentially, coupons are now additional validation on top of retail discounts.</span></span> <span data-ttu-id="6d4c9-134">El vale proporciona los códigos y los códigos de barras, así como los intervalos de fechas, los límites de uso y la propiedad exigida por el cliente.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-134">The coupon provides the coupon codes and bar codes, together with date ranges, the usage limits, and the customer required property.</span></span> <span data-ttu-id="6d4c9-135">El descuento proporciona el conjunto de productos para los que es válido.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-135">The discount provides the set of products that the coupon is valid for.</span></span> <span data-ttu-id="6d4c9-136">Los grupos de precios del descuento proporcionan el conjunto de clientes, canales o catálogos para los que el vale es válido.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-136">The discount's price groups provide the set of customers, channels, or catalogs that the coupon is valid for.</span></span>

## <a name="system-setup-for-coupons"></a><span data-ttu-id="6d4c9-137">Configuración del sistema para vales</span><span class="sxs-lookup"><span data-stu-id="6d4c9-137">System setup for coupons</span></span>

<span data-ttu-id="6d4c9-138">Para poder configurar un vale, debe configurar el código de barras del vale y dos secuencias numéricas de vales.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-138">Before you can set up a coupon, you must set up the coupon bar code and two coupon number sequences.</span></span>

1. <span data-ttu-id="6d4c9-139">En la página **Caracteres de máscara**, cree un nuevo carácter de máscara para el código de vale.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-139">On the **Mask characters** page, create a new mask character for the coupon code.</span></span> <span data-ttu-id="6d4c9-140">Puede seleccionar cualquier carácter que no se haya utilizado.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-140">You can select any unused character.</span></span>
2. <span data-ttu-id="6d4c9-141">En la página **Configuración de máscara de código de barras**, cree una nueva máscara de código de barras.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-141">On the **Bar code mask setup** page, create a new bar code mask.</span></span> <span data-ttu-id="6d4c9-142">Establezca el campo **Tipo** en **Vale**.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-142">Set the **Type** field to **Coupon**.</span></span>
3. <span data-ttu-id="6d4c9-143">En la página **Configuración de código de barras**, cree un nuevo código de barras que utilice la máscara de código de barras que acaba de crear.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-143">On the **Bar code setup** page, create a new bar code that uses the bar code mask that you just created.</span></span>
4. <span data-ttu-id="6d4c9-144">En la página **Secuencias numéricas** , cree dos nuevas secuencias numéricas.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-144">On the **Number sequences** page, create two new number sequences.</span></span> <span data-ttu-id="6d4c9-145">Una secuencia es para el identificador del código de vale y la otra para el número de vale.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-145">One sequence is for the coupon code ID, and the other sequence is for the coupon number.</span></span> <span data-ttu-id="6d4c9-146">El identificador del código de vale es el identificador único de cada código de vale.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-146">The coupon code ID is the unique identifier for each coupon code for a coupon.</span></span> <span data-ttu-id="6d4c9-147">El número de vale es el identificador único de un vale.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-147">The coupon number is the unique identifier for a coupon.</span></span> <span data-ttu-id="6d4c9-148">Cada vale puede tener varios códigos y códigos de barras que activan el vale.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-148">Each coupon can have multiple codes and bar codes that trigger the coupon.</span></span>

    > [!NOTE]
    > <span data-ttu-id="6d4c9-149">En ambas secuencias numéricas, debe establecer el campo **Ámbito** a **Empresa**.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-149">For both number sequences, you must set the **Scope** field to **Company**.</span></span> <span data-ttu-id="6d4c9-150">En la mayoría de los casos, debe generar automáticamente los dos números secuenciales.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-150">In most cases, you should automatically generate both sequence numbers.</span></span>

5. <span data-ttu-id="6d4c9-151">En la página **Parámetros comerciales**, en la pestaña **Códigos de barras**, seleccione el código de barras que ha creado anteriormente.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-151">On the **Retail parameters** page, on the **Bar codes** tab, select the bar code that you created earlier.</span></span>
6. <span data-ttu-id="6d4c9-152">En la página **Parámetros compartidos comerciales**, en la pestaña **Secuencias numéricas**, seleccione las secuencias numéricas que ha creado para el número de vale y el identificador del código de vale.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-152">On the **Retail shared parameters** page, on the **Number sequences** tab, select the number sequences that you created for the coupon number and coupon code ID.</span></span>
7. <span data-ttu-id="6d4c9-153">Ahora puede abrir la página **Vales** y crear vales nuevos.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-153">You can now open the **Coupons** page and create new coupons.</span></span>

## <a name="the-effect-of-partial-updates-on-coupons"></a><span data-ttu-id="6d4c9-154">El efecto de las actualizaciones parciales en los vales</span><span class="sxs-lookup"><span data-stu-id="6d4c9-154">The effect of partial updates on coupons</span></span>

<span data-ttu-id="6d4c9-155">La funcionalidad de vales incluye varias características distintivas de Dynamics 365 for Retail.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-155">Coupon functionality comprises multiple distinct features in Dynamics 365 for Retail.</span></span> <span data-ttu-id="6d4c9-156">Microsoft Dynamics 365 for Retail Headquarters (HQ) y el canal se pueden actualizar parcialmente a través de los componentes.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-156">Microsoft Dynamics 365 for Retail headquarters (HQ) and the channel can be partially updated across components.</span></span> <span data-ttu-id="6d4c9-157">Por lo tanto, es importante que comprenda cómo las actualizaciones parciales afectan a la funcionalidad de los vales en conjunto.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-157">Therefore, it's important that you understand how partial updates affect coupon functionality as a whole.</span></span>

- <span data-ttu-id="6d4c9-158">**La central se actualiza parcialmente, pero no se actualizan el servidor de venta al por menor ni los PDV.**</span><span class="sxs-lookup"><span data-stu-id="6d4c9-158">**HQ is partially updated, but Retail server and POS aren't updated.**</span></span> <span data-ttu-id="6d4c9-159">En una actualización de la central, se actualizan el vale y las páginas de descuento, y el motor de precios minoristas también se actualiza.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-159">In an HQ update, the coupon and discount pages are updated, and the retail price engine is also updated.</span></span> <span data-ttu-id="6d4c9-160">Si solo uno de estos dos componentes se actualiza, algunas páginas de Retail no coincidirán los datos de cálculo de precio.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-160">If only one of those two components is updated, some pages in Retail won't match the price calculation data.</span></span> <span data-ttu-id="6d4c9-161">Por lo tanto, cálculos de descuento o errores inesperados pueden producirse durante cálculos de descuento.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-161">Therefore, unexpected discount calculations or errors might occur during discount calculations.</span></span>
- <span data-ttu-id="6d4c9-162">**La central está actualizada, pero ni el servidor de Retail ni los PDV están actualizados (N-1).**</span><span class="sxs-lookup"><span data-stu-id="6d4c9-162">**HQ is updated, but Retail server and POS aren't updated (N-1).**</span></span> <span data-ttu-id="6d4c9-163">Dado que no todas las tiendas se pueden actualizar al mismo tiempo, recomendamos que actualice la central antes de actualizar las tiendas.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-163">Because not all retail stores can be updated at the same time, we recommend that you update HQ before you update retail stores.</span></span> <span data-ttu-id="6d4c9-164">En la situación N-1, la nueva funcionalidad relacionada con vales no estará disponible en las tiendas que todavía no se hayan actualizado.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-164">In the N-1 scenario, new functionality that is related to coupons won't be available in stores that haven't been updated yet.</span></span> <span data-ttu-id="6d4c9-165">Por ejemplo, la funcionalidad de vales introduce líneas de “exclusión”.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-165">For example, the coupon functionality introduces "exclude" lines.</span></span> <span data-ttu-id="6d4c9-166">Si usa líneas de exclusión en un descuento, estas no se aplicarán en una tienda que esté ejecutando una versión anterior.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-166">If you use exclude lines on a discount, they won't be applied in a retail store that is running an earlier version.</span></span>
- <span data-ttu-id="6d4c9-167">**La central no está actualizada, pero el servidor de Retail y los PDV sí (N+1).**</span><span class="sxs-lookup"><span data-stu-id="6d4c9-167">**HQ isn't updated, but Retail server and POS are updated (N+1).**</span></span> <span data-ttu-id="6d4c9-168">Dado que el motor de precios actualizado en el servidor de Retail puede gestionar códigos de descuento antiguos durante los cálculos de precios, la actualización no debe tener ningún impacto funcional en este escenario.</span><span class="sxs-lookup"><span data-stu-id="6d4c9-168">Because the updated price engine in Retail server can handle legacy discount codes during price calculations, the update should have no functional impact in this scenario.</span></span>
