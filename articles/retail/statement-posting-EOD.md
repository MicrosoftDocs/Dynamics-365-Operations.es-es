---
title: Mejoras en la funcionalidad del registro de extractos
description: En este tema se describen mejoras que se han realizado en la función de registro de extractos.
author: josaw1
manager: AnnBe
ms.date: 05/14/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations, Retail
ms.search.region: Global
ms.search.industry: retail
ms.author: anpurush
ms.search.validFrom: 2018-04-30
ms.dyn365.ops.version: AX 7.0.0, Retail July 2017 update
ms.openlocfilehash: 1e3fc0e8cb5c9a6cc7729dfbddd5d918a1d6bdb5
ms.sourcegitcommit: 0099fb24f5f40ff442020b488ef4171836c35c48
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 10/23/2019
ms.locfileid: "2653380"
---
# <a name="improvements-to-statement-posting-functionality"></a><span data-ttu-id="7833b-103">Mejoras en la funcionalidad del registro de extractos</span><span class="sxs-lookup"><span data-stu-id="7833b-103">Improvements to statement posting functionality</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="7833b-104">En este tema se describe el primer conjunto de mejoras que se han realizado en la función de registro de extractos.</span><span class="sxs-lookup"><span data-stu-id="7833b-104">This topic describes the first set of improvements that have been made to the statement posting feature.</span></span> <span data-ttu-id="7833b-105">Estas mejoras están disponibles en Microsoft Dynamics 365 for Finance and Operations 7.3.2.</span><span class="sxs-lookup"><span data-stu-id="7833b-105">These improvements are available in Microsoft Dynamics 365 for Finance and Operations 7.3.2.</span></span>

## <a name="activation"></a><span data-ttu-id="7833b-106">Activación</span><span class="sxs-lookup"><span data-stu-id="7833b-106">Activation</span></span>

<span data-ttu-id="7833b-107">De forma predeterminada, durante la implementación de Finance and Operations 7.3.2 se configura el programa para usar la antigua función de registro de extractos.</span><span class="sxs-lookup"><span data-stu-id="7833b-107">By default, during deployment of Finance and Operations 7.3.2, the program is set up to use the legacy feature for statement postings.</span></span> <span data-ttu-id="7833b-108">Para habilitar la función mejorada de registro de extractos, debe activar su clave de configuración.</span><span class="sxs-lookup"><span data-stu-id="7833b-108">To enable the improved statement posting feature, you must turn on the configuration key for it.</span></span>

- <span data-ttu-id="7833b-109">Vaya **Administración del sistema** \> **Configuración** \> **Configuración de licencia** y, a continuación, en el nodo **Ventas al por menor** , desactive la casilla de verificación **Extractos comerciales (herencia)** , y seleccione la casilla de verificación **Extractos comerciales** .</span><span class="sxs-lookup"><span data-stu-id="7833b-109">Go to **System administration** \> **Setup** \> **License configuration**, and then, under the **Retail** node, clear the **Retail statements (legacy)** check box, and select the **Retail statements** check box.</span></span>

<span data-ttu-id="7833b-110">Cuando la nueva clave de configuración de **Extractos comerciales** se haya activado, estará disponible un nuevo elemento de menú llamado **Extractos comerciales**.</span><span class="sxs-lookup"><span data-stu-id="7833b-110">When the new **Retail statements** configuration key is turned on, a new menu item that is named **Retail statements** is available.</span></span> <span data-ttu-id="7833b-111">Este elemento de menú permite crear, calcular y enviar extractos manualmente.</span><span class="sxs-lookup"><span data-stu-id="7833b-111">This menu item lets you manually create, calculate, and post statements.</span></span> <span data-ttu-id="7833b-112">Cualquier extracto que produzca un error cuando se usa el proceso de registro de lotes también estará disponible a través de este elemento de menú.</span><span class="sxs-lookup"><span data-stu-id="7833b-112">Any statement that causes an error when the batch posting process is used will also be available through this menu item.</span></span> <span data-ttu-id="7833b-113">(Si está activada la clave de configuración **Extractos comerciales (herencia)**, el elemento de menú se llamará **Extractos abiertos**).</span><span class="sxs-lookup"><span data-stu-id="7833b-113">(When the **Retail statements (legacy)** configuration key is turned on, the menu item is named **Open statements**.)</span></span>

<span data-ttu-id="7833b-114">Retail incluye las siguientes validaciones relacionadas con estas claves de configuración:</span><span class="sxs-lookup"><span data-stu-id="7833b-114">Retail includes the following validations that are related to these configuration keys:</span></span>

- <span data-ttu-id="7833b-115">Las dos claves de configuración no pueden estar activadas a la vez.</span><span class="sxs-lookup"><span data-stu-id="7833b-115">Both configuration keys can't be turned on at the same time.</span></span>
- <span data-ttu-id="7833b-116">Se deben usar las mismas claves de configuración para todas las operaciones que se realizan en un extracto determinado durante su ciclo de vida (Crear, Calcular, Borrar, Registrar, etc.).</span><span class="sxs-lookup"><span data-stu-id="7833b-116">The same configuration keys must be used for all the operations that are performed on a given statement during its lifecycle (Create, Calculate, Clear, Post, and so on).</span></span> <span data-ttu-id="7833b-117">Por ejemplo, no puede crear y calcular un extracto mientras está activada la clave de configuración **Extracto comercial (herencia)** y, a continuación intentar registrar el mismo extracto con la clave de configuración **Extracto comercial** activada.</span><span class="sxs-lookup"><span data-stu-id="7833b-117">For example, you can't create and calculate a statement while the **Retail statement (legacy)** configuration key is turned on, and then try to post the same statement while the **Retail statement** configuration key is turned on.</span></span>

> [!NOTE]
> <span data-ttu-id="7833b-118">Recomendamos que utilice la clave de configuración **Extractos comerciales** para la función mejorada de registro de extractos, a menos que tenga motivos de peso para utilizar la clave de configuración **Extractos comerciales (herencia)** en su lugar.</span><span class="sxs-lookup"><span data-stu-id="7833b-118">We recommend that you use the **Retail statements** configuration key for the improved statement posting feature, unless you have compelling reasons to use the **Retail statements (legacy)** configuration key instead.</span></span> <span data-ttu-id="7833b-119">Microsoft seguirá invirtiendo en la nueva función mejorada de registro de extractos, y es importante que empiece a utilizarla lo antes posible para beneficiarse de ella.</span><span class="sxs-lookup"><span data-stu-id="7833b-119">Microsoft will continue to invest in the new and improved statement posting feature, and it's important that you switch to it at the earliest opportunity to benefit from it.</span></span> <span data-ttu-id="7833b-120">La función de registro de extractos heredada quedará obsoleta a partir de la versión 8.0.</span><span class="sxs-lookup"><span data-stu-id="7833b-120">The legacy statement posting feature is deprecated starting in 8.0 release.</span></span>

## <a name="setup"></a><span data-ttu-id="7833b-121">Configuración</span><span class="sxs-lookup"><span data-stu-id="7833b-121">Setup</span></span>

<span data-ttu-id="7833b-122">Como parte de las mejoras de la función de registro de extractos, se han incluido tres nuevos parámetros en la ficha desplegable **Extracto** en la ficha **Registro** de la página **Parámetros comerciales**:</span><span class="sxs-lookup"><span data-stu-id="7833b-122">As part of the improvements to the statement posting feature, three new parameters have been introduced on the **Statement** FastTab on the **Posting** tab of the **Retail parameters** page:</span></span>

- <span data-ttu-id="7833b-123">**Deshabilitar borrado de extracto**: esta opción sólo es aplicable para la función de registro de extractos heredada.</span><span class="sxs-lookup"><span data-stu-id="7833b-123">**Disable clear statement** – This option is applicable only for the legacy statement posting feature.</span></span> <span data-ttu-id="7833b-124">Recomendamos establecer esta opción en **No** para evitar que los usuarios borren extractos que están en estado semiregistrado.</span><span class="sxs-lookup"><span data-stu-id="7833b-124">We recommend that you set this option to **No** to prevent users from clearing statements that are in a semi-posted state.</span></span> <span data-ttu-id="7833b-125">Si se desactivan los extractos que están en estado semiregistrado, los datos resultarán dañados.</span><span class="sxs-lookup"><span data-stu-id="7833b-125">If statements that are in a semi-posted state are cleared, data becomes corrupted.</span></span> <span data-ttu-id="7833b-126">Solo debe establecer esta opción en **Sí** en circunstancias excepcionales.</span><span class="sxs-lookup"><span data-stu-id="7833b-126">You should set this option to **Yes** only in exceptional circumstances.</span></span>
- <span data-ttu-id="7833b-127">**Reservar inventario durante el cálculo**: se recomienda usar el trabajo por lotes **Registrar inventario** para la reserva de inventario, y establecer esta opción en **No**.</span><span class="sxs-lookup"><span data-stu-id="7833b-127">**Reserve inventory during calculation** – We recommend that you use the **Post inventory** batch job for inventory reservation, and that you set this option to **No**.</span></span> <span data-ttu-id="7833b-128">Si esta opción se establece en **No**, la función mejorada del registro de extractos no intenta crear entradas de la reserva de inventario a la hora de calcular (si las entradas no se crearon a través del trabajo por lotes **Registrar inventario** ).</span><span class="sxs-lookup"><span data-stu-id="7833b-128">When this option is set to **No**, the improved statement posting feature doesn't try to create inventory reservation entries at the time of calculation (if entries weren't already created through the **Post inventory** batch job).</span></span> <span data-ttu-id="7833b-129">En lugar de ello, la función solo crea entradas de reserva de inventario en el momento del registro.</span><span class="sxs-lookup"><span data-stu-id="7833b-129">Instead, the feature creates inventory reservation entries only at the time of posting.</span></span> <span data-ttu-id="7833b-130">Esta implementación fue una elección de diseño basada en el hecho de que el intervalo de tiempo entre el proceso de cálculo y el proceso de registro suele ser pequeño.</span><span class="sxs-lookup"><span data-stu-id="7833b-130">This implementation was a design choice and was based on the fact that the time window between the calculation process and the posting process is typically small.</span></span> <span data-ttu-id="7833b-131">Sin embargo, si desea realizar la reserva de inventario en el momento del cálculo, puede establecer esta opción en **Sí**.</span><span class="sxs-lookup"><span data-stu-id="7833b-131">However, if you want to reserve inventory at the time of calculation, you can set this option to **Yes**.</span></span>

    <span data-ttu-id="7833b-132">La función heredada de registro de extractos siempre reserva el inventario durante el proceso de cálculo de extracto (si la reserva no se ha realizado ya con el trabajo por lotes **Registrar inventario** ), independientemente del valor de esta opción.</span><span class="sxs-lookup"><span data-stu-id="7833b-132">The legacy statement posting feature always reserves inventory during the statement calculation process (if reservation wasn't already done through the **Post inventory** batch job), regardless of the setting of this option.</span></span>

- <span data-ttu-id="7833b-133">**Deshabilitar recuento obligatorio**: si esta opción está establecida en **Sí**, el proceso de registro de un extracto continua, incluso si la diferencia entre el importe contado y el importe de transacción en el extracto está fuera del umbral definido en la ficha desplegable **Extracto** para tiendas.</span><span class="sxs-lookup"><span data-stu-id="7833b-133">**Disable counting required** – When this option is set to **Yes**, the posting process for a statement continues, even if the difference between the counted amount and the transaction amount on the statement is outside the threshold that is defined on the **Statement** FastTab for Retail stores.</span></span>

<span data-ttu-id="7833b-134">Además, los siguientes parámetros se introducen en la ficha desplegable **Procesamiento por lotes** en la pestaña **Registro** de la página **Parámetros de ventas** :</span><span class="sxs-lookup"><span data-stu-id="7833b-134">Additionally, the following parameters have been introduced on the **Batch processing** FastTab on the **Posting** tab of the **Retail parameters** page:</span></span> 

- <span data-ttu-id="7833b-135">**Número máximo de envío de extractos paralelos** - Este campo define el número de tareas por lotes que se utilizan para enviar varios extractos.</span><span class="sxs-lookup"><span data-stu-id="7833b-135">**Maximum number of parallel statement posting** – This field defines the number of batch tasks that will be used to post multiple statements.</span></span> 
- <span data-ttu-id="7833b-136">**Subprocesos máximos para el procesamiento del pedido por extracto** - Este campo representa el número máximo de subprocesos usados por el trabajo por lotes del registro de extractos para crear y facturar los pedidos de ventas para un único extracto.</span><span class="sxs-lookup"><span data-stu-id="7833b-136">**Max thread for order processing per statement** – This field represents the maximum number of threads used by the statement posting batch job to create and invoice sales orders for a single statement.</span></span> <span data-ttu-id="7833b-137">El número total de subprocesos que se utilizan en el proceso de registro del extracto se calculará en función del valor de este parámetro multiplicado por el valor del parámetro **Número máximo de registros paralelos del extracto** .</span><span class="sxs-lookup"><span data-stu-id="7833b-137">The total number of threads that will be used by the statement posting process will be computed based on the value in this parameter multiplied by the value in the **Maximum number of parallel statement posting** parameter.</span></span> <span data-ttu-id="7833b-138">Establecer el valor del parámetro demasiado alto puede tener un impacto negativo en el rendimiento del proceso de registro del extracto.</span><span class="sxs-lookup"><span data-stu-id="7833b-138">Setting the value of this parameter too high can negatively impact the performance of the statement posting process.</span></span>
- <span data-ttu-id="7833b-139">**Líneas de transacción máximas incluidas en la agregación** - Este campo define el número de líneas de transacción que se incluyen en una única transacción agregada antes de que se cree uno nueva.</span><span class="sxs-lookup"><span data-stu-id="7833b-139">**Max transaction lines included in aggregation** – This field defines the number of transaction lines that will be included in a single aggregated transaction before a new one is created.</span></span> <span data-ttu-id="7833b-140">Las transacciones agregadas se crean en función de diversos criterios de agregación como cliente, fecha de negocio o dimensiones financieras.</span><span class="sxs-lookup"><span data-stu-id="7833b-140">Aggregated transactions are created based on different aggregation criteria such as customer, business date, or financial dimensions.</span></span> <span data-ttu-id="7833b-141">Es importante tener en cuenta que las líneas de una sola transacción al por menor no se dividirán entre diversas transacciones agregadas.</span><span class="sxs-lookup"><span data-stu-id="7833b-141">It is important to note that the lines from a single retail transaction will not be split across different aggregated transactions.</span></span> <span data-ttu-id="7833b-142">Esto significa que hay la posibilidad de que el número de líneas en una transacción agregada sean ligeramente mayores o menores basadas en factores como número de productos únicos.</span><span class="sxs-lookup"><span data-stu-id="7833b-142">This means that there is a possibility that the number of lines in a aggregated transaction is slightly higher or lower based on factors such as number of distinct products.</span></span>
- <span data-ttu-id="7833b-143">**Número máximo de subprocesos para validar transacciones de la tienda** - Este campo define el número de subprocesos que se utilizan para validar transacciones comerciales.</span><span class="sxs-lookup"><span data-stu-id="7833b-143">**Maximum number of threads to validate store transactions** – This field defines the number of threads that will be used to validate retail transactions.</span></span> <span data-ttu-id="7833b-144">Validar transacciones comerciales es un paso necesario que debe aparecer antes de que las transacciones se pueden añadir a los extractos.</span><span class="sxs-lookup"><span data-stu-id="7833b-144">Validating retail transactions is a required step that needs to occur before the transactions can be pulled into the statements.</span></span> <span data-ttu-id="7833b-145">También es necesario definir un **Producto de tarjeta regalo** en la ficha desplegable **Tarjeta regalo** de la pestaña **Registrar** de la página **Parámetros comerciales**.</span><span class="sxs-lookup"><span data-stu-id="7833b-145">You also need to define a **Gift card product** on the **Gift card** FastTab on the **Posting** tab of the **Retail parameters** page.</span></span> <span data-ttu-id="7833b-146">Esto necesita definirse incluso si la organización no utiliza tarjetas regalo.</span><span class="sxs-lookup"><span data-stu-id="7833b-146">This needs to defined even if gift cards are not used by the organization.</span></span>

> [!NOTE]
> <span data-ttu-id="7833b-147">Todos los valores y parámetros asociados a los registros de extracto y que se definen en las tiendas y en la página **Parámetros comerciales**, son aplicables a la función mejorada del registro de extractos.</span><span class="sxs-lookup"><span data-stu-id="7833b-147">All settings and parameters that are related to statement postings, and that are defined on Retail stores and on the **Retail parameters** page, are applicable to the improved statement posting feature.</span></span>

## <a name="processing"></a><span data-ttu-id="7833b-148">En procesamiento</span><span class="sxs-lookup"><span data-stu-id="7833b-148">Processing</span></span>

<span data-ttu-id="7833b-149">Los extractos se pueden calcular y registrar por lotes mediante los elementos de menú **Calcular extractos por lotes** y **Registrar extractos por lotes**.</span><span class="sxs-lookup"><span data-stu-id="7833b-149">Statements can be calculated and posted in batch using the menu items **Calculate statements in batch** and **Post statements in batch**.</span></span> <span data-ttu-id="7833b-150">Como alternativa, se pueden calcular y registrar manualmente mediante el elemento de menú **Extractos comerciales** que proporciona la función mejorada de registro de extractos.</span><span class="sxs-lookup"><span data-stu-id="7833b-150">Alternatively, statements can be manually calculated and posted by using the **Retail statements** menu item that the improved statement posting feature provides.</span></span>

<span data-ttu-id="7833b-151">El proceso y los pasos para calcular y registrar extractos por lotes son iguales que en la antigua función de registro de extractos.</span><span class="sxs-lookup"><span data-stu-id="7833b-151">The process and steps for calculating and posting statements in a batch are the same as they were in the legacy statement posting feature.</span></span> <span data-ttu-id="7833b-152">Sin embargo, se han realizado mejoras significativas en el procesamiento básico en el back-end de los extractos.</span><span class="sxs-lookup"><span data-stu-id="7833b-152">However, significant improvements have been made in the core back-end processing of the statements.</span></span> <span data-ttu-id="7833b-153">Estas mejoras hacen que el proceso sea más flexible, y ofrece mayor visibilidad de los estados y la información de errores.</span><span class="sxs-lookup"><span data-stu-id="7833b-153">These improvements make the process more resilient, and provide for better visibility into the states and error information.</span></span> <span data-ttu-id="7833b-154">Esto permite a los usuarios localizar la causa original de los errores y continuar con el proceso de registro sin provocar daños en los datos y sin requerir correcciones de datos.</span><span class="sxs-lookup"><span data-stu-id="7833b-154">Therefore, users can address the root cause of errors and then continue the posting process without causing data corruption and without causing data fixes to be required.</span></span>

<span data-ttu-id="7833b-155">En las secciones siguientes se describen algunas de las mejoras importantes de la función de registro de extractos que aparecen en la interfaz de usuario para extractos comerciales y extractos registrados.</span><span class="sxs-lookup"><span data-stu-id="7833b-155">The following sections describe some of the major improvements for the statement posting feature that appear in the user interface for retail statements and posted statements.</span></span>

### <a name="status-details"></a><span data-ttu-id="7833b-156">Detalles de estado</span><span class="sxs-lookup"><span data-stu-id="7833b-156">Status details</span></span>

<span data-ttu-id="7833b-157">Se ha incluido un nuevo modelo de estado en la rutina de registro de extractos para los procesos de cálculo y registro.</span><span class="sxs-lookup"><span data-stu-id="7833b-157">A new state model has been introduced in the statement posting routine across the calculation and posting processes.</span></span>

<span data-ttu-id="7833b-158">En la siguiente tabla se describen los distintos estados y su orden durante el proceso de cálculo.</span><span class="sxs-lookup"><span data-stu-id="7833b-158">The following table describes the various states and their order during the calculation process.</span></span>

| <span data-ttu-id="7833b-159">Orden de estados</span><span class="sxs-lookup"><span data-stu-id="7833b-159">State order</span></span> | <span data-ttu-id="7833b-160">Comunidad autónoma</span><span class="sxs-lookup"><span data-stu-id="7833b-160">State</span></span>      | <span data-ttu-id="7833b-161">Descripción</span><span class="sxs-lookup"><span data-stu-id="7833b-161">Description</span></span> |
|-------------|------------|-------------|
| <span data-ttu-id="7833b-162">1</span><span class="sxs-lookup"><span data-stu-id="7833b-162">1</span></span>           | <span data-ttu-id="7833b-163">Iniciado</span><span class="sxs-lookup"><span data-stu-id="7833b-163">Started</span></span>    | <span data-ttu-id="7833b-164">El extracto se ha creado y está listo para ser calculado.</span><span class="sxs-lookup"><span data-stu-id="7833b-164">The statement was created and is ready to be calculated.</span></span> |
| <span data-ttu-id="7833b-165">2</span><span class="sxs-lookup"><span data-stu-id="7833b-165">2</span></span>           | <span data-ttu-id="7833b-166">Marcado</span><span class="sxs-lookup"><span data-stu-id="7833b-166">Marked</span></span>     | <span data-ttu-id="7833b-167">Se identifican las transacciones que se encuentran en el ámbito del extracto a partir de los parámetros del extracto y se marcan con el identificador del extracto.</span><span class="sxs-lookup"><span data-stu-id="7833b-167">The transactions that are in scope for the statement are identified based on the statement parameters, and they are marked with the statement ID.</span></span> |
| <span data-ttu-id="7833b-168">3</span><span class="sxs-lookup"><span data-stu-id="7833b-168">3</span></span>           | <span data-ttu-id="7833b-169">Calculado</span><span class="sxs-lookup"><span data-stu-id="7833b-169">Calculated</span></span> | <span data-ttu-id="7833b-170">Las líneas del extracto se han calculado y se han mostrado.</span><span class="sxs-lookup"><span data-stu-id="7833b-170">The statement lines are computed and shown.</span></span> |

<span data-ttu-id="7833b-171">En la siguiente tabla se describen los distintos estados y su orden durante el proceso de registro.</span><span class="sxs-lookup"><span data-stu-id="7833b-171">The following table describes the various states and their order during the posting process.</span></span>

| <span data-ttu-id="7833b-172">Orden de estados</span><span class="sxs-lookup"><span data-stu-id="7833b-172">State order</span></span> | <span data-ttu-id="7833b-173">Estado</span><span class="sxs-lookup"><span data-stu-id="7833b-173">State</span></span>                   | <span data-ttu-id="7833b-174">Descripción</span><span class="sxs-lookup"><span data-stu-id="7833b-174">Description</span></span> |
|-------------|-------------------------|-------------|
| <span data-ttu-id="7833b-175">1</span><span class="sxs-lookup"><span data-stu-id="7833b-175">1</span></span>           | <span data-ttu-id="7833b-176">Comprobado</span><span class="sxs-lookup"><span data-stu-id="7833b-176">Checked</span></span>                 | <span data-ttu-id="7833b-177">Se han realizado varias validaciones relacionadas con los parámetros (por ejemplo, el gasto de disposición), y en el extracto y las líneas de extracto (por ejemplo, la diferencia entre el importe contado y el importe de transacción).</span><span class="sxs-lookup"><span data-stu-id="7833b-177">Multiple validations are done that are related to parameters (for example, the disposition charge), and to the statement and statement lines (for example, the difference between the counted amount and the transaction amount).</span></span> |
| <span data-ttu-id="7833b-178">2</span><span class="sxs-lookup"><span data-stu-id="7833b-178">2</span></span>           | <span data-ttu-id="7833b-179">Agregado</span><span class="sxs-lookup"><span data-stu-id="7833b-179">Aggregated</span></span>              | <span data-ttu-id="7833b-180">Las transacciones de ventas para clientes con nombre y sin nombre se han agregado según la configuración.</span><span class="sxs-lookup"><span data-stu-id="7833b-180">Sales transactions for named and unnamed customers are aggregated based on the configuration.</span></span> <span data-ttu-id="7833b-181">Cada transacción agregada acaba por convertirse en un pedido de ventas.</span><span class="sxs-lookup"><span data-stu-id="7833b-181">Every aggregated transaction is eventually converted to a sales order.</span></span> |
| <span data-ttu-id="7833b-182">3</span><span class="sxs-lookup"><span data-stu-id="7833b-182">3</span></span>           | <span data-ttu-id="7833b-183">Pedido de cliente creado</span><span class="sxs-lookup"><span data-stu-id="7833b-183">Customer order created</span></span>  | <span data-ttu-id="7833b-184">Se han creado pedidos de ventas en el sistema a partir de la transacción agregada.</span><span class="sxs-lookup"><span data-stu-id="7833b-184">Based on the aggregated transaction, sales orders are created in the system.</span></span> |
| <span data-ttu-id="7833b-185">4</span><span class="sxs-lookup"><span data-stu-id="7833b-185">4</span></span>           | <span data-ttu-id="7833b-186">Pedido de cliente facturado</span><span class="sxs-lookup"><span data-stu-id="7833b-186">Customer order invoiced</span></span> | <span data-ttu-id="7833b-187">Los pedidos de ventas se han facturado.</span><span class="sxs-lookup"><span data-stu-id="7833b-187">Sales orders are invoiced.</span></span> |
| <span data-ttu-id="7833b-188">5</span><span class="sxs-lookup"><span data-stu-id="7833b-188">5</span></span>           | <span data-ttu-id="7833b-189">Descuentos registrados</span><span class="sxs-lookup"><span data-stu-id="7833b-189">Discounts posted</span></span>        | <span data-ttu-id="7833b-190">Se han registrado los diarios de descuento periódico según la configuración.</span><span class="sxs-lookup"><span data-stu-id="7833b-190">Periodic discount journals are posted based on the configuration.</span></span> |
| <span data-ttu-id="7833b-191">6</span><span class="sxs-lookup"><span data-stu-id="7833b-191">6</span></span>           | <span data-ttu-id="7833b-192">Ingresos/gastos registrados</span><span class="sxs-lookup"><span data-stu-id="7833b-192">Income/expense posted</span></span>   | <span data-ttu-id="7833b-193">Se han registrado las transacciones de ingresos/gastos como asientos.</span><span class="sxs-lookup"><span data-stu-id="7833b-193">Income/expense transactions are posted as vouchers.</span></span> |
| <span data-ttu-id="7833b-194">7</span><span class="sxs-lookup"><span data-stu-id="7833b-194">7</span></span>           | <span data-ttu-id="7833b-195">Asientos vinculados</span><span class="sxs-lookup"><span data-stu-id="7833b-195">Vouchers linked</span></span>         | <span data-ttu-id="7833b-196">Se han creado los diarios de pagos y se han vinculado a la factura correspondiente.</span><span class="sxs-lookup"><span data-stu-id="7833b-196">Payment journals are created and linked to the corresponding invoice.</span></span> |
| <span data-ttu-id="7833b-197">8</span><span class="sxs-lookup"><span data-stu-id="7833b-197">8</span></span>           | <span data-ttu-id="7833b-198">Pagos registrados</span><span class="sxs-lookup"><span data-stu-id="7833b-198">Payments posted</span></span>         | <span data-ttu-id="7833b-199">Se han registrado los diarios de pago.</span><span class="sxs-lookup"><span data-stu-id="7833b-199">Payment journals are posted.</span></span> |
| <span data-ttu-id="7833b-200">9</span><span class="sxs-lookup"><span data-stu-id="7833b-200">9</span></span>           | <span data-ttu-id="7833b-201">Tarjetas regalo registradas</span><span class="sxs-lookup"><span data-stu-id="7833b-201">Gift cards posted</span></span>       | <span data-ttu-id="7833b-202">Se han registrado las transacciones de tarjetas regalo como asientos.</span><span class="sxs-lookup"><span data-stu-id="7833b-202">Gift card transactions are posted as vouchers.</span></span> |
| <span data-ttu-id="7833b-203">10</span><span class="sxs-lookup"><span data-stu-id="7833b-203">10</span></span>          | <span data-ttu-id="7833b-204">Registrada</span><span class="sxs-lookup"><span data-stu-id="7833b-204">Posted</span></span>                  | <span data-ttu-id="7833b-205">El extracto se ha marcado como registrado.</span><span class="sxs-lookup"><span data-stu-id="7833b-205">The statement is marked as posted.</span></span> |

<span data-ttu-id="7833b-206">Cada estado de las tablas anterior es independiente por naturaleza, y se crea una dependencia jerárquica entre los estados.</span><span class="sxs-lookup"><span data-stu-id="7833b-206">Every state in the preceding tables is independent in nature, and a hierarchical dependency is built between the states.</span></span> <span data-ttu-id="7833b-207">Esta dependencia fluye de arriba a abajo.</span><span class="sxs-lookup"><span data-stu-id="7833b-207">This dependency flows from top to bottom.</span></span> <span data-ttu-id="7833b-208">Si el sistema detecta errores mientras procesa un estado, el estado del extracto se revierte al estado anterior.</span><span class="sxs-lookup"><span data-stu-id="7833b-208">If the system encounters any errors while it's processing a state, the status of the statement is reverted to the previous state.</span></span> <span data-ttu-id="7833b-209">Cualquier reintento posterior del proceso se reanuda desde el estado en el que se produjo el error.</span><span class="sxs-lookup"><span data-stu-id="7833b-209">Any subsequent reattempt of the process resumes from the state that failed and continues to move forward.</span></span> <span data-ttu-id="7833b-210">Este enfoque tiene las siguientes ventajas:</span><span class="sxs-lookup"><span data-stu-id="7833b-210">This approach has the following benefits:</span></span>

- <span data-ttu-id="7833b-211">El usuario tiene plena visibilidad del estado en el que se produjo el error.</span><span class="sxs-lookup"><span data-stu-id="7833b-211">The user has complete visibility into the state where the error occurred.</span></span>
- <span data-ttu-id="7833b-212">Se evita que los datos resulten dañados.</span><span class="sxs-lookup"><span data-stu-id="7833b-212">Data corruption is avoided.</span></span> <span data-ttu-id="7833b-213">Por ejemplo, en la función antigua de registro de extractos había casos en los que se facturaban algunos pedidos de ventas y otros se dejaban abiertos.</span><span class="sxs-lookup"><span data-stu-id="7833b-213">For example, in the legacy statement posting feature, there were instances where some sales orders were invoiced but others were left open.</span></span> <span data-ttu-id="7833b-214">También había casos en los que algunos diarios de pago no tenían una factura correspondiente que liquidar a causa de un error en el registro de la factura.</span><span class="sxs-lookup"><span data-stu-id="7833b-214">There were also instances where some payment journals didn't have a corresponding invoice to settle, because the invoice posting had an error.</span></span>
- <span data-ttu-id="7833b-215">Los usuarios pueden ver el estado actual de un extracto mediante el botón **Detalles de estado** en el grupo **Detalles de ejecución** del extracto.</span><span class="sxs-lookup"><span data-stu-id="7833b-215">Users can see the current state of a statement by using the **Status details** button in the **Execution details** group of the statement.</span></span> <span data-ttu-id="7833b-216">La página de detalles de estado tiene tres secciones:</span><span class="sxs-lookup"><span data-stu-id="7833b-216">The status details page has three sections:</span></span>

    - <span data-ttu-id="7833b-217">En la primera sección se muestra el estado actual del extracto, junto con el código de error y un mensaje de error detallado, en caso de error.</span><span class="sxs-lookup"><span data-stu-id="7833b-217">The first section shows the current status of the statement, together with the error code and a detailed error message, if an error occurred.</span></span>
    - <span data-ttu-id="7833b-218">En la segunda sección se muestran los distintos estados del proceso de cálculo.</span><span class="sxs-lookup"><span data-stu-id="7833b-218">The second section shows the various states of the calculation process.</span></span> <span data-ttu-id="7833b-219">Las pistas visuales indican los estados que se han ejecutado correctamente, los estados que no se han podido ejecutar a causa de errores y los estados que aún no se han ejecutado.</span><span class="sxs-lookup"><span data-stu-id="7833b-219">Visual cues indicate states that have been successfully run, states that could not be run because of errors, and states that haven't yet been run.</span></span>
    - <span data-ttu-id="7833b-220">En la tercera sección se muestran los distintos estados del proceso de registro.</span><span class="sxs-lookup"><span data-stu-id="7833b-220">The third section shows the various states of the posting process.</span></span> <span data-ttu-id="7833b-221">Las pistas visuales indican los estados que se han ejecutado correctamente, los estados que no se han podido ejecutar a causa de errores y los estados que aún no se han ejecutado.</span><span class="sxs-lookup"><span data-stu-id="7833b-221">Visual cues indicate states that have been successfully run, states that could not be run because of errors, and states that haven't yet been run.</span></span>

<span data-ttu-id="7833b-222">Además, el encabezado de las secciones segunda y tercera muestra el estado general del proceso relevante.</span><span class="sxs-lookup"><span data-stu-id="7833b-222">Additionally, the header of the second and third sections shows the overall status of the relevant process.</span></span>

### <a name="event-logs"></a><span data-ttu-id="7833b-223">Registros de evento</span><span class="sxs-lookup"><span data-stu-id="7833b-223">Event logs</span></span>

<span data-ttu-id="7833b-224">Un extracto pasa por distintas operaciones (por ejemplo, Crear, Calcular, Desactivar y Registrar), y se puede llamar a varias instancias de la misma operación durante el ciclo de vida del extracto.</span><span class="sxs-lookup"><span data-stu-id="7833b-224">A statement goes through various operations (for example, Create, Calculate, Clear, and Post), and multiple instances of the same operation might be called during the statement's lifecycle.</span></span> <span data-ttu-id="7833b-225">Por ejemplo, después de crear y calcular un extracto, un usuario puede borrarlo y calcularlo de nuevo.</span><span class="sxs-lookup"><span data-stu-id="7833b-225">For example, after a statement is created and calculated, a user can clear the statement and calculate it again.</span></span> <span data-ttu-id="7833b-226">El botón **Registros de eventos** en el grupo **Detalles de ejecución** del extracto proporciona una traza de auditoría completa de las distintas operaciones aplicadas a un extracto, así como información acerca de cuándo se llamó a estas operaciones.</span><span class="sxs-lookup"><span data-stu-id="7833b-226">The **Event logs** button in the **Execution details** group of the statement provides a complete audit trail of the various operations that were called on a statement, together with information about when those operations were called.</span></span>

### <a name="aggregated-transactions"></a><span data-ttu-id="7833b-227">Transacciones agregadas</span><span class="sxs-lookup"><span data-stu-id="7833b-227">Aggregated transactions</span></span>

<span data-ttu-id="7833b-228">Durante el proceso de registro se agregan las transacciones de ventas según la configuración.</span><span class="sxs-lookup"><span data-stu-id="7833b-228">During the posting process, the sales transactions are aggregated based on the configuration.</span></span> <span data-ttu-id="7833b-229">Estas transacciones agregadas se almacenan en el sistema y se usan para crear pedidos de ventas.</span><span class="sxs-lookup"><span data-stu-id="7833b-229">These aggregated transactions are stored in the system and used to create sales orders.</span></span> <span data-ttu-id="7833b-230">Cada transacción agregada crea un pedido de ventas correspondiente en el sistema.</span><span class="sxs-lookup"><span data-stu-id="7833b-230">Every aggregated transaction creates one corresponding sales order in the system.</span></span> <span data-ttu-id="7833b-231">Puede ver las transacciones agregadas utilizando el botón **Transacciones agregadas** en el grupo **Detalles de ejecución** del extracto.</span><span class="sxs-lookup"><span data-stu-id="7833b-231">You can view the aggregated transactions by using the **Aggregated transactions** button in the **Execution details** group of the statement.</span></span>

<span data-ttu-id="7833b-232">La ficha **Detalles del pedido de ventas** de una transacción agregada muestra la siguiente información:</span><span class="sxs-lookup"><span data-stu-id="7833b-232">The **Sales order detail** tab of an aggregated transaction shows the following information:</span></span>

- <span data-ttu-id="7833b-233">**Identificador de registro**: el identificador de la transacción agregada.</span><span class="sxs-lookup"><span data-stu-id="7833b-233">**Record ID** – The ID of the aggregated transaction.</span></span>
- <span data-ttu-id="7833b-234">**Número de extracto**: el extracto al que pertenece la transacción agregada.</span><span class="sxs-lookup"><span data-stu-id="7833b-234">**Statement number** – The statement that the aggregated transaction belongs to.</span></span>
- <span data-ttu-id="7833b-235">**Fecha**: la fecha en la que se creó la transacción agregada.</span><span class="sxs-lookup"><span data-stu-id="7833b-235">**Date** – The date when the aggregated transaction was created.</span></span>
- <span data-ttu-id="7833b-236">**Id. de ventas**: el identificador del pedido de ventas asignado cuando se crea un pedido de ventas a partir de la transacción agregada.</span><span class="sxs-lookup"><span data-stu-id="7833b-236">**Sales ID** – When a sales order is created from the aggregated transaction, the sales order ID.</span></span> <span data-ttu-id="7833b-237">Si este campo está en blanco, el pedido de ventas correspondiente no se ha creado.</span><span class="sxs-lookup"><span data-stu-id="7833b-237">If this field is blank, the corresponding sales order hasn't been created.</span></span>
- <span data-ttu-id="7833b-238">**Número de líneas agregadas**: el número total de líneas para la transacción agregada y el pedido de ventas.</span><span class="sxs-lookup"><span data-stu-id="7833b-238">**Number of aggregated lines** – The total number of lines for the aggregated transaction and sales order.</span></span>
- <span data-ttu-id="7833b-239">**Estado**: el último estado de la transacción agregada.</span><span class="sxs-lookup"><span data-stu-id="7833b-239">**Status** – The last status of the aggregated transaction.</span></span>
- <span data-ttu-id="7833b-240">**Id. de factura**: el identificador del pedido de ventas asignado cuando se factura el pedido de ventas de la transacción agregada.</span><span class="sxs-lookup"><span data-stu-id="7833b-240">**Invoice ID** – When the sales order for the aggregated transaction is invoiced, the sales invoice ID.</span></span> <span data-ttu-id="7833b-241">Si este campo está en blanco, la factura del pedido de ventas no se ha registrado.</span><span class="sxs-lookup"><span data-stu-id="7833b-241">If this field is blank, the invoice for the sales order hasn't been posted.</span></span>

<span data-ttu-id="7833b-242">La ficha **Detalles de transacción** de una transacción agregada muestra todas las transacciones comerciales que se han insertado en la transacción agregada.</span><span class="sxs-lookup"><span data-stu-id="7833b-242">The **Transaction details** tab of an aggregated transaction shows all the retail transactions that have been pulled into the aggregated transaction.</span></span> <span data-ttu-id="7833b-243">Las líneas agregadas en la transacción agregada muestran todos los registros agregados de las transacciones comerciales.</span><span class="sxs-lookup"><span data-stu-id="7833b-243">The aggregated lines on the aggregated transaction show all the aggregated records from the retail transactions.</span></span> <span data-ttu-id="7833b-244">Las líneas agregadas también muestra detalles como el artículo, la variante, cantidad, precio, el importe neto, la unidad, y el almacén.</span><span class="sxs-lookup"><span data-stu-id="7833b-244">The aggregated lines also show details such as the item, variant, quantity, price, net amount, unit, and warehouse.</span></span> <span data-ttu-id="7833b-245">Básicamente, cada línea agregada corresponde a una línea de pedido de ventas.</span><span class="sxs-lookup"><span data-stu-id="7833b-245">Basically, each aggregated line corresponds to one sales order line.</span></span>

<span data-ttu-id="7833b-246">En la página **Transacciones agregadas**, puede descargar los datos XML de una transacción agregada específica mediante el botón **Exportar XML del pedido de ventas** .</span><span class="sxs-lookup"><span data-stu-id="7833b-246">From the **Aggregated transactions** page, you can download the XML for a specific aggregated transaction by using the **Export sales order XML** button.</span></span> <span data-ttu-id="7833b-247">Puede usar XML para depurar problemas que implican la creación y el registro de pedidos de ventas.</span><span class="sxs-lookup"><span data-stu-id="7833b-247">You can use the XML to debug issues that involve sales order creation and posting.</span></span> <span data-ttu-id="7833b-248">Solo tiene que descargar los datos XML, cárgarlos en un entorno de pruebas y depurar el problema en el entorno de pruebas.</span><span class="sxs-lookup"><span data-stu-id="7833b-248">Just download the XML, upload it to a test environment, and debug the issue in the test environment.</span></span> <span data-ttu-id="7833b-249">La funcionalidad de descarga de datos XML para transacciones agregadas no está disponible para los extractos registrados.</span><span class="sxs-lookup"><span data-stu-id="7833b-249">The functionality for downloading the XML for aggregated transactions isn't available for statements that have been posted.</span></span>

<span data-ttu-id="7833b-250">La vista de transacciones agregadas proporciona las siguientes ventajas:</span><span class="sxs-lookup"><span data-stu-id="7833b-250">The aggregated transaction view provides the following benefits:</span></span>

- <span data-ttu-id="7833b-251">El usuario tiene visibilidad de las transacciones agregadas con error durante la creación del pedido de ventas y pedidos de ventas con error durante la facturación.</span><span class="sxs-lookup"><span data-stu-id="7833b-251">The user has visibility into the aggregated transactions that failed during sales order creation and the sales orders that failed during invoicing.</span></span>
- <span data-ttu-id="7833b-252">El usuario tiene visibilidad de cómo se agregan las transacciones.</span><span class="sxs-lookup"><span data-stu-id="7833b-252">The user has visibility into how transactions are aggregated.</span></span>
- <span data-ttu-id="7833b-253">El usuario tiene una traza de auditoría completa, desde las transacciones comerciales hasta los pedidos de ventas y las facturas de ventas.</span><span class="sxs-lookup"><span data-stu-id="7833b-253">The user has a complete audit trail, from retail transactions, to sales orders, to sales invoices.</span></span> <span data-ttu-id="7833b-254">Esta traza de auditoría no estaba disponible en la antigua función de registro de extractos.</span><span class="sxs-lookup"><span data-stu-id="7833b-254">This audit trail wasn't available in the legacy statement posting feature.</span></span>
- <span data-ttu-id="7833b-255">El archivo de datos XML agregados facilita la identificación de problemas durante la creación y facturación de pedidos de ventas.</span><span class="sxs-lookup"><span data-stu-id="7833b-255">Aggregated XML file make it easier to identify issues during sales order creation and invoicing.</span></span>

### <a name="journal-vouchers"></a><span data-ttu-id="7833b-256">Asientos del diario</span><span class="sxs-lookup"><span data-stu-id="7833b-256">Journal vouchers</span></span>

<span data-ttu-id="7833b-257">El botón **Asientos del diario** del grupo **Detalles de ejecución** del extracto muestra las distintas transacciones de asiento que se crean para un extracto, y que están relacionadas con descuentos, cuentas de ingresos/gastos, tarjetas regalo, etc.</span><span class="sxs-lookup"><span data-stu-id="7833b-257">The **Journal vouchers** button in the **Execution details** group of the statement shows all the various voucher transactions that are created for a statement, and that are related to discounts, income/expense accounts, gift cards, and so on.</span></span>

<span data-ttu-id="7833b-258">Actualmente, el programa solo muestra estos datos para los extractos registrados.</span><span class="sxs-lookup"><span data-stu-id="7833b-258">Currently, the program shows this data only for posted statements.</span></span>

### <a name="payment-journals"></a><span data-ttu-id="7833b-259">Diarios de pagos</span><span class="sxs-lookup"><span data-stu-id="7833b-259">Payment journals</span></span>

<span data-ttu-id="7833b-260">El botón **Diarios de pagos** del grupo **Detalles de ejecución** del extracto muestra los distintos diarios de pagos creados para un extracto.</span><span class="sxs-lookup"><span data-stu-id="7833b-260">The **Payment journals** button in the **Execution details** group of the statement shows all the various payment journals that are created for a statement.</span></span>

<span data-ttu-id="7833b-261">Actualmente, el programa solo muestra estos datos para los extractos registrados.</span><span class="sxs-lookup"><span data-stu-id="7833b-261">Currently, the program shows this data only for posted statements.</span></span>

## <a name="other-improvements"></a><span data-ttu-id="7833b-262">Otras mejoras</span><span class="sxs-lookup"><span data-stu-id="7833b-262">Other improvements</span></span>

<span data-ttu-id="7833b-263">Se han realizado otras mejoras de backend en la función de registro de extractos que son visibles para el usuario.</span><span class="sxs-lookup"><span data-stu-id="7833b-263">Other, back-end improvements that users can see have been made to the statement posting feature.</span></span> <span data-ttu-id="7833b-264">A continuación se incluyen algunos ejemplos:</span><span class="sxs-lookup"><span data-stu-id="7833b-264">Here are some examples:</span></span>

- <span data-ttu-id="7833b-265">La agregación no tiene en cuenta las entidades de personal, terminal o turno.</span><span class="sxs-lookup"><span data-stu-id="7833b-265">The aggregation doesn't consider the staff, terminal, and shift entities.</span></span> <span data-ttu-id="7833b-266">Como hay menos parámetros de agregación, también hay que procesar menos líneas de pedido de ventas.</span><span class="sxs-lookup"><span data-stu-id="7833b-266">Because there are fewer aggregation parameters, fewer sales order lines must be processed.</span></span>
- <span data-ttu-id="7833b-267">Los bloqueos en las tablas de transacciones comerciales se reducen introduciendo tablas de extensión adicionales y realizando operaciones de inserción en lugar de operaciones de actualización en las tablas de transacciones comerciales.</span><span class="sxs-lookup"><span data-stu-id="7833b-267">The occurrence of deadlock on retail transaction tables is reduced by introducing additional extension tables and by doing insert operations instead of update operations on the retail transaction tables.</span></span>
- <span data-ttu-id="7833b-268">El número de tareas por lotes en ejecución se ha parametrizado y restringindo.</span><span class="sxs-lookup"><span data-stu-id="7833b-268">The number of running batch tasks has been parameterized and limited.</span></span> <span data-ttu-id="7833b-269">Por lo tanto, este número se puede adaptar específicamente al entorno de un cliente.</span><span class="sxs-lookup"><span data-stu-id="7833b-269">Therefore, this number can be fine-tuned specifically to a customer's environment.</span></span> <span data-ttu-id="7833b-270">En la antigua función del registro de extractos se creaba simultáneamente un número ilimitado de tareas por lotes.</span><span class="sxs-lookup"><span data-stu-id="7833b-270">In the legacy statement posting feature, an unlimited number of batch tasks was created at the same time.</span></span> <span data-ttu-id="7833b-271">Los resultados eran cargas imposibles de gestionar, sobrecarga y cuellos de botella en el servidor de proceso por lotes.</span><span class="sxs-lookup"><span data-stu-id="7833b-271">The results were unmanageable loads, overhead, and bottlenecks on the batch server.</span></span>
- <span data-ttu-id="7833b-272">Los extractos se ponen en cola de forma eficaz mediante la priorización de los extractos que tienen el mayor número de transacciones.</span><span class="sxs-lookup"><span data-stu-id="7833b-272">Statements are efficiently queued for processing by prioritizing the statements that have the maximum number of transactions.</span></span>
- <span data-ttu-id="7833b-273">Los procesos por lotes como **Calcular extractos por lotes** y **Registrar extractos por lotes** se ejecutan sólo en modo de lotes.</span><span class="sxs-lookup"><span data-stu-id="7833b-273">Batch processes such as **Calculate statements in batch** and **Post statements in batch** are run only in batch mode.</span></span> <span data-ttu-id="7833b-274">En la antigua función de registro de extractos, los usuarios podían elegir trabajar con estos procesos por lotes en un modo interactivo, que es una operación de un solo subproceso, a diferencia de los proceso por lotes, que son operaciones de múltiples subprocesos.</span><span class="sxs-lookup"><span data-stu-id="7833b-274">In the legacy statement posting feature, users could choose to run these batch processes in an interactive mode which is s single threaded operation unlike batch processes which are multi-threaded.</span></span>
- <span data-ttu-id="7833b-275">En la antigua función de registro de extractos, cualquier error de una tarea por lotes ponía a todo el trabajo por lotes en estado de error.</span><span class="sxs-lookup"><span data-stu-id="7833b-275">In the legacy statement posting feature, any failure of a batch task put the whole batch job in an error state.</span></span> <span data-ttu-id="7833b-276">En la función mejorada, los errores de una tarea por lotes no ponen al trabajo por lotes en estado de error si las demás tareas por lotes se completaron correctamente.</span><span class="sxs-lookup"><span data-stu-id="7833b-276">In the improved feature, batch task failures don't put the batch job in an error state if other batch tasks are successfully completed.</span></span> <span data-ttu-id="7833b-277">Debe evaluar el estado de registro de una ejecución por lotes en la página **Extractos comerciales**, donde puede ver los extractos que no se han registrado a causa de errores.</span><span class="sxs-lookup"><span data-stu-id="7833b-277">You should assess the posting status for a batch execution run by using the **Retail statements** page, where you can see any statements that weren't posted because of errors.</span></span>
- <span data-ttu-id="7833b-278">En la antigua función de registro de extractos, la primera aparición de un error de extracto provoca el error de todo el lote.</span><span class="sxs-lookup"><span data-stu-id="7833b-278">In the legacy statement posting feature, the first occurrence of a statement failure causes the whole batch to fail.</span></span> <span data-ttu-id="7833b-279">Los demás extractos no se procesan.</span><span class="sxs-lookup"><span data-stu-id="7833b-279">The remaining statements aren't processed.</span></span> <span data-ttu-id="7833b-280">En la función mejorada, el proceso por lotes sigue procesando todos extractos, incluso si se produce un error en alguno de ellos.</span><span class="sxs-lookup"><span data-stu-id="7833b-280">In the improved feature, the batch process continues to process all statements, even if some of the statements fail.</span></span> <span data-ttu-id="7833b-281">Una ventaja es que los usuarios obtienen visibilidad del número exacto de extractos con error.</span><span class="sxs-lookup"><span data-stu-id="7833b-281">One benefit is that users gain visibility into the exact number of statements that have errors.</span></span> <span data-ttu-id="7833b-282">Por lo tanto, los usuarios no tienen que verse atascados en un bucle continuo de corrección de errores y ejecución del proceso de registrar de extractos hasta que se hayan registrado todos los extractos.</span><span class="sxs-lookup"><span data-stu-id="7833b-282">Therefore, users don't have to be stuck in a continuous loop of fixing the errors and running the post statement process till all statements are posted.</span></span>

## <a name="general-guidance-about-the-statement-posting-process"></a><span data-ttu-id="7833b-283">Norma general sobre el proceso de registro de extractos</span><span class="sxs-lookup"><span data-stu-id="7833b-283">General guidance about the statement posting process</span></span>

- <span data-ttu-id="7833b-284">Es recomendable ejecutar el proceso de registro de extractos en un lote, ya que la ejecución por lotes se beneficia de la potencia del marco de procesamiento de lotes basada en su capacidad de usar múltiples subprocesos.</span><span class="sxs-lookup"><span data-stu-id="7833b-284">We recommend that you run the statement posting process in a batch, because batch runs take advantage of the power of the batch framework in terms of multithreading.</span></span> <span data-ttu-id="7833b-285">Es necesario utilizar múltiples subprocesos para gestionar los grandes volúmenes de transacciones típicos del registro de extractos.</span><span class="sxs-lookup"><span data-stu-id="7833b-285">Multithreading is required in order to handle the huge volumes of transactions that are normally seen in statement postings.</span></span>
- <span data-ttu-id="7833b-286">Es recomendable activar el inventario físico negativo en el grupo de modelos de artículos para poder disfrutar de una experiencia de registro sin problemas.</span><span class="sxs-lookup"><span data-stu-id="7833b-286">We recommend that you turn on negative physical inventory on the item model group, so that you have a seamless posting experience.</span></span> <span data-ttu-id="7833b-287">En algunos casos es posible que no se puedan registrar extractos negativos a menos que haya un inventario físico negativo.</span><span class="sxs-lookup"><span data-stu-id="7833b-287">In some scenarios, negative statements might not be able to be posted unless there is negative physical inventory.</span></span> <span data-ttu-id="7833b-288">Por ejemplo, en teoría, si sólo hay una unidad de un artículo en el inventario, y se ha realizado una transacción de ventas y una transacción de devolución para el artículo, debería ser posible registrar la transacción incluso si el inventario negativo no está activado.</span><span class="sxs-lookup"><span data-stu-id="7833b-288">For example, in theory, if there is only one unit of an item in inventory, and there have been a sales transaction and a return transaction for the item, the transaction should be able to be posted even if negative inventory isn't turned on.</span></span> <span data-ttu-id="7833b-289">Sin embargo, dado que el proceso de registro de extracto utiliza tanto la transacción de ventas como la transacción de devolución en un único pedido de cliente, no hay garantía de que la línea de ventas se registre primero, seguida de la línea de devolución.</span><span class="sxs-lookup"><span data-stu-id="7833b-289">However, because the statement posting process pulls both the sales transaction and the return transaction in a single customer order, there is no guarantee that the sales line will be posted first, followed by the return line.</span></span> <span data-ttu-id="7833b-290">Por lo tanto, pueden producirse errores.</span><span class="sxs-lookup"><span data-stu-id="7833b-290">Therefore, errors can occur.</span></span> <span data-ttu-id="7833b-291">Si se activa el inventario negativo en este escenario, el registro de transacción no se verá afectado negativamente, y el sistema reflejará correctamente el inventario.</span><span class="sxs-lookup"><span data-stu-id="7833b-291">If negative inventory is turned on in this scenario, the transaction posting isn't negatively affected, and the system will correctly reflect the inventory.</span></span>
- <span data-ttu-id="7833b-292">Es recomendable usar la agregación al calcular y registrar extractos.</span><span class="sxs-lookup"><span data-stu-id="7833b-292">We recommend that you use aggregation while you calculate and post statements.</span></span> <span data-ttu-id="7833b-293">Por lo tanto, se recomiendan los valores siguientes para algunos parámetros de agregación:</span><span class="sxs-lookup"><span data-stu-id="7833b-293">Therefore, the following settings are recommended for some of the aggregation parameters:</span></span>

    - <span data-ttu-id="7833b-294">Vaya a **Comercio** \> **Configuración de sede central** \> **Parámetros** \> **Parámetros comerciales**.</span><span class="sxs-lookup"><span data-stu-id="7833b-294">Go to **Retail** \> **Headquarters setup** \> **Parameters** \> **Retail parameters**.</span></span> <span data-ttu-id="7833b-295">A continuación, en la ficha **Registro** , en la ficha desplegable **Actualización de inventario**, en el campo **Nivel de detalle** , seleccione **Resumen**.</span><span class="sxs-lookup"><span data-stu-id="7833b-295">Then, on the **Posting** tab, on the **Inventory update** FastTab, in the **Detail level** field, select **Summary**.</span></span>
    - <span data-ttu-id="7833b-296">Vaya a **Comercio** \> **Configuración de sede central** \> **Parámetros** \> **Parámetros comerciales**.</span><span class="sxs-lookup"><span data-stu-id="7833b-296">Go to **Retail** \> **Headquarters setup** \> **Parameters** \> **Retail parameters**.</span></span> <span data-ttu-id="7833b-297">A continuación, en la ficha **Registro**, en la ficha desplegable **Agregación**, establezca la opción **Transacciones de asiento** en **Sí**.</span><span class="sxs-lookup"><span data-stu-id="7833b-297">Then, on the **Posting** tab, on the **Aggregation** FastTab, set the **Voucher transactions** option to **Yes**.</span></span>
