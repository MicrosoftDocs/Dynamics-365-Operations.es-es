---
title: Resultados de modelos de aprendizaje automático (versión preliminar)
description: Este tema analiza las matrices de confusión, los problemas de clasificación y la precisión en los modelos de aprendizaje automático (ML). El propósito es mejorar su conocimiento de la precisión en los resultados de la predicción de ML.
author: ShivamPandey-msft
ms.date: 06/03/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: roschlom
ms.custom: 14151
ms.assetid: 3d43ba40-780c-459a-a66f-9a01d556e674
ms.search.region: Global
ms.author: shpandey
ms.search.validFrom: 2020-07-14
ms.dyn365.ops.version: AX 10.0.12
ms.openlocfilehash: fe652c32df9417f0f716242a24a26eabd1a16f65
ms.sourcegitcommit: 74e47075eab2b0b28f82b0d57f439719847ecb01
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 06/07/2021
ms.locfileid: "6193549"
---
# <a name="results-of-machine-learning-models-preview"></a><span data-ttu-id="3e643-104">Resultados de modelos de aprendizaje automático (versión preliminar)</span><span class="sxs-lookup"><span data-stu-id="3e643-104">Results of machine learning models (preview)</span></span>

[!include [banner](../includes/banner.md)]
[!include [preview banner](../includes/preview-banner.md)]

<span data-ttu-id="3e643-105">Este tema analiza las matrices de confusión, los problemas de clasificación y la precisión en los modelos de aprendizaje automático (ML).</span><span class="sxs-lookup"><span data-stu-id="3e643-105">This topic discusses confusion matrices, classification problems, and accuracy in machine learning (ML) models.</span></span> <span data-ttu-id="3e643-106">El propósito es mejorar su conocimiento de la precisión en los resultados de la predicción de ML.</span><span class="sxs-lookup"><span data-stu-id="3e643-106">The purpose is to enhance your understanding of accuracy in ML prediction results.</span></span> <span data-ttu-id="3e643-107">El público objetivo incluye ingenieros, analistas y gerentes que desean desarrollar sus conocimientos y habilidades en ciencia de datos.</span><span class="sxs-lookup"><span data-stu-id="3e643-107">The target audience includes engineers, analysts, and managers who want to build their knowledge and skills in data science.</span></span>

## <a name="confusion-matrix"></a><span data-ttu-id="3e643-108">Matriz de confusión</span><span class="sxs-lookup"><span data-stu-id="3e643-108">Confusion matrix</span></span>
<span data-ttu-id="3e643-109">Una vez que se entrena un problema de ML supervisado en un conjunto de datos históricos, se prueba mediante el uso de datos que se retienen del proceso de entrenamiento.</span><span class="sxs-lookup"><span data-stu-id="3e643-109">After a supervised ML problem is trained on a set of historical data, it's tested by using data that is withheld from the training process.</span></span> <span data-ttu-id="3e643-110">De esta forma, puede comparar las predicciones del modelo entrenado con los valores reales.</span><span class="sxs-lookup"><span data-stu-id="3e643-110">In this way, you can compare the predictions from the trained model with the actual values.</span></span> <span data-ttu-id="3e643-111">La matriz de confusión proporciona un medio para evaluar el éxito de un problema de clasificación y dónde se cometen errores (es decir, dónde se vuelve "confuso").</span><span class="sxs-lookup"><span data-stu-id="3e643-111">The confusion matrix provides a means of evaluating how successful a classification problem is and where it makes mistakes (that is, where it becomes "confused").</span></span>

<span data-ttu-id="3e643-112">Por ejemplo, su objetivo es predecir si una mascota es un perro o un gato, basándose en algunos atributos físicos y de comportamiento.</span><span class="sxs-lookup"><span data-stu-id="3e643-112">For example, your objective is to predict whether a pet is a dog or a cat, based on some physical and behavioral attributes.</span></span> <span data-ttu-id="3e643-113">Si tiene un conjunto de datos de prueba que contiene 30 perros y 20 gatos, la matriz de confusión puede parecerse a la siguiente ilustración.</span><span class="sxs-lookup"><span data-stu-id="3e643-113">If you have a test dataset that contains 30 dogs and 20 cats, the confusion matrix might resemble the following illustration.</span></span>

![Ejemplo de predicción de especies](media/species-prediction-matrix.png)

<span data-ttu-id="3e643-115">Los números de las celdas verdes representan predicciones correctas.</span><span class="sxs-lookup"><span data-stu-id="3e643-115">The numbers in the green cells represent correct predictions.</span></span> <span data-ttu-id="3e643-116">Como puede ver, el modelo predijo correctamente un porcentaje más alto de gatos reales.</span><span class="sxs-lookup"><span data-stu-id="3e643-116">As you can see, the model predicted a higher percentage of the actual cats correctly.</span></span> <span data-ttu-id="3e643-117">La precisión general del modelo es fácil de calcular.</span><span class="sxs-lookup"><span data-stu-id="3e643-117">The overall accuracy of the model is easy to calculate.</span></span> <span data-ttu-id="3e643-118">En este caso, es 42 ÷ 50, o sea 0,84.</span><span class="sxs-lookup"><span data-stu-id="3e643-118">In this case, it's 42 ÷ 50, or 0.84.</span></span>

### <a name="multi-class-classifiers-in-a-confusion-matrix"></a><span data-ttu-id="3e643-119">Clasificadores de clases múltiples en una matriz de confusión</span><span class="sxs-lookup"><span data-stu-id="3e643-119">Multi-class classifiers in a confusion matrix</span></span>

<span data-ttu-id="3e643-120">La mayoría de las discusiones sobre la matriz de confusión se centran en clasificadores binarios, como en el ejemplo anterior.</span><span class="sxs-lookup"><span data-stu-id="3e643-120">Most discussions about the confusion matrix are focused on binary classifiers, as in the preceding example.</span></span> <span data-ttu-id="3e643-121">Este caso es un caso especial en el que se pueden considerar otras métricas, como la sensibilidad y la recuperación.</span><span class="sxs-lookup"><span data-stu-id="3e643-121">This case is a special case where other metrics can be considered, such as sensitivity and recall.</span></span>

<span data-ttu-id="3e643-122">A continuación, consideraremos un problema de clasificación para un escenario financiero que tiene tres estados.</span><span class="sxs-lookup"><span data-stu-id="3e643-122">Next, we will consider a classification problem for a finance scenario that has three states.</span></span> <span data-ttu-id="3e643-123">El modelo predice si la factura de un cliente se pagará a tiempo, tarde o muy tarde.</span><span class="sxs-lookup"><span data-stu-id="3e643-123">The model predicts whether a customer invoice will be paid on time, late, or very late.</span></span> <span data-ttu-id="3e643-124">Por ejemplo, de 100 facturas de prueba, 50 se pagan a tiempo, 35 se pagan con retraso y 15 se pagan con mucho retraso.</span><span class="sxs-lookup"><span data-stu-id="3e643-124">For example, out of 100 test invoices, 50 are paid on time, 35 are paid late, and 15 are paid very late.</span></span> <span data-ttu-id="3e643-125">En este caso, un modelo puede producir una matriz de confusión similar a la siguiente ilustración.</span><span class="sxs-lookup"><span data-stu-id="3e643-125">In this case, a model might produce a confusion matrix that resembles the following illustration.</span></span>

![Modelo 1](media/payment-prediction-matrix.png)<span data-ttu-id="3e643-127">]</span><span class="sxs-lookup"><span data-stu-id="3e643-127">]</span></span>

<span data-ttu-id="3e643-128">Una matriz de confusión proporciona mucha más información que una simple métrica de precisión.</span><span class="sxs-lookup"><span data-stu-id="3e643-128">A confusion matrix provides significantly more information than a simple accuracy metric.</span></span> <span data-ttu-id="3e643-129">Sin embargo, pese a ello es relativamente fácil de entender.</span><span class="sxs-lookup"><span data-stu-id="3e643-129">However, it's still relatively easy to understand.</span></span> <span data-ttu-id="3e643-130">Una matriz de confusión le dice si tiene un conjunto de datos equilibrado donde las clases de salida tienen recuentos similares.</span><span class="sxs-lookup"><span data-stu-id="3e643-130">A confusion matrix tells you whether you have a balanced dataset where the output classes have similar counts.</span></span> <span data-ttu-id="3e643-131">Para el escenario de clases múltiples, le indica lo desacertada que podría ser una predicción cuando las clases de salida son ordinales, como en el ejemplo anterior sobre pagos de clientes.</span><span class="sxs-lookup"><span data-stu-id="3e643-131">For the multi-class scenario, it tells you how far off a prediction might be when the output classes are ordinal, as in the preceding example about customer payments.</span></span>

## <a name="model-accuracy"></a><span data-ttu-id="3e643-132">Precisión del modelo</span><span class="sxs-lookup"><span data-stu-id="3e643-132">Model accuracy</span></span> 
<span data-ttu-id="3e643-133">Las diferentes métricas de precisión tienen la ventaja de cuantificar la calidad del modelo.</span><span class="sxs-lookup"><span data-stu-id="3e643-133">Different accuracy metrics have the advantage of quantifying the model quality.</span></span> 

<span data-ttu-id="3e643-134">Debido a que la precisión es una métrica fácil de entender, es un buen punto de partida para explicar un modelo a otras personas, especialmente a los usuarios del modelo que no son científicos de datos.</span><span class="sxs-lookup"><span data-stu-id="3e643-134">Because accuracy is an easy metric to understand, it's a good starting point for explaining a model to other people, especially to users of the model who aren't data scientists.</span></span> <span data-ttu-id="3e643-135">No se requieren conocimientos de estadística para comprender la precisión del modelo.</span><span class="sxs-lookup"><span data-stu-id="3e643-135">No understanding of statistics is required to understand the model's accuracy.</span></span> <span data-ttu-id="3e643-136">Cuando se dispone de una matriz de confusión, proporciona más información sobre el rendimiento del modelo.</span><span class="sxs-lookup"><span data-stu-id="3e643-136">When a confusion matrix is available, it provides further insight into the model's performance.</span></span>

<span data-ttu-id="3e643-137">Sin embargo, para una comprensión más profunda, deben tenerse en cuenta varios desafíos asociados con la precisión.</span><span class="sxs-lookup"><span data-stu-id="3e643-137">However, for a more thorough understanding, several challenges that are associated with accuracy should be noted.</span></span> <span data-ttu-id="3e643-138">La utilidad de la métrica depende del contexto del problema.</span><span class="sxs-lookup"><span data-stu-id="3e643-138">The usefulness of the metric depends on the context of the problem.</span></span> <span data-ttu-id="3e643-139">Una pregunta que surge a menudo en relación con el rendimiento del modelo es: "¿Cómo de bueno es el modelo?"</span><span class="sxs-lookup"><span data-stu-id="3e643-139">A question that often arises in relation to model performance is, "How good is the model?"</span></span> <span data-ttu-id="3e643-140">Sin embargo, la respuesta a esta pregunta no es necesariamente sencilla.</span><span class="sxs-lookup"><span data-stu-id="3e643-140">However, the answer to this question isn't necessarily straightforward.</span></span> <span data-ttu-id="3e643-141">Considere la siguiente matriz de confusión (modelo 2).</span><span class="sxs-lookup"><span data-stu-id="3e643-141">Consider the following confusion matrix (model 2).</span></span>

![Ejemplo de predicción de pago con una muestra más grande](media/payment-prediction-matrix-2.png)

<span data-ttu-id="3e643-143">Un cálculo rápido muestra que la precisión de este modelo es (70 + 10 + 3) ÷ 100, o sea 0,83.</span><span class="sxs-lookup"><span data-stu-id="3e643-143">A quick calculation shows that this model's accuracy is (70 + 10 + 3) ÷ 100, or 0.83.</span></span> <span data-ttu-id="3e643-144">En la superficie, este resultado parece mejor que el resultado del modelo multiclase anterior (modelo 1), que tiene una precisión de 0,73.</span><span class="sxs-lookup"><span data-stu-id="3e643-144">On the surface, this result seems better than result for the previous multi-class model (model 1), which has an accuracy of 0.73.</span></span> <span data-ttu-id="3e643-145">¿Pero es mejor?</span><span class="sxs-lookup"><span data-stu-id="3e643-145">But is it better?</span></span>

<span data-ttu-id="3e643-146">Para comenzar a abordar esta pregunta, considere la precisión de una suposición ingenua.</span><span class="sxs-lookup"><span data-stu-id="3e643-146">To begin to address this question, consider the accuracy of a naïve guess.</span></span> <span data-ttu-id="3e643-147">Para un problema de clasificación, una simple suposición siempre predecirá la clase más común.</span><span class="sxs-lookup"><span data-stu-id="3e643-147">For a classification problem, a simple guess will always predict the most common class.</span></span> <span data-ttu-id="3e643-148">Para el modelo 1, esa suposición será "en el momento" y producirá una precisión de 0,50.</span><span class="sxs-lookup"><span data-stu-id="3e643-148">For model 1, that guess will be "on time," and it will produce an accuracy of 0.50.</span></span> <span data-ttu-id="3e643-149">La suposición para el modelo 2 será también "en el momento" y producirá una precisión de 0,80.</span><span class="sxs-lookup"><span data-stu-id="3e643-149">The guess for model 2 will also be "on time," and it will produce an accuracy of 0.80.</span></span> <span data-ttu-id="3e643-150">Debido a que el modelo 1 mejora la suposición ingenua en 0,73 - 0,50 = 0,23, mientras que el modelo 2 mejora la suposición ingenua en 0,83 - 0,80 = 0,03, el modelo 1 es un modelo mejor, aunque tiene una precisión menor.</span><span class="sxs-lookup"><span data-stu-id="3e643-150">Because model 1 improves on the naïve guess by 0.73 – 0.50 = 0.23, whereas model 2 improves on the naïve guess by 0.83 – 0.80 = 0.03, model 1 is a better model, even though it has lower accuracy.</span></span> <span data-ttu-id="3e643-151">El cálculo revela que la evaluación eficaz de la calidad de un modelo requiere más contexto que el valor de la precisión.</span><span class="sxs-lookup"><span data-stu-id="3e643-151">The calculation reveals that effective assessment of a model's quality requires more context than the accuracy value.</span></span>

<span data-ttu-id="3e643-152">Otro aspecto que cabe destacar.</span><span class="sxs-lookup"><span data-stu-id="3e643-152">Another aspect is worth noting.</span></span> <span data-ttu-id="3e643-153">Considere un escenario en el que se utiliza una prueba médica para detectar una enfermedad en un paciente.</span><span class="sxs-lookup"><span data-stu-id="3e643-153">Consider a scenario where a medical test is used to detect a disease in a patient.</span></span> <span data-ttu-id="3e643-154">Este problema es un problema de clasificación binaria donde un resultado positivo indica que el paciente tiene la enfermedad.</span><span class="sxs-lookup"><span data-stu-id="3e643-154">This problem is a binary classification problem where a positive result indicates that the patient has the disease.</span></span> <span data-ttu-id="3e643-155">En este escenario, debe pensar en el impacto de los siguientes errores:</span><span class="sxs-lookup"><span data-stu-id="3e643-155">In this scenario, you must think about the impact of the following errors:</span></span>

- <span data-ttu-id="3e643-156">Falsos positivos, donde la prueba dice que una paciente tiene la enfermedad, pero en realidad no la tiene.</span><span class="sxs-lookup"><span data-stu-id="3e643-156">False positives, where the test says that a patient has the disease, but the patient doesn't really have it.</span></span>
- <span data-ttu-id="3e643-157">Falsos negativos, donde la prueba dice que una paciente no tiene la enfermedad, pero en realidad la tiene.</span><span class="sxs-lookup"><span data-stu-id="3e643-157">False negatives, where the test says that a patient doesn't have the disease, but the patient really does have it.</span></span>

<span data-ttu-id="3e643-158">Obviamente, ambos tipos de error son indeseables, pero ¿cuál es peor?</span><span class="sxs-lookup"><span data-stu-id="3e643-158">Obviously, both types of error are undesirable, but which is worse?</span></span> <span data-ttu-id="3e643-159">De nuevo, depende.</span><span class="sxs-lookup"><span data-stu-id="3e643-159">Again, it depends.</span></span> <span data-ttu-id="3e643-160">En el caso de una enfermedad potencialmente mortal que requiere un tratamiento rápido, la minimización de los falsos negativos (con suerte, seguida de pruebas adicionales) tiene prioridad.</span><span class="sxs-lookup"><span data-stu-id="3e643-160">In the case of a life-threatening disease that requires fast treatment, minimization of false negatives (hopefully followed by additional tests) takes priority.</span></span> <span data-ttu-id="3e643-161">En otras situaciones menos críticas, los creadores del modelo pueden minimizar los falsos positivos.</span><span class="sxs-lookup"><span data-stu-id="3e643-161">In other, less critical situations, the model creators might minimize false positives instead.</span></span> <span data-ttu-id="3e643-162">En cualquier caso, una conclusión razonable es que, para determinar de forma eficaz la calidad de un modelo, debe tener más información de la que proporciona una métrica de precisión.</span><span class="sxs-lookup"><span data-stu-id="3e643-162">At any rate, a reasonable conclusion is that to effectively determine a model's quality, you must have more information than an accuracy metric provides.</span></span>

### <a name="recommendations"></a><span data-ttu-id="3e643-163">Recomendaciones</span><span class="sxs-lookup"><span data-stu-id="3e643-163">Recommendations</span></span>

<span data-ttu-id="3e643-164">La precisión es una herramienta importante para comunicarse con expertos en el dominio que no están familiarizados con las estadísticas.</span><span class="sxs-lookup"><span data-stu-id="3e643-164">Accuracy is an important tool for communicating with domain experts who aren't familiar with statistics.</span></span> <span data-ttu-id="3e643-165">Sin embargo, para que la información sea útil, es fundamental que se proporcione un contexto adicional junto con el valor de precisión.</span><span class="sxs-lookup"><span data-stu-id="3e643-165">However, to make the information useful, it's critical that additional context be provided together with the accuracy value.</span></span>

<span data-ttu-id="3e643-166">Para el escenario de predicción de pagos, puede establecer un objetivo para el modelo de ML que incluya factores en diferentes comportamientos de pago.</span><span class="sxs-lookup"><span data-stu-id="3e643-166">For the payment prediction scenario, you can set a target for the ML model that includes factors in different payment behaviors.</span></span> <span data-ttu-id="3e643-167">El objetivo es que el modelo mejore una suposición ingenua al reducir el número de respuestas incorrectas en al menos un 50 por ciento.</span><span class="sxs-lookup"><span data-stu-id="3e643-167">The target is that the model should improve upon a naïve guess by reducing the number of incorrect answers by at least 50 percent.</span></span> <span data-ttu-id="3e643-168">En otras palabras, desea una precisión objetivo que divida la diferencia entre la precisión de una suposición ingenua y el 100 por ciento.</span><span class="sxs-lookup"><span data-stu-id="3e643-168">In other words, you want a target accuracy that splits the different between the accuracy of a naïve guess and 100 percent.</span></span>

<span data-ttu-id="3e643-169">La siguiente tabla resume este principio para las matrices de confusión en este tema.</span><span class="sxs-lookup"><span data-stu-id="3e643-169">The following table summarizes this principle for the confusion matrices in this topic.</span></span>

| <span data-ttu-id="3e643-170">Modelo</span><span class="sxs-lookup"><span data-stu-id="3e643-170">Model</span></span>   | <span data-ttu-id="3e643-171">Suposición ingenua</span><span class="sxs-lookup"><span data-stu-id="3e643-171">Naïve guess</span></span> | <span data-ttu-id="3e643-172">Objetivo</span><span class="sxs-lookup"><span data-stu-id="3e643-172">Target</span></span> | <span data-ttu-id="3e643-173">Precisión del modelo</span><span class="sxs-lookup"><span data-stu-id="3e643-173">Model accuracy</span></span> | <span data-ttu-id="3e643-174">¿Se alcanzó el objetivo?</span><span class="sxs-lookup"><span data-stu-id="3e643-174">Is the goal met?</span></span>                                          |
|---------|-------------|--------|----------------|-----------------------------------------------------------|
| <span data-ttu-id="3e643-175">Modelo 1</span><span class="sxs-lookup"><span data-stu-id="3e643-175">Model 1</span></span> | <span data-ttu-id="3e643-176">0.50</span><span class="sxs-lookup"><span data-stu-id="3e643-176">0.50</span></span>        | <span data-ttu-id="3e643-177">0.75</span><span class="sxs-lookup"><span data-stu-id="3e643-177">0.75</span></span>   | <span data-ttu-id="3e643-178">0.73</span><span class="sxs-lookup"><span data-stu-id="3e643-178">0.73</span></span>           | <span data-ttu-id="3e643-179">Casi.</span><span class="sxs-lookup"><span data-stu-id="3e643-179">Almost.</span></span> <span data-ttu-id="3e643-180">Este modelo mejora significativamente la suposición.</span><span class="sxs-lookup"><span data-stu-id="3e643-180">This model significantly improves upon the guess.</span></span> |
| <span data-ttu-id="3e643-181">Modelo 2</span><span class="sxs-lookup"><span data-stu-id="3e643-181">Model 2</span></span> | <span data-ttu-id="3e643-182">0.80</span><span class="sxs-lookup"><span data-stu-id="3e643-182">0.80</span></span>        | <span data-ttu-id="3e643-183">0.90</span><span class="sxs-lookup"><span data-stu-id="3e643-183">0.90</span></span>   | <span data-ttu-id="3e643-184">0.83</span><span class="sxs-lookup"><span data-stu-id="3e643-184">0.83</span></span>           | <span data-ttu-id="3e643-185">Nº</span><span class="sxs-lookup"><span data-stu-id="3e643-185">No.</span></span> <span data-ttu-id="3e643-186">Se requiere una mejora.</span><span class="sxs-lookup"><span data-stu-id="3e643-186">Improvement is required.</span></span>                              |

## <a name="classification-f1-accuracy"></a><span data-ttu-id="3e643-187">Precisión de clasificación F1</span><span class="sxs-lookup"><span data-stu-id="3e643-187">Classification F1 accuracy</span></span>

<span data-ttu-id="3e643-188">La consideración final en este tema es una medida más avanzada del rendimiento de clasificación ML, que se conoce como precisión F1.</span><span class="sxs-lookup"><span data-stu-id="3e643-188">The final consideration in this topic is a more advanced measure of classification ML performance that is known as F1 accuracy.</span></span>

<span data-ttu-id="3e643-189">Antes de poder definir la precisión F1, se deben introducir dos métricas adicionales: precisión y recuperación.</span><span class="sxs-lookup"><span data-stu-id="3e643-189">Before F1 accuracy can be defined, two additional metrics must be introduced: precision and recall.</span></span> <span data-ttu-id="3e643-190">La precisión indica cuántas del número total de predicciones que se especifican como positivas se asignaron correctamente.</span><span class="sxs-lookup"><span data-stu-id="3e643-190">Precision indicates how many of the total number of predictions that are specified as positive are correctly assigned.</span></span> <span data-ttu-id="3e643-191">Esta métrica también se conoce como valor predictivo positivo.</span><span class="sxs-lookup"><span data-stu-id="3e643-191">This metric is also known as the positive predictive value.</span></span> <span data-ttu-id="3e643-192">Recuperación es el número total de casos positivos reales que se predijeron correctamente.</span><span class="sxs-lookup"><span data-stu-id="3e643-192">Recall is the total number of the actual positive cases that were predicted correctly.</span></span> <span data-ttu-id="3e643-193">Esta métrica también se conoce como sensibilidad.</span><span class="sxs-lookup"><span data-stu-id="3e643-193">This metric is also known as sensitivity.</span></span>

<span data-ttu-id="3e643-194">[![Resultados verdaderos frente a resultados falsos](./media/tn-fn.png)](./media/tn-fn.png)</span><span class="sxs-lookup"><span data-stu-id="3e643-194">[![True results vs. false results](./media/tn-fn.png)](./media/tn-fn.png)</span></span>

<span data-ttu-id="3e643-195">En la matriz de confusión de la ilustración anterior, estas métricas se calculan de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="3e643-195">In the confusion matrix in the preceding illustration, these metrics are calculated in the following way:</span></span>

- <span data-ttu-id="3e643-196">Precisión = TP ÷ (TP + FP)</span><span class="sxs-lookup"><span data-stu-id="3e643-196">Precision = TP ÷ (TP + FP)</span></span>
- <span data-ttu-id="3e643-197">Recuperación = TP ÷ (TP + FN)</span><span class="sxs-lookup"><span data-stu-id="3e643-197">Recall = TP ÷ (TP + FN)</span></span>

<span data-ttu-id="3e643-198">La medida F1 combina precisión y recuperación.</span><span class="sxs-lookup"><span data-stu-id="3e643-198">The F1 measure combines precision and recall.</span></span> <span data-ttu-id="3e643-199">El resultado es la media armónica de los dos valores.</span><span class="sxs-lookup"><span data-stu-id="3e643-199">The result is the harmonic mean of the two values.</span></span> <span data-ttu-id="3e643-200">Se calcula de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="3e643-200">It's calculated in the following way:</span></span>

- <span data-ttu-id="3e643-201">F1 = 2 × (Precisión × Recuperación) ÷ (Precisión + Recuperación)</span><span class="sxs-lookup"><span data-stu-id="3e643-201">F1 = 2 × (Precision × Recall) ÷ (Precision + Recall)</span></span>

<span data-ttu-id="3e643-202">Veamos un ejemplo concreto.</span><span class="sxs-lookup"><span data-stu-id="3e643-202">Let's look at a concrete example.</span></span> <span data-ttu-id="3e643-203">Anteriormente en este tema, hubo un ejemplo de un modelo que predijo si un animal era un perro o un gato.</span><span class="sxs-lookup"><span data-stu-id="3e643-203">Earlier in this topic, there was an example of a model that predicted whether an animal was a dog or a cat.</span></span> <span data-ttu-id="3e643-204">Aquí se repite la ilustración.</span><span class="sxs-lookup"><span data-stu-id="3e643-204">The illustration is repeated here.</span></span>

<span data-ttu-id="3e643-205">[![Ejemplo de predicción de especies (repetido)](./media/species-prediction-matrix.png)](./media/species-prediction-matrix.png)</span><span class="sxs-lookup"><span data-stu-id="3e643-205">[![Species prediction example (repeated)](./media/species-prediction-matrix.png)](./media/species-prediction-matrix.png)</span></span>

<span data-ttu-id="3e643-206">Estos son los resultados si se utiliza "Perro" como respuesta positiva.</span><span class="sxs-lookup"><span data-stu-id="3e643-206">Here are the results if "Dog" is used as the positive answer.</span></span>

- <span data-ttu-id="3e643-207">Precisión = 24 ÷ (24 + 2) = 0,9231</span><span class="sxs-lookup"><span data-stu-id="3e643-207">Precision = 24 ÷ (24 + 2) = 0.9231</span></span>
- <span data-ttu-id="3e643-208">Recuperación = 24 ÷ (24 + 6) = 0,8</span><span class="sxs-lookup"><span data-stu-id="3e643-208">Recall = 24 ÷ (24 + 6) = 0.8</span></span>
- <span data-ttu-id="3e643-209">F1 = 2 × (0,9231 × 0,8) ÷ (0,9231 + 0,8) = 0,8572</span><span class="sxs-lookup"><span data-stu-id="3e643-209">F1 = 2 × (0.9231 × 0.8) ÷ (0.9231 + 0.8) = 0.8572</span></span>

<span data-ttu-id="3e643-210">Como puede ver, el valor F1 está entre los valores de precisión y recuperación.</span><span class="sxs-lookup"><span data-stu-id="3e643-210">As you can see, the F1 value is between the values for precision and recall.</span></span>

<span data-ttu-id="3e643-211">Aunque la precisión de F1 no es tan fácil de entender, agrega matices al número de precisión básico.</span><span class="sxs-lookup"><span data-stu-id="3e643-211">Although F1 accuracy isn't as easy to understand, it adds nuance to the basic accuracy number.</span></span> <span data-ttu-id="3e643-212">También puede ayudar con conjuntos de datos no equilibrados, como se mostrará en la siguiente discusión.</span><span class="sxs-lookup"><span data-stu-id="3e643-212">It can also help with unbalanced datasets, as the following discussion will show.</span></span>

<span data-ttu-id="3e643-213">La sección [Precisión del modelo](#model-accuracy) de este tema comparó las siguientes dos matrices de confusión.</span><span class="sxs-lookup"><span data-stu-id="3e643-213">The [Model accuracy](#model-accuracy) section of this topic compared the following two confusion matrices.</span></span> <span data-ttu-id="3e643-214">Aunque el primer modelo tenía una precisión menor, se consideró un modelo más útil porque mostró más mejoras que la suposición predeterminada de un pago puntual.</span><span class="sxs-lookup"><span data-stu-id="3e643-214">Even though the first model had lower accuracy, it was deemed a more useful model because it showed more improvement than the default guess of an on-time payment.</span></span>

![Ejemplo de predicción de pago frente a datos reales](media/payment-prediction-matrix.png)

![Ejemplo de predicción de pago con una muestra más grande (repetido)](media/payment-prediction-matrix-2.png)

<span data-ttu-id="3e643-217">Veamos cómo se comparan estos dos modelos cuando se usa la puntuación F1.</span><span class="sxs-lookup"><span data-stu-id="3e643-217">Let's see how these two models compare when the F1 score is used.</span></span> <span data-ttu-id="3e643-218">La puntuación F1 tiene en cuenta la precisión y la recuperación de cada estado, y el cálculo macro F1 luego promedia la puntuación F1 en todos los estados para determinar una puntuación F1 general.</span><span class="sxs-lookup"><span data-stu-id="3e643-218">The F1 score factors in precision and recall for each state, and the F1 macro calculation then averages the F1 score across the states to determine an overall F1 score.</span></span> <span data-ttu-id="3e643-219">Hay otras variantes de F1, pero es de mayor interés considerar la versión macro, dada la misma consideración que se le da a los tres estados.</span><span class="sxs-lookup"><span data-stu-id="3e643-219">There are other F1 variants, but it's of greater interest to consider the macro version, given the equal consideration that is given to all three states.</span></span>

<span data-ttu-id="3e643-220">Para simplificar los cálculos, se crearon matrices de ejemplo para comparar los valores reales y previstos.</span><span class="sxs-lookup"><span data-stu-id="3e643-220">To simplify the calculations, sample arrays were built to match the actual and predicted values.</span></span> <span data-ttu-id="3e643-221">Estas matrices utilizaron la biblioteca de métricas de sklearn en Python para calcular los valores.</span><span class="sxs-lookup"><span data-stu-id="3e643-221">These arrays used sklearn's metrics library in Python to calculate the values.</span></span> <span data-ttu-id="3e643-222">Este es el resultado.</span><span class="sxs-lookup"><span data-stu-id="3e643-222">Here is the result.</span></span>

| <span data-ttu-id="3e643-223">Modelo</span><span class="sxs-lookup"><span data-stu-id="3e643-223">Model</span></span>   | <span data-ttu-id="3e643-224">Suposición ingenua</span><span class="sxs-lookup"><span data-stu-id="3e643-224">Naive guess</span></span> | <span data-ttu-id="3e643-225">Precisión</span><span class="sxs-lookup"><span data-stu-id="3e643-225">Accuracy</span></span> | <span data-ttu-id="3e643-226">Macro F1</span><span class="sxs-lookup"><span data-stu-id="3e643-226">F1 macro</span></span> |
|---------|-------------|----------|----------|
| <span data-ttu-id="3e643-227">Modelo 1</span><span class="sxs-lookup"><span data-stu-id="3e643-227">Model 1</span></span> | <span data-ttu-id="3e643-228">0.5</span><span class="sxs-lookup"><span data-stu-id="3e643-228">0.5</span></span>         | <span data-ttu-id="3e643-229">0.73</span><span class="sxs-lookup"><span data-stu-id="3e643-229">0.73</span></span>     | <span data-ttu-id="3e643-230">0.67</span><span class="sxs-lookup"><span data-stu-id="3e643-230">0.67</span></span>     |
| <span data-ttu-id="3e643-231">Modelo 2</span><span class="sxs-lookup"><span data-stu-id="3e643-231">Model 2</span></span> | <span data-ttu-id="3e643-232">0.80</span><span class="sxs-lookup"><span data-stu-id="3e643-232">0.80</span></span>        | <span data-ttu-id="3e643-233">0.83</span><span class="sxs-lookup"><span data-stu-id="3e643-233">0.83</span></span>     | <span data-ttu-id="3e643-234">0.66</span><span class="sxs-lookup"><span data-stu-id="3e643-234">0.66</span></span>     |

<span data-ttu-id="3e643-235">Para obtener más detalles sobre cómo funciona este cálculo, aquí está el informe de clasificación sklearn.metrics para el modelo 1.</span><span class="sxs-lookup"><span data-stu-id="3e643-235">For more detail about how this calculation works, here is the sklearn.metrics classification report for model 1.</span></span> <span data-ttu-id="3e643-236">Los tres estados, "Puntual", "Tarde" y "Muy tarde", están representados por las filas etiquetadas como 1, 2 y 3, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="3e643-236">The three states, "On time," "Late," and "Very late," are represented by the rows that are labeled 1, 2, and 3, respectively.</span></span> <span data-ttu-id="3e643-237">El promedio macro es simplemente el promedio de la columna "f1-score".</span><span class="sxs-lookup"><span data-stu-id="3e643-237">The macro average is just the average of the "f1-score" column.</span></span>

| &nbsp;    | <span data-ttu-id="3e643-238">precisión</span><span class="sxs-lookup"><span data-stu-id="3e643-238">precision</span></span> | <span data-ttu-id="3e643-239">recuperación</span><span class="sxs-lookup"><span data-stu-id="3e643-239">recall</span></span>   | <span data-ttu-id="3e643-240">f1-score</span><span class="sxs-lookup"><span data-stu-id="3e643-240">f1-score</span></span> |
|-----------|-----------|----------|----------|
| <span data-ttu-id="3e643-241">**1**</span><span class="sxs-lookup"><span data-stu-id="3e643-241">**1**</span></span>     | <span data-ttu-id="3e643-242">0.83</span><span class="sxs-lookup"><span data-stu-id="3e643-242">0.83</span></span>      | <span data-ttu-id="3e643-243">0.80</span><span class="sxs-lookup"><span data-stu-id="3e643-243">0.80</span></span>     | <span data-ttu-id="3e643-244">0.82</span><span class="sxs-lookup"><span data-stu-id="3e643-244">0.82</span></span>     |
| <span data-ttu-id="3e643-245">**2**</span><span class="sxs-lookup"><span data-stu-id="3e643-245">**2**</span></span>     | <span data-ttu-id="3e643-246">0.68</span><span class="sxs-lookup"><span data-stu-id="3e643-246">0.68</span></span>      | <span data-ttu-id="3e643-247">0.71</span><span class="sxs-lookup"><span data-stu-id="3e643-247">0.71</span></span>     | <span data-ttu-id="3e643-248">0.69</span><span class="sxs-lookup"><span data-stu-id="3e643-248">0.69</span></span>     |
| <span data-ttu-id="3e643-249">**3**</span><span class="sxs-lookup"><span data-stu-id="3e643-249">**3**</span></span>     | <span data-ttu-id="3e643-250">0.50</span><span class="sxs-lookup"><span data-stu-id="3e643-250">0.50</span></span>      | <span data-ttu-id="3e643-251">0.50</span><span class="sxs-lookup"><span data-stu-id="3e643-251">0.50</span></span>     | <span data-ttu-id="3e643-252">0.50</span><span class="sxs-lookup"><span data-stu-id="3e643-252">0.50</span></span>     |

<span data-ttu-id="3e643-253">Como muestran estos resultados, los dos modelos tienen puntuaciones de precisión macro F1 casi idénticas.</span><span class="sxs-lookup"><span data-stu-id="3e643-253">As these results show, the two models have nearly identical F1 macro accuracy scores.</span></span> <span data-ttu-id="3e643-254">En este y muchos otros casos, la precisión F1 proporciona un mejor indicador de la capacidad de un modelo.</span><span class="sxs-lookup"><span data-stu-id="3e643-254">In this and many other cases, F1 accuracy provides a better indicator of a model's capability.</span></span> <span data-ttu-id="3e643-255">En cuanto a la precisión, la interpretación de los resultados requiere que comprenda qué es lo más importante a considerar en el modelo.</span><span class="sxs-lookup"><span data-stu-id="3e643-255">As for accuracy, interpretation of the results requires that you understand what is most important to consider in the model.</span></span>

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
