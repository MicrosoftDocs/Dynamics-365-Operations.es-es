---
title: Automatización de factura de proveedor
description: Este tema explica las funciones disponibles para la automatización completa de las facturas de proveedor, incluso las facturas que incluyen adjuntos.
author: abruer
manager: AnnBe
ms.date: 05/22/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: VendEditInvoiceHeaderStagingListPage
audience: Application User
ms.reviewer: roschlom
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: shpandey
ms.search.validFrom: 2016-11-30
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 4560d7b61fa8f014f9a1185da087df8b1c8e61ba
ms.sourcegitcommit: b7af921189048d9f2eb4d3fd57c704c742bc96e8
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 05/23/2020
ms.locfileid: "3396018"
---
# <a name="vendor-invoice-automation"></a><span data-ttu-id="7e241-103">Automatización de factura de proveedor</span><span class="sxs-lookup"><span data-stu-id="7e241-103">Vendor invoice automation</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="7e241-104">Este tema explica las funciones disponibles para la automatización completa de las facturas de proveedor, incluso las facturas que incluyen adjuntos.</span><span class="sxs-lookup"><span data-stu-id="7e241-104">This topic explains the features that are available for end-to-end automation of vendor invoices, even invoices that include attachments.</span></span>

<span data-ttu-id="7e241-105">Las organizaciones que desean para agilizar los procesos de proveedores (AP) con frecuencia identifican el procesamiento de facturas como una de las principales áreas de proceso que deben aumentar su eficacia.</span><span class="sxs-lookup"><span data-stu-id="7e241-105">Organizations that want to streamline their Accounts payable (AP) processes often identify invoice processing as one of the top process areas that should be more efficient.</span></span> <span data-ttu-id="7e241-106">En muchos casos, estas organizaciones delegan el procesamiento de las facturas de papel en un proveedor de servicios de reconocimiento de caracteres ópticos (OCR) de terceros.</span><span class="sxs-lookup"><span data-stu-id="7e241-106">In many cases, these organizations offload the processing of paper invoices to a third-party optical character recognition (OCR) service provider.</span></span> <span data-ttu-id="7e241-107">A continuación reciben metadatos de la factura que se pueden leer automáticamente junto con una imagen digitalizada de cada factura.</span><span class="sxs-lookup"><span data-stu-id="7e241-107">They then receive machine-readable invoice metadata together with a scanned image of each invoice.</span></span> <span data-ttu-id="7e241-108">Para contribuir a la automatización, se incorpora una solución de recta final para habilitar el consumo de estos artefactos en el sistema de facturación.</span><span class="sxs-lookup"><span data-stu-id="7e241-108">To help with automation, a “last mile” solution is then built to enable consumption of these artifacts in the invoicing system.</span></span> <span data-ttu-id="7e241-109">Ahora esta automatización de "recta final" está habilitada desde el principio a través de una solución de automatización de facturas.</span><span class="sxs-lookup"><span data-stu-id="7e241-109">Now this “last mile” automation is enabled out of the box, through an invoice automation solution.</span></span>

## <a name="solution-context"></a><span data-ttu-id="7e241-110">Contexto de la solución</span><span class="sxs-lookup"><span data-stu-id="7e241-110">Solution context</span></span>

<span data-ttu-id="7e241-111">La solución de automatización de facturas ofrece una interfaz estándar que puede aceptar los metadatos de las facturas para el encabezado de la factura y las líneas de factura, así como los adjuntos aplicables a la factura.</span><span class="sxs-lookup"><span data-stu-id="7e241-111">The invoice automation solution enables a standard interface that can accept invoice metadata for the invoice header and invoice lines, and also attachments that are applicable to the invoice.</span></span> <span data-ttu-id="7e241-112">Cualquier sistema externo que pueda generar artefactos que cumplan con esta interfaz podrá enviar la información para el procesamiento automático de facturas y adjuntos.</span><span class="sxs-lookup"><span data-stu-id="7e241-112">Any external system that can generate artifacts that comply with this interface will be able to send the feed for automatic processing of invoices and attachments.</span></span>

<span data-ttu-id="7e241-113">La ilustración siguiente muestra un escenario de integración de ejemplo en el que Contoso colaboró con un proveedor de servicios de OCR para el procesamiento de facturas de proveedor.</span><span class="sxs-lookup"><span data-stu-id="7e241-113">The following illustration shows a sample integration scenario where Contoso has partnered with an OCR service provider for vendor invoice processing.</span></span> <span data-ttu-id="7e241-114">Los proveedores de Contoso envían las facturas al proveedor de servicios por correo electrónico.</span><span class="sxs-lookup"><span data-stu-id="7e241-114">Contoso’s vendors send invoices to the service provider by email.</span></span> <span data-ttu-id="7e241-115">Con el procesamiento de OCR, el proveedor de servicios genera metadatos de facturas (encabezado y/o líneas) y una imagen digitalizada de la factura.</span><span class="sxs-lookup"><span data-stu-id="7e241-115">Through OCR processing, the service provider generates invoice metadata (header and/or lines) and a scanned image of the invoice.</span></span> <span data-ttu-id="7e241-116">A continuación, un nivel de integración transforma estas artefactos de modo que se puedan consumir.</span><span class="sxs-lookup"><span data-stu-id="7e241-116">An integration layer then transforms these artifacts so that they can be consumed.</span></span>

![Escenario de integración de ejemplo](media/vendor_invoice_automation_01.png)

<span data-ttu-id="7e241-118">Se permiten varias variaciones del escenario ejemplo anterior si se necesita la integración de facturas.</span><span class="sxs-lookup"><span data-stu-id="7e241-118">Several variations of the preceding scenario are possible if invoice integration is required.</span></span> <span data-ttu-id="7e241-119">La migración de datos es otro caso de uso en el que esta interfaz se puede usar para crear facturas y adjuntos.</span><span class="sxs-lookup"><span data-stu-id="7e241-119">Data migration is another use case where this interface can be used to create invoices and attachments.</span></span>

### <a name="solution-components"></a><span data-ttu-id="7e241-120">Componentes de la solución</span><span class="sxs-lookup"><span data-stu-id="7e241-120">Solution components</span></span>

<span data-ttu-id="7e241-121">La superficie de la solución consiste en los siguientes componentes:</span><span class="sxs-lookup"><span data-stu-id="7e241-121">The solution footprint consists of the following components:</span></span>

+ <span data-ttu-id="7e241-122">Entidades de datos del encabezado de factura, las líneas de factura y los adjuntos de la factura</span><span class="sxs-lookup"><span data-stu-id="7e241-122">Data entities for the invoice header, invoice lines, and invoice attachments</span></span>
+ <span data-ttu-id="7e241-123">Procesamiento de excepciones para las facturas</span><span class="sxs-lookup"><span data-stu-id="7e241-123">Exception processing for invoices</span></span>
+ <span data-ttu-id="7e241-124">Visualizador de adjuntos en paralelo en las facturas</span><span class="sxs-lookup"><span data-stu-id="7e241-124">A side-by-side attachment viewer in invoices</span></span>

<span data-ttu-id="7e241-125">El resto de este tema proporciona descripciones detalladas de estos componentes de la solución.</span><span class="sxs-lookup"><span data-stu-id="7e241-125">The rest of this topic provides detailed descriptions of these solution components.</span></span>

## <a name="data-entities"></a><span data-ttu-id="7e241-126">Entidades de datos</span><span class="sxs-lookup"><span data-stu-id="7e241-126">Data entities</span></span>

<span data-ttu-id="7e241-127">Un paquete de datos es la unidad de trabajo que debe enviarse para que se puedan crear encabezados de factura, líneas de factura y adjuntos de la factura.</span><span class="sxs-lookup"><span data-stu-id="7e241-127">A data package is the unit of work that must be sent so that invoice headers, invoice lines, and invoice attachments can be created.</span></span> <span data-ttu-id="7e241-128">Se usarán las siguientes entidades de datos para los artefactos que componen el paquete de datos:</span><span class="sxs-lookup"><span data-stu-id="7e241-128">The following data entities are used for the artifacts that make up the data package:</span></span>

+ <span data-ttu-id="7e241-129">Encabezado de factura de proveedor</span><span class="sxs-lookup"><span data-stu-id="7e241-129">Vendor invoice header</span></span>
+ <span data-ttu-id="7e241-130">Línea de factura de proveedor</span><span class="sxs-lookup"><span data-stu-id="7e241-130">Vendor invoice line</span></span>
+ <span data-ttu-id="7e241-131">Datos adjuntos de documento de factura de proveedor</span><span class="sxs-lookup"><span data-stu-id="7e241-131">Vendor invoice document attachment</span></span>

<span data-ttu-id="7e241-132">Los adjuntos del documento de la factura de proveedor son una nueva entidad de datos que se introduce como parte de esta función.</span><span class="sxs-lookup"><span data-stu-id="7e241-132">Vendor invoice document attachment is a new data entity that is introduced as part of this feature.</span></span> <span data-ttu-id="7e241-133">Se ha modificado la entidad del encabezado de la factura de proveedor para que admita adjuntos.</span><span class="sxs-lookup"><span data-stu-id="7e241-133">The Vendor invoice header entity has been modified so that it supports attachments.</span></span> <span data-ttu-id="7e241-134">No se ha modificado la entidad de la línea de factura de proveedor para esta función.</span><span class="sxs-lookup"><span data-stu-id="7e241-134">The Vendor invoice line entity hasn’t been modified for this feature.</span></span>

<span data-ttu-id="7e241-135">Para obtener información detallada sobre los paquetes de datos, consulte [Resumen de gestión de datos](../../fin-ops-core/dev-itpro/data-entities/data-entities-data-packages.md).</span><span class="sxs-lookup"><span data-stu-id="7e241-135">For detailed information about data packages, see [Data management overview](../../fin-ops-core/dev-itpro/data-entities/data-entities-data-packages.md).</span></span> <span data-ttu-id="7e241-136">Para obtener información sobre cómo crear paquetes de datos utilizando el espacio de trabajo de administración de datos, consulte [Procesar y consumir paquetes de datos en la solución de aplicaciones Dynamics 365 Finance and Operations](../../fin-ops-core/dev-itpro/lcs-solutions/process-data-packages-lcs-solutions.md).</span><span class="sxs-lookup"><span data-stu-id="7e241-136">For information about how to create data packages using the data management workspace, see [Process and consume data packages in Dynamics 365 Finance and Operations apps solution](../../fin-ops-core/dev-itpro/lcs-solutions/process-data-packages-lcs-solutions.md).</span></span>

<span data-ttu-id="7e241-137">Para generar rápidamente los datos de prueba que incluyen facturas y adjuntos, siga estos pasos.</span><span class="sxs-lookup"><span data-stu-id="7e241-137">To quickly generate test data that includes invoices and attachments, follow these steps.</span></span>

1. <span data-ttu-id="7e241-138">Iniciar sesión en su instancia.</span><span class="sxs-lookup"><span data-stu-id="7e241-138">Sign in to your instance.</span></span>
1. <span data-ttu-id="7e241-139">Vaya a **Proveedores** > **Facturas** > **Facturas de proveedor pendientes**.</span><span class="sxs-lookup"><span data-stu-id="7e241-139">Go to **Accounts payables** > **Invoices** > **Pending vendor invoices**.</span></span>
1. <span data-ttu-id="7e241-140">Cree las facturas que tengan líneas y adjuntos.</span><span class="sxs-lookup"><span data-stu-id="7e241-140">Create invoices that have lines and attachments.</span></span>

    > [!NOTE]
    > <span data-ttu-id="7e241-141">Los adjuntos se deben ser adjuntos de encabezados.</span><span class="sxs-lookup"><span data-stu-id="7e241-141">The attachments must be header attachments.</span></span> <span data-ttu-id="7e241-142">Actualmente, la entidad de adjuntos de documentos de facturas de proveedor no admite adjuntos de líneas.</span><span class="sxs-lookup"><span data-stu-id="7e241-142">Currently, the Vendor invoice document attachment entity doesn’t support line attachments.</span></span>

1. <span data-ttu-id="7e241-143">Abra el espacio trabajo **Administración de datos** .</span><span class="sxs-lookup"><span data-stu-id="7e241-143">Open the **Data management** workspace.</span></span>
1. <span data-ttu-id="7e241-144">Cree un trabajo de exportación que incluya el encabezado de la factura de proveedor, la línea de la factura de proveedor y las entidades de adjuntos de documentos de la factura de proveedor.</span><span class="sxs-lookup"><span data-stu-id="7e241-144">Create an export job that includes the Vendor invoice header, Vendor invoice line, and Vendor invoice document attachment entities.</span></span>
1. <span data-ttu-id="7e241-145">Exporte los datos</span><span class="sxs-lookup"><span data-stu-id="7e241-145">Export the data.</span></span>
1. <span data-ttu-id="7e241-146">Descargue los datos exportados como paquete.</span><span class="sxs-lookup"><span data-stu-id="7e241-146">Download the exported data as a package.</span></span> <span data-ttu-id="7e241-147">Ahora puede usar el paquete para importar datos en las instancias de destino con fines de prueba.</span><span class="sxs-lookup"><span data-stu-id="7e241-147">You can now use the package to import data into target instances for testing purposes.</span></span>

### <a name="determining-the-legal-entity-for-an-invoice"></a><span data-ttu-id="7e241-148">Determinar la entidad jurídica de una factura</span><span class="sxs-lookup"><span data-stu-id="7e241-148">Determining the legal entity for an invoice</span></span>

<span data-ttu-id="7e241-149">Las facturas que se importan mediante los paquetes de datos se pueden asociar a la entidad jurídica a la que pertenecen de dos maneras:</span><span class="sxs-lookup"><span data-stu-id="7e241-149">Invoices that are imported via data packages can be associated with the legal entity that they belong to in two ways:</span></span>

+ <span data-ttu-id="7e241-150">El trabajo de importación que procesa las facturas las importa en la misma empresa en la que se ha programado el trabajo en el espacio de trabajo **Administración de datos** .</span><span class="sxs-lookup"><span data-stu-id="7e241-150">The import job that processes the invoice imports it into the same company in which the job was scheduled in the **Data management** workspace.</span></span> <span data-ttu-id="7e241-151">Es decir, la empresa del trabajo determina la empresa a la que pertenece la factura.</span><span class="sxs-lookup"><span data-stu-id="7e241-151">In other words, the company of the job determines the company that the invoice belongs to.</span></span>
+ <span data-ttu-id="7e241-152">Cuando el paquete de datos que contiene las facturas se envía a Finance, el autor de llamada (es decir, la aplicación de integración que se ejecuta fuera de Finance) pueden explícitamente mencionar el identificador de empresa en la solicitud HTTP.</span><span class="sxs-lookup"><span data-stu-id="7e241-152">When the data package that contains invoices is sent to Finance, the caller (that is, the integration application that runs outside of Finance) can explicitly mention the company ID in the HTTP request.</span></span> <span data-ttu-id="7e241-153">En este caso, el contexto de la empresa en el que el trabajo de procesamiento ejecuta en Finance se anula, y las facturas se importan en la empresa transmitida con la solicitud HTTP.</span><span class="sxs-lookup"><span data-stu-id="7e241-153">In this case, the company context in which the processing job runs in Finance is overridden, and the invoices are imported into the company that was passed via the HTTP request.</span></span>

> [!NOTE]
> <span data-ttu-id="7e241-154">Este comportamiento es el comportamiento estándar de gestión de datos.</span><span class="sxs-lookup"><span data-stu-id="7e241-154">This behavior is standard data management behavior.</span></span> <span data-ttu-id="7e241-155">Aquí se explica, en el contexto de las facturas, solo para que sea más completo.</span><span class="sxs-lookup"><span data-stu-id="7e241-155">It’s explained here, in the context of invoices, just for the sake of completeness.</span></span>

## <a name="exception-processing"></a><span data-ttu-id="7e241-156">Procesamiento de excepciones</span><span class="sxs-lookup"><span data-stu-id="7e241-156">Exception processing</span></span>

<span data-ttu-id="7e241-157">En los escenarios en los que las facturas de proveedores se introducen en Finance and Operations a través de integración, debe haber una forma sencilla de que un miembro del equipo de Proveedores procese las facturas con excepciones o errores y cree facturas pendientes a partir de las facturas con errores.</span><span class="sxs-lookup"><span data-stu-id="7e241-157">In scenarios where vendor invoices come into Finance and Operations via integration, there must be an easy way for an Accounts payable team member to process exceptions or failed invoices, and to create pending invoices out of failed invoices.</span></span> <span data-ttu-id="7e241-158">Este procesamiento de excepciones para facturas de proveedores ya forma parte de Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="7e241-158">This exception processing for vendor invoices is now part of Finance and Operations.</span></span>

### <a name="exceptions-list-page"></a><span data-ttu-id="7e241-159">Página de lista de excepciones</span><span class="sxs-lookup"><span data-stu-id="7e241-159">Exceptions list page</span></span>

<span data-ttu-id="7e241-160">La nueva página de lista para las excepciones de facturas está disponible en **Proveedores** > **Facturas** > **Errores de importación** > **Facturas de proveedor que no se han importado**.</span><span class="sxs-lookup"><span data-stu-id="7e241-160">The new list page for invoice exceptions is available at **Accounts payable** > **Invoices** > **Import failures** > **Vendor invoices that failed to import**.</span></span> <span data-ttu-id="7e241-161">Esta página muestra todos los registros de encabezado de facturas de proveedor de la tabla de ensayo de la entidad de los datos de encabezado de facturas de proveedor.</span><span class="sxs-lookup"><span data-stu-id="7e241-161">This page shows all the vendor invoice header records from the staging table of the Vendor invoice header data entity.</span></span> <span data-ttu-id="7e241-162">Tenga en cuenta que puede ver los mismos registros del espacio de trabajo **Administración de datos** , donde también puede efectuar las mismas acciones que se proporcionan en la función de control de excepciones.</span><span class="sxs-lookup"><span data-stu-id="7e241-162">Note that you can view the same records from the **Data management** workspace, where you can also perform the same actions that are provided in the exception handling feature.</span></span> <span data-ttu-id="7e241-163">Sin embargo, la interfaz de usuario que ofrece la función de control de excepciones está optimizada para un usuario funcional.</span><span class="sxs-lookup"><span data-stu-id="7e241-163">However, the UI that the exception handling feature provides is optimized for a functional user.</span></span>

![Página de lista de excepciones](media/vendor_invoice_automation_02.png)

<span data-ttu-id="7e241-165">Esta página de lista incluye los siguientes campos que se incluyen en la incorporación de la información:</span><span class="sxs-lookup"><span data-stu-id="7e241-165">This list page includes the following fields that come in via the feed:</span></span>

+ <span data-ttu-id="7e241-166">**Empresa** – La empresa a la que pertenece la factura</span><span class="sxs-lookup"><span data-stu-id="7e241-166">**Company** – The company that the invoice belongs to</span></span>
+ <span data-ttu-id="7e241-167">**Mensaje de error** - El mensaje de error que el marco de gestión de datos emite para explicar por qué la factura no ha podido ser creada</span><span class="sxs-lookup"><span data-stu-id="7e241-167">**Error message** – The error message that the data management framework issues to explain why the invoice could not be created</span></span>
+ <span data-ttu-id="7e241-168">**Número** – El número de la factura</span><span class="sxs-lookup"><span data-stu-id="7e241-168">**Number** – The invoice number</span></span>
+ <span data-ttu-id="7e241-169">**Cuenta de facturación**</span><span class="sxs-lookup"><span data-stu-id="7e241-169">**Invoice account**</span></span>
+ <span data-ttu-id="7e241-170">**Nombre** – El nombre del proveedor</span><span class="sxs-lookup"><span data-stu-id="7e241-170">**Name** – The vendor’s name</span></span>
+ <span data-ttu-id="7e241-171">**Cuenta del proveedor**</span><span class="sxs-lookup"><span data-stu-id="7e241-171">**Vendor account**</span></span>
+ <span data-ttu-id="7e241-172">**Pedido de compra** – El número de pedido de compra de la factura</span><span class="sxs-lookup"><span data-stu-id="7e241-172">**Purchase order** – The purchase order (PO) number for the invoice</span></span>
+ <span data-ttu-id="7e241-173">**Fecha de registro**</span><span class="sxs-lookup"><span data-stu-id="7e241-173">**Posting date**</span></span>
+ <span data-ttu-id="7e241-174">**Fecha de la factura**</span><span class="sxs-lookup"><span data-stu-id="7e241-174">**Invoice date**</span></span>
+ <span data-ttu-id="7e241-175">**Descripción de factura**</span><span class="sxs-lookup"><span data-stu-id="7e241-175">**Invoice description**</span></span>
+ <span data-ttu-id="7e241-176">**Divisa**</span><span class="sxs-lookup"><span data-stu-id="7e241-176">**Currency**</span></span>
+ <span data-ttu-id="7e241-177">**Registro**</span><span class="sxs-lookup"><span data-stu-id="7e241-177">**Log**</span></span>
+ <span data-ttu-id="7e241-178">**Referencia de la línea** El identificador que procede del sistema externo</span><span class="sxs-lookup"><span data-stu-id="7e241-178">**Line reference** – The identifier that comes from the external system</span></span>

    > [!NOTE]
    > <span data-ttu-id="7e241-179">La referencia de la línea no es el identificador de la factura.</span><span class="sxs-lookup"><span data-stu-id="7e241-179">The line reference isn’t the invoice ID.</span></span>

<span data-ttu-id="7e241-180">Esta página de lista también tiene un panel de vista previa que se puede utilizar de las siguientes formas:</span><span class="sxs-lookup"><span data-stu-id="7e241-180">This list page also has a preview pane that you can used in the following ways:</span></span>

+ <span data-ttu-id="7e241-181">Permite ver el mensaje de error completo, de modo que no tiene que expandir la columna **Mensaje de error** en la cuadrícula.</span><span class="sxs-lookup"><span data-stu-id="7e241-181">View the whole error message, so that you don’t have to expand the **Error message** column in the grid.</span></span>
+ <span data-ttu-id="7e241-182">Permite ver la lista completa de adjuntos de la factura, si factura tiene adjuntos.</span><span class="sxs-lookup"><span data-stu-id="7e241-182">View the whole list of attachments for the invoice, if any attachments came with the invoice.</span></span>

<span data-ttu-id="7e241-183">La página de lista admite las siguientes acciones:</span><span class="sxs-lookup"><span data-stu-id="7e241-183">The list page supports the following actions:</span></span>

+ <span data-ttu-id="7e241-184">**Editar** - Abre el registro de excepciones en modo de edición, para que pueda corregir los problemas.</span><span class="sxs-lookup"><span data-stu-id="7e241-184">**Edit** – Open the exception record in edit mode, so that you can fix the issues.</span></span>
+ <span data-ttu-id="7e241-185">**Opciones** - Ofrece acceso a las opciones estándar que están disponibles en las páginas de lista.</span><span class="sxs-lookup"><span data-stu-id="7e241-185">**Options** – Access the standard options that are available on list pages.</span></span> <span data-ttu-id="7e241-186">Puede usar la opción **Agregar al espacio de trabajo** para anclar la página de lista de excepciones en su espacio de trabajo como una lista o mosaico.</span><span class="sxs-lookup"><span data-stu-id="7e241-186">You can use the **Add to workspace** option to pin the exceptions list page to your workspace as a list or tile.</span></span>

### <a name="exception-details-page"></a><span data-ttu-id="7e241-187">Página de detalles de excepciones</span><span class="sxs-lookup"><span data-stu-id="7e241-187">Exception details page</span></span>

<span data-ttu-id="7e241-188">Al iniciar el modo de edición, aparece la página de detalles de excepciones de la factura que tiene problemas.</span><span class="sxs-lookup"><span data-stu-id="7e241-188">When you start edit mode, the exception details page for the invoice that has issues appears.</span></span> <span data-ttu-id="7e241-189">Si hay adjuntos, la factura y los adjuntos predeterminados aparecen de forma simultánea en la página de detalles de la excepción.</span><span class="sxs-lookup"><span data-stu-id="7e241-189">If there are any attachments, the invoice and the default attachment appear side by side on the exception details page.</span></span>

![Página de detalles de excepciones](media/vendor_invoice_automation_03.png)

<span data-ttu-id="7e241-191">En la ilustración anterior, no había ninguna línea para el encabezado de factura de proveedor entrante.</span><span class="sxs-lookup"><span data-stu-id="7e241-191">In the preceding illustration, there weren’t any lines for the vendor invoice header that came in.</span></span> <span data-ttu-id="7e241-192">Por lo tanto, la sección líneas está vacía.</span><span class="sxs-lookup"><span data-stu-id="7e241-192">Therefore, the lines section is empty.</span></span>

<span data-ttu-id="7e241-193">La página de detalles de excepciones admite la operación siguiente:</span><span class="sxs-lookup"><span data-stu-id="7e241-193">The exception details page supports the following operation:</span></span>

+ <span data-ttu-id="7e241-194">**Crear factura pendiente** - Después de corregir los problemas en la factura como parte del procesamiento de excepciones, puede hacer clic en este botón para crear la factura pendiente.</span><span class="sxs-lookup"><span data-stu-id="7e241-194">**Create pending invoice** – After you’ve fixed the issues on the invoice as part of exception processing, you can click this button to create the pending invoice.</span></span> <span data-ttu-id="7e241-195">La creación de facturas pendientes se produce en segundo plano (como operación asincrónica).</span><span class="sxs-lookup"><span data-stu-id="7e241-195">The creation of pending invoices occurs in the background (as an asynchronous operation).</span></span>

### <a name="shared-service-vs-organization-based-exception-processing"></a><span data-ttu-id="7e241-196">Procesamiento de servicio compartido versus procesamiento de excepciones basado en la organización</span><span class="sxs-lookup"><span data-stu-id="7e241-196">Shared service vs. organization-based exception processing</span></span>

<span data-ttu-id="7e241-197">La página de lista de excepciones admite las construcciones estándar de seguridad que admite el área de trabajo **Administración de datos** para el procesamiento de los registros de ensayo.</span><span class="sxs-lookup"><span data-stu-id="7e241-197">The exceptions list page supports the standard security constructs that the **Data management** workspace supports for the processing of staging records.</span></span> <span data-ttu-id="7e241-198">El trabajo de importación de la factura se puede asegurar de las siguientes formas:</span><span class="sxs-lookup"><span data-stu-id="7e241-198">The invoice import job can be secured in the following ways:</span></span>

+ <span data-ttu-id="7e241-199">Por rol de usuario</span><span class="sxs-lookup"><span data-stu-id="7e241-199">By user role</span></span>
+ <span data-ttu-id="7e241-200">Por usuario</span><span class="sxs-lookup"><span data-stu-id="7e241-200">By user</span></span>
+ <span data-ttu-id="7e241-201">Por entidad jurídica</span><span class="sxs-lookup"><span data-stu-id="7e241-201">By legal entity</span></span>

![Importe el trabajo que está asegurado por el de usuario y la entidad jurídica](media/vendor_invoice_automation_04.png)

<span data-ttu-id="7e241-203">Si la seguridad se ha configuro para el trabajo de importación de facturas, la página de lista de excepciones seguirá estos valores.</span><span class="sxs-lookup"><span data-stu-id="7e241-203">If security is configured for the invoice import job, the exceptions list page honors those settings.</span></span> <span data-ttu-id="7e241-204">Los usuarios podrán ver solo los registros de excepciones de factura que les permita ver esta configuración.</span><span class="sxs-lookup"><span data-stu-id="7e241-204">Users will be able to see only the invoice exception records that this setup allows them to see.</span></span>

<span data-ttu-id="7e241-205">Por ejemplo, Contoso ha decidido procesar las excepciones de facturas por entidad jurídica.</span><span class="sxs-lookup"><span data-stu-id="7e241-205">For example, Contoso has decided to process invoice exceptions by legal entity.</span></span> <span data-ttu-id="7e241-206">Por lo tanto, la seguridad está configura en el trabajo de importación de la factura de tal manera que un usuario de la entidad jurídica A puede ver solo las excepciones de factura en la entidad jurídica A, mientras que un usuario de la entidad jurídica B puede ver únicamente las excepciones de factura en la entidad jurídica B. Esta configuración permite la segregación de controles para administrar las excepciones de la factura.</span><span class="sxs-lookup"><span data-stu-id="7e241-206">Therefore, security is configured on the invoice import job in such a way that a user in legal entity A can see only invoice exceptions in legal entity A, whereas a user in legal entity B can see only invoice exceptions in legal entity B. This setup enables segregation of duties for the management of invoice exceptions.</span></span>

<span data-ttu-id="7e241-207">Contoso también podría decidir no aplicar ninguna seguridad, de modo que los mismos usuarios puedan procesar las excepciones de factura para todas las entidades jurídicas.</span><span class="sxs-lookup"><span data-stu-id="7e241-207">Contoso could also decide not to enforce any security, so that the same users can process invoice exceptions for all legal entities.</span></span> <span data-ttu-id="7e241-208">Esta configuración permite un escenario de servicios compartidos para la administración de excepciones de factura.</span><span class="sxs-lookup"><span data-stu-id="7e241-208">This setup enables a shared services scenario for the management of invoice exceptions.</span></span>

## <a name="side-by-side-attachment-viewer"></a><span data-ttu-id="7e241-209">Visualizador de adjuntos en paralelo</span><span class="sxs-lookup"><span data-stu-id="7e241-209">Side-by-side attachment viewer</span></span>

<span data-ttu-id="7e241-210">Para ayudar a ver fácilmente los adjuntos de las facturas de proveedor, las siguientes páginas que se utilizan en el proceso de facturación proporcionan ahora un visualizador de adjuntos:</span><span class="sxs-lookup"><span data-stu-id="7e241-210">To help you easily view the attachments for vendor invoices, the following pages that are used in the invoicing process now provide an attachment viewer:</span></span>

+ <span data-ttu-id="7e241-211">**Control de excepciones**</span><span class="sxs-lookup"><span data-stu-id="7e241-211">**Exception handling**</span></span>
+ <span data-ttu-id="7e241-212">Página **Facturas de proveedor pendientes** (también disponibles en el proceso de revisión de facturas)</span><span class="sxs-lookup"><span data-stu-id="7e241-212">**Pending vendor invoices** page (also available in the invoice review process)</span></span>
+ <span data-ttu-id="7e241-213">Página de consultas **Diario de facturas** (para las facturas registradas)</span><span class="sxs-lookup"><span data-stu-id="7e241-213">**Invoice journal** inquiry page (for posted invoices)</span></span>

<span data-ttu-id="7e241-214">A continuación se indica la funcionalidad principal que proporciona el visualizador de adjuntos:</span><span class="sxs-lookup"><span data-stu-id="7e241-214">Here is the main functionality that the attachment viewer provides:</span></span>

+ <span data-ttu-id="7e241-215">Ver todos los tipos de adjuntos que admite la administración de documentos (archivos, imágenes, direcciones URL y notas).</span><span class="sxs-lookup"><span data-stu-id="7e241-215">View all attachment types that Document management supports (files, images, URLs, and notes).</span></span>
+ <span data-ttu-id="7e241-216">Ver los archivos TIFF de varias páginas.</span><span class="sxs-lookup"><span data-stu-id="7e241-216">View multi-page TIFF files.</span></span>
+ <span data-ttu-id="7e241-217">Realizar las siguientes acciones en los archivos de imagen:</span><span class="sxs-lookup"><span data-stu-id="7e241-217">Perform the following actions on image files:</span></span>
  + <span data-ttu-id="7e241-218">Resaltar partes de la imagen.</span><span class="sxs-lookup"><span data-stu-id="7e241-218">Highlight parts of the image.</span></span>
  + <span data-ttu-id="7e241-219">Bloquear partes de la imagen.</span><span class="sxs-lookup"><span data-stu-id="7e241-219">Block parts of the image.</span></span>
  + <span data-ttu-id="7e241-220">Agregar anotaciones a la imagen.</span><span class="sxs-lookup"><span data-stu-id="7e241-220">Add annotations to the image.</span></span>
  + <span data-ttu-id="7e241-221">Aumentar o reducir la imagen.</span><span class="sxs-lookup"><span data-stu-id="7e241-221">Zoom in and out on the image.</span></span>
  + <span data-ttu-id="7e241-222">Panorámica de imagen.</span><span class="sxs-lookup"><span data-stu-id="7e241-222">Pan the image.</span></span>
  + <span data-ttu-id="7e241-223">Deshacer y rehacer acciones.</span><span class="sxs-lookup"><span data-stu-id="7e241-223">Undo and redo actions.</span></span>
  + <span data-ttu-id="7e241-224">Adaptar la imagen al tamaño.</span><span class="sxs-lookup"><span data-stu-id="7e241-224">Fit the image to size.</span></span>

> [!NOTE]
> <span data-ttu-id="7e241-225">Estas acciones están disponibles solo para los archivos de imagen (JPEG, TIFF, PNG, etc.).</span><span class="sxs-lookup"><span data-stu-id="7e241-225">These actions are available only for image files (JPEG, TIFF, PNG, and so on).</span></span> <span data-ttu-id="7e241-226">Los cambios que realice a una imagen mediante estas acciones se guardan en el archivo de imagen.</span><span class="sxs-lookup"><span data-stu-id="7e241-226">Any changes that you make to an image by using these actions are saved to the image file.</span></span> <span data-ttu-id="7e241-227">Actualmente, el visualizador de adjuntos no incluye capacidades de versiones o de auditoría.</span><span class="sxs-lookup"><span data-stu-id="7e241-227">Currently, the attachment viewer doesn’t include versioning or auditing capabilities.</span></span>

### <a name="default-attachment"></a><span data-ttu-id="7e241-228">Adjunto predeterminado</span><span class="sxs-lookup"><span data-stu-id="7e241-228">Default attachment</span></span>

<span data-ttu-id="7e241-229">Si una factura de proveedor tiene más de un adjunto, puede establecer uno de los documentos como adjunto predeterminado en la página **Adjuntos** .</span><span class="sxs-lookup"><span data-stu-id="7e241-229">If a vendor invoice has more than one attachment, you can set one of the documents as the default attachment on the **Attachments** page.</span></span> <span data-ttu-id="7e241-230">La opción **Adjuntos predeterminados** es una nueva opción que se ha agregado como parte de esta función.</span><span class="sxs-lookup"><span data-stu-id="7e241-230">The **Is default attachment** option is a new option that was added as part of this feature.</span></span> <span data-ttu-id="7e241-231">Esta opción también se expone en la entidad de datos de adjuntos de documentos de la factura de proveedor.</span><span class="sxs-lookup"><span data-stu-id="7e241-231">This option is also exposed in the Vendor invoice document attachment data entity.</span></span> <span data-ttu-id="7e241-232">Por lo tanto, los adjuntos predeterminados se pueden definir con integraciones.</span><span class="sxs-lookup"><span data-stu-id="7e241-232">Therefore, the default attachment can be set through integrations.</span></span>

<span data-ttu-id="7e241-233">Sólo un documento se puede definir como adjunto predeterminado.</span><span class="sxs-lookup"><span data-stu-id="7e241-233">Only one document can be set as the default attachment.</span></span> <span data-ttu-id="7e241-234">Una vez que define un documento como adjunto predeterminado, se muestran automáticamente en el visualizador de adjuntos cuando se abre la factura.</span><span class="sxs-lookup"><span data-stu-id="7e241-234">After you set a document as the default attachment, it’s automatically shown in the attachment viewer when the invoice is opened.</span></span> <span data-ttu-id="7e241-235">Si no define ningún documento como adjunto predeterminado, el visualizador no muestra automáticamente ningún adjunto cuando se abre la factura.</span><span class="sxs-lookup"><span data-stu-id="7e241-235">If you don’t set any document as the default attachment, the viewer doesn’t automatically show any attachment when the invoice is opened.</span></span>

### <a name="showhide-invoice-attachments"></a><span data-ttu-id="7e241-236">Mostrar/ocultar adjuntos de la factura</span><span class="sxs-lookup"><span data-stu-id="7e241-236">Show/hide invoice attachments</span></span>

<span data-ttu-id="7e241-237">Un nuevo botón que está disponible en las páginas de consulta **Procesamiento de excepciones**, **Factura pendiente** y **Diario de facturas** permite mostrar u ocultar el visualizador de adjuntos.</span><span class="sxs-lookup"><span data-stu-id="7e241-237">A new button that is available on the **Exception processing**, **Pending invoice**, and **Invoice journal** inquiry pages lets you show or hide the attachment viewer.</span></span>

### <a name="security"></a><span data-ttu-id="7e241-238">Seguridad</span><span class="sxs-lookup"><span data-stu-id="7e241-238">Security</span></span>

<span data-ttu-id="7e241-239">Las siguientes acciones en el visualizador de adjuntos se controlan mediante seguridad basada en roles:</span><span class="sxs-lookup"><span data-stu-id="7e241-239">The following actions in the attachment viewer are controlled via role-based security:</span></span>

+ <span data-ttu-id="7e241-240">Resaltar</span><span class="sxs-lookup"><span data-stu-id="7e241-240">Highlighting</span></span>
+ <span data-ttu-id="7e241-241">Bloque</span><span class="sxs-lookup"><span data-stu-id="7e241-241">Block</span></span>
+ <span data-ttu-id="7e241-242">Anotación</span><span class="sxs-lookup"><span data-stu-id="7e241-242">Annotation</span></span>

### <a name="pending-vendor-invoices-page"></a><span data-ttu-id="7e241-243">Página de facturas de proveedor pendientes</span><span class="sxs-lookup"><span data-stu-id="7e241-243">Pending vendor invoices page</span></span>

<span data-ttu-id="7e241-244">Los privilegios siguientes ofrecen acceso de solo lectura o lectura/escritura al visualizador de adjuntos para las acciones de resaltar, bloquear y anotar:</span><span class="sxs-lookup"><span data-stu-id="7e241-244">The following privileges provide ready-only access or read/write access to the attachment viewer for the highlighting, block, and annotation actions:</span></span>

+ <span data-ttu-id="7e241-245">**Mantener la imagen de la factura de proveedor** - Este privilegio proporciona acceso de lectura/escritura.</span><span class="sxs-lookup"><span data-stu-id="7e241-245">**Maintain vendor invoice image** – This privilege provides read/write access.</span></span>
+ <span data-ttu-id="7e241-246">**Ver la imagen de la factura de proveedor** - Este privilegio proporciona acceso de solo lectura.</span><span class="sxs-lookup"><span data-stu-id="7e241-246">**View vendor invoice image** – This privilege provides read-only access.</span></span>

<span data-ttu-id="7e241-247">Las siguientes tareas proporcionan acceso de solo lectura o acceso de lectura/escritura al visualizador de adjuntos para dichas acciones:</span><span class="sxs-lookup"><span data-stu-id="7e241-247">The following duties provide read-only access or read/write access to the attachment viewer for those actions:</span></span>

+ <span data-ttu-id="7e241-248">**Mantener facturas de proveedor** - El privilegio de mantener imagen de la factura de proveedor se asigna a este derecho.</span><span class="sxs-lookup"><span data-stu-id="7e241-248">**Maintain vendor invoices** – The Maintain vendor invoice image privilege is assigned to this duty.</span></span>
+ <span data-ttu-id="7e241-249">**Consultar acerca del estado de las facturas de proveedor** - El privilegio de ver imagen de la factura de proveedor se asigna a este derecho.</span><span class="sxs-lookup"><span data-stu-id="7e241-249">**Inquire into vendor invoice status** – The View vendor invoice image privilege is assigned to this duty.</span></span>

<span data-ttu-id="7e241-250">Los siguientes roles proporcionan acceso de solo lectura o acceso de lectura/escritura al visualizador de adjuntos para dichas acciones:</span><span class="sxs-lookup"><span data-stu-id="7e241-250">The following roles provide read-only access or read/write access to the attachment viewer for those actions:</span></span>

+ <span data-ttu-id="7e241-251">**Funcionario de proveedores** y **Administrador de los proveedores** - El derecho de mantener las facturas de proveedor se asigna a estos roles.</span><span class="sxs-lookup"><span data-stu-id="7e241-251">**Accounts payable clerk** and **Accounts payable manager** – The Maintain vendor invoices duty is assigned to these roles.</span></span>
+ <span data-ttu-id="7e241-252">**Funcionario de proveedores**, **Administrador de los proveedores**, **Funcionario de pagos centralizados de proveedores**, y **Funcionario de pagos de proveedores** - El derecho de consulta sobre el estado de la factura de proveedor se asigna a estos roles.</span><span class="sxs-lookup"><span data-stu-id="7e241-252">**Accounts payable clerk**, **Accounts payable manager**, **Accounts payable centralized payments clerk**, and **Accounts payable payments clerk** – The Inquire into vendor invoice status duty is assigned to these roles.</span></span>

### <a name="invoice-exception-details-page"></a><span data-ttu-id="7e241-253">Página de detalles de excepciones de factura</span><span class="sxs-lookup"><span data-stu-id="7e241-253">Invoice exception details page</span></span>

<span data-ttu-id="7e241-254">Los privilegios siguientes ofrecen acceso de solo lectura o lectura/escritura al visualizador de adjuntos para las acciones de resaltar, bloquear y anotar.</span><span class="sxs-lookup"><span data-stu-id="7e241-254">The following privileges provide ready-only access or read/write access to the attachment viewer for the highlighting, block, and annotation actions.</span></span>

> [!NOTE]
> <span data-ttu-id="7e241-255">Desde el principio, los roles mencionados en esta sección proporcionan acceso de solo lectura a las imágenes de la factura en el visualizador de adjuntos.</span><span class="sxs-lookup"><span data-stu-id="7e241-255">Out of the box, the roles that are mentioned in this section provide read-only access to the invoice images in the attachment viewer.</span></span> <span data-ttu-id="7e241-256">Si un rol también debe tener acceso de escritura a las imágenes, puede conceder acceso de escritura a dicho rol mediante el privilegio y el derecho que se describe aquí.</span><span class="sxs-lookup"><span data-stu-id="7e241-256">If a role must also have write access to the images, you can grant write access to that role by using the privilege and duty that are described here.</span></span>

+ <span data-ttu-id="7e241-257">**Mantener imagen de entidad de encabezado de facturas de proveedor** - Este privilegio proporciona acceso de lectura/escritura a las imágenes de la factura en el visualizador de adjuntos.</span><span class="sxs-lookup"><span data-stu-id="7e241-257">**Maintain vendor invoice header entity image** – This privilege provides read/write access to the invoice images in the attachment viewer.</span></span>
+ <span data-ttu-id="7e241-258">**Ver imagen de entidad de encabezado de facturas de proveedor** - Este privilegio proporciona acceso de solo lectura a la imagen de la factura en el visualizador de adjuntos.</span><span class="sxs-lookup"><span data-stu-id="7e241-258">**View vendor invoice header entity image** – This privilege provides read-only view to the invoice image in the attachment viewer.</span></span>

<span data-ttu-id="7e241-259">Los siguientes derechos proporcionan acceso de solo lectura al visualizador de adjuntos para dichas acciones:</span><span class="sxs-lookup"><span data-stu-id="7e241-259">The following duties provide read-only access to the attachment viewer for those actions:</span></span>

+ <span data-ttu-id="7e241-260">**Mantener facturas de proveedor** - El privilegio de mantener imagen de entidad de encabezado de facturas de proveedor se asigna a este derecho.</span><span class="sxs-lookup"><span data-stu-id="7e241-260">**Maintain vendor invoices** – The Maintain vendor invoice header entity image privilege is assigned to this duty.</span></span>

<span data-ttu-id="7e241-261">Los siguientes roles proporcionan acceso de solo lectura al visualizador de adjuntos para dichas acciones:</span><span class="sxs-lookup"><span data-stu-id="7e241-261">The following roles provide read-only access to the attachment viewer for those actions:</span></span>

+ <span data-ttu-id="7e241-262">**Funcionario de proveedores** y **Administrador de los proveedores** - El derecho de mantener las facturas de proveedor se asigna a estos roles.</span><span class="sxs-lookup"><span data-stu-id="7e241-262">**Accounts payable clerk** and **Accounts payable manager** – The Maintain vendor invoices duty is assigned to these roles.</span></span>

<span data-ttu-id="7e241-263">De forma predeterminada, si el rol de usuario proporciona derechos de edición en cualquier página, el usuario también tendrá derechos de edición en el visualizador de datos adjuntos para las acciones de resaltar, bloquear y anotar.</span><span class="sxs-lookup"><span data-stu-id="7e241-263">By default, if the user role provides edit rights on any page, the user will also have edit rights on the attachments viewer for the highlighting, block, and annotation actions.</span></span> <span data-ttu-id="7e241-264">Sin embargo, si hay escenarios donde un rol específico debe tener derechos de edición en la página pero no en el visualizador de adjuntos, los privilegios necesarios la lista anterior se pueden utilizar para satisfacer este caso.</span><span class="sxs-lookup"><span data-stu-id="7e241-264">However, if there are scenarios where a specific role should have edit rights on the page but not on the attachment viewer, the appropriate privileges from the preceding list can be used to satisfy the use case.</span></span>
