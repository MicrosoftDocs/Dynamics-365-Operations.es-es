---
title: Aplazar la ejecución de elementos XML en formatos ER
description: Este tema explica cómo diferir la ejecución de un elemento XML en un formato de informe electrónico (ER).
author: NickSelin
ms.date: 03/17/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: EROperationDesigner
audience: Application User, IT Pro
ms.reviewer: kfend
ms.custom: 58771
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2020-01-01
ms.dyn365.ops.version: AX 10.0.9
ms.openlocfilehash: 361e16b0dba3aa46c71477efaa89a2661a3bcd75
ms.sourcegitcommit: 951393b05bf409333cb3c7ad977bcaa804aa801b
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 04/13/2021
ms.locfileid: "5894061"
---
# <a name="defer-the-execution-of-xml-elements-in-er-formats"></a><span data-ttu-id="aed6b-103">Aplazar la ejecución de elementos XML en formatos ER</span><span class="sxs-lookup"><span data-stu-id="aed6b-103">Defer the execution of XML elements in ER formats</span></span>

[!include [banner](../includes/banner.md)]

## <a name="overview"></a><span data-ttu-id="aed6b-104">Visión general</span><span class="sxs-lookup"><span data-stu-id="aed6b-104">Overview</span></span>

<span data-ttu-id="aed6b-105">Puede usar el diseñador de operaciones del marco de [informes electrónicos (ER)](general-electronic-reporting.md) para [configurar](./tasks/er-format-configuration-2016-11.md) el [componente de formato](general-electronic-reporting.md#FormatComponentOutbound) de una solución ER que se utiliza para generar documentos salientes en formato XML.</span><span class="sxs-lookup"><span data-stu-id="aed6b-105">You can use the Operations designer of the [Electronic reporting (ER)](general-electronic-reporting.md) framework to [configure](./tasks/er-format-configuration-2016-11.md) the [format component](general-electronic-reporting.md#FormatComponentOutbound) of an ER solution that is used to generate outbound documents in XML format.</span></span> <span data-ttu-id="aed6b-106">La estructura jerárquica del componente de formato configurado consta de elementos de formato de varios tipos.</span><span class="sxs-lookup"><span data-stu-id="aed6b-106">The hierarchical structure of the configured format component consists of format elements of various types.</span></span> <span data-ttu-id="aed6b-107">Estos elementos de formato se utilizan para completar los documentos generados con la información requerida en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="aed6b-107">These format elements are used to fill generated documents with the required information at runtime.</span></span> <span data-ttu-id="aed6b-108">De forma predeterminada, cuando ejecuta un formato ER, los elementos de formato se ejecutan en el mismo orden en que se presentan en la jerarquía de formato: uno por uno, de arriba a abajo.</span><span class="sxs-lookup"><span data-stu-id="aed6b-108">By default, when you run an ER format, the format elements are run in the same order as they are presented in the format hierarchy: one by one, from top to bottom.</span></span> <span data-ttu-id="aed6b-109">Sin embargo, en tiempo de diseño, puede cambiar el orden de ejecución de cualquier elemento XML del componente de formato configurado.</span><span class="sxs-lookup"><span data-stu-id="aed6b-109">However, at design time, you can change the execution order for any XML elements of the configured format component.</span></span>

<span data-ttu-id="aed6b-110">Al activar la opción <a name="DeferredXmlElementExecution"></a>**Ejecución aplazada** para un elemento XML en el formato configurado, puede diferir (posponer) la ejecución de ese elemento.</span><span class="sxs-lookup"><span data-stu-id="aed6b-110">By turning on the <a name="DeferredXmlElementExecution"></a>**Deferred execution** option for an XML element in the configured format, you can defer (postpone) the execution of that element.</span></span> <span data-ttu-id="aed6b-111">En este caso, el elemento no se ejecuta hasta que se hayan ejecutado todos los demás elementos de su elemento primario.</span><span class="sxs-lookup"><span data-stu-id="aed6b-111">In this case, the element isn't run until all other elements of its parent have been run.</span></span>

<span data-ttu-id="aed6b-112">Para obtener más información acerca de esta característica, complete el ejemplo de este tema.</span><span class="sxs-lookup"><span data-stu-id="aed6b-112">To learn more about this feature, complete the example in this topic.</span></span>

## <a name="limitations"></a><span data-ttu-id="aed6b-113">Limitaciones</span><span class="sxs-lookup"><span data-stu-id="aed6b-113">Limitations</span></span>

<span data-ttu-id="aed6b-114">La opción **Ejecución aplazada** solo se admite para elementos XML configurados para un formato ER que se utiliza para generar documentos **salientes** en formato XML.</span><span class="sxs-lookup"><span data-stu-id="aed6b-114">The **Deferred execution** option is supported only for XML elements that are configured for an ER format that is used to generate **outbound** documents in XML format.</span></span>

<span data-ttu-id="aed6b-115">La opción **Ejecución diferida** solo se admite para elementos XML que residen en otro elemento XML.</span><span class="sxs-lookup"><span data-stu-id="aed6b-115">The **Deferred execution** option is supported only for XML elements that reside in only one other XML element.</span></span> <span data-ttu-id="aed6b-116">Por lo tanto, no es aplicable a elementos XML que residen en otros tipos de elementos de formato (por ejemplo, en un elemento **Secuencia XML**).</span><span class="sxs-lookup"><span data-stu-id="aed6b-116">Therefore, it isn't applicable to XML elements that reside in other types of format elements (for example, in an **XML sequence** element).</span></span>

<span data-ttu-id="aed6b-117">La opción **Ejecución aplazada** no es compatible con elementos XML que residen en el elemento de formato **Common\\File** cuando el la opción **Archivo dividido** está establecida en **Sí**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-117">The **Deferred execution** option isn't supported for XML elements that reside in the **Common\\File** format element when the **Split file** option is set to **Yes**.</span></span> <span data-ttu-id="aed6b-118">Para más información acerca de cómo dividir archivos XML, consulte [Dividir los archivos XML generados según su tamaño y la cantidad de contenido](er-split-files.md).</span><span class="sxs-lookup"><span data-stu-id="aed6b-118">For more information about how to split XML files, see [Split generated XML files based on file size and content quantity](er-split-files.md).</span></span>

## <a name="example-defer-the-execution-of-an-xml-element-in-an-er-format"></a><a name="Example"></a><span data-ttu-id="aed6b-119">Ejemplo: aplazar la ejecución de un elemento XML en formato ER</span><span class="sxs-lookup"><span data-stu-id="aed6b-119">Example: Defer the execution of an XML element in an ER format</span></span>

<span data-ttu-id="aed6b-120">Los siguientes pasos explican cómo un usuario con el [rol](../sysadmin/tasks/assign-users-security-roles.md) de administrador del sistema o consultor funcional de informes electrónicos puede configurar un formato ER que contiene un elemento XML donde el orden de ejecución difiere del orden de la jerarquía de formatos.</span><span class="sxs-lookup"><span data-stu-id="aed6b-120">The following steps explain how a user in the System administrator or Electronic reporting functional consultant [role](../sysadmin/tasks/assign-users-security-roles.md) can configure an ER format that contains an XML element where the order of execution differs from the order in the format hierarchy.</span></span>

<span data-ttu-id="aed6b-121">Estos pasos se pueden llevar a cabo en la empresa **USMF** de Microsoft Dynamics 365 Finance.</span><span class="sxs-lookup"><span data-stu-id="aed6b-121">These steps can be performed in the **USMF** company in Microsoft Dynamics 365 Finance.</span></span>

### <a name="prerequisites"></a><span data-ttu-id="aed6b-122">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="aed6b-122">Prerequisites</span></span>

<span data-ttu-id="aed6b-123">Para este ejemplo, debe tener acceso a la empresa **USMF** de Finance para uno de los roles siguientes:</span><span class="sxs-lookup"><span data-stu-id="aed6b-123">To complete this example, you must have access to the **USMF** company in Finance for one of the following roles:</span></span>

- <span data-ttu-id="aed6b-124">Consultor funcional de informes electrónicos</span><span class="sxs-lookup"><span data-stu-id="aed6b-124">Electronic reporting functional consultant</span></span>
- <span data-ttu-id="aed6b-125">Administrador del sistema</span><span class="sxs-lookup"><span data-stu-id="aed6b-125">System administrator</span></span>

<span data-ttu-id="aed6b-126">Si aún no ha completado el ejemplo del tema [Aplazar la ejecución de elementos de secuencia en formatos ER](er-defer-sequence-element.md#Example), descargue las siguientes [configuraciones](general-electronic-reporting.md#Configuration) de la solución ER de ejemplo.</span><span class="sxs-lookup"><span data-stu-id="aed6b-126">If you haven't yet completed the example in the [Defer the execution of sequence elements in ER formats](er-defer-sequence-element.md#Example) topic, download the following [configurations](general-electronic-reporting.md#Configuration) of the sample ER solution.</span></span>

| <span data-ttu-id="aed6b-127">Descripción del contenido</span><span class="sxs-lookup"><span data-stu-id="aed6b-127">Content description</span></span>            | <span data-ttu-id="aed6b-128">Nombre de archivo</span><span class="sxs-lookup"><span data-stu-id="aed6b-128">File name</span></span> |
|--------------------------------|-----------|
| <span data-ttu-id="aed6b-129">Configuración del modelo datos de ER</span><span class="sxs-lookup"><span data-stu-id="aed6b-129">ER data model configuration</span></span>    | [<span data-ttu-id="aed6b-130">Model to learn deferred elements.version.1.xml</span><span class="sxs-lookup"><span data-stu-id="aed6b-130">Model to learn deferred elements.version.1.xml</span></span>](https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg) |
| <span data-ttu-id="aed6b-131">Configuración de la asignación del modelo ER</span><span class="sxs-lookup"><span data-stu-id="aed6b-131">ER model mapping configuration</span></span> | [<span data-ttu-id="aed6b-132">Mapping to learn deferred elements.version.1.1.xml</span><span class="sxs-lookup"><span data-stu-id="aed6b-132">Mapping to learn deferred elements.version.1.1.xml</span></span>](https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg) |

<span data-ttu-id="aed6b-133">Antes de comenzar, también debe descargar y guardar la siguiente configuración de la solución ER de ejemplo en su equipo local.</span><span class="sxs-lookup"><span data-stu-id="aed6b-133">Before you begin, you must also download and save the following configuration of the sample ER solution to your local computer.</span></span>

| <span data-ttu-id="aed6b-134">Descripción del contenido</span><span class="sxs-lookup"><span data-stu-id="aed6b-134">Content description</span></span>     | <span data-ttu-id="aed6b-135">Nombre de archivo</span><span class="sxs-lookup"><span data-stu-id="aed6b-135">File name</span></span> |
|-------------------------|-----------|
| <span data-ttu-id="aed6b-136">Configuración del formato de ER</span><span class="sxs-lookup"><span data-stu-id="aed6b-136">ER format configuration</span></span> | [<span data-ttu-id="aed6b-137">Format to learn deferred XML elements.version.1.1.xml</span><span class="sxs-lookup"><span data-stu-id="aed6b-137">Format to learn deferred XML elements.version.1.1.xml</span></span>](https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg) |

### <a name="import-the-sample-er-configurations"></a><span data-ttu-id="aed6b-138">Importar las configuraciones de ER de ejemplo</span><span class="sxs-lookup"><span data-stu-id="aed6b-138">Import the sample ER configurations</span></span>

1. <span data-ttu-id="aed6b-139">Vaya a **Administración de la organización** \> **Espacios de trabajo** \> **Informes electrónicos**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-139">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="aed6b-140">Seleccione **Configuraciones de informes**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-140">Select **Reporting configurations**.</span></span>
3. <span data-ttu-id="aed6b-141">En la página **Configuraciones**, si la configuración **Modelo para aprender elementos aplazados** no está disponible en el árbol de configuración, impórtela del modelo de datos ER:</span><span class="sxs-lookup"><span data-stu-id="aed6b-141">On the **Configurations** page, if the **Model to learn deferred elements** configuration isn't available in the configuration tree, import the ER data model configuration:</span></span>

    1. <span data-ttu-id="aed6b-142">Seleccione **Intercambiar** y luego seleccione **Cargar desde archivo XML**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-142">Select **Exchange**, and then select **Load from XML file**.</span></span>
    2. <span data-ttu-id="aed6b-143">Seleccione **Examinar**, encuentre y seleccione el archivo **Model to learn deferred elements.1.xml** y luego seleccione **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-143">Select **Browse**, find and select the **Model to learn deferred elements.1.xml** file, and then select **OK**.</span></span>

4. <span data-ttu-id="aed6b-144">Si la configuración **Asignación para aprender elementos aplazados** no está disponible en el árbol de configuración, impórtela del modelo de datos ER:</span><span class="sxs-lookup"><span data-stu-id="aed6b-144">If the **Mapping to learn deferred elements** configuration isn't available in the configuration tree, import the ER model mapping configuration:</span></span>

    1. <span data-ttu-id="aed6b-145">Seleccione **Intercambiar** y luego seleccione **Cargar desde archivo XML**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-145">Select **Exchange**, and then select **Load from XML file**.</span></span>
    2. <span data-ttu-id="aed6b-146">Seleccione **Examinar**, encuentre y seleccione el archivo **Mapping to learn deferred elements.1.1.xml** y luego seleccione **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-146">Select **Browse**, find and select the **Mapping to learn deferred elements.1.1.xml** file, and then select **OK**.</span></span>

5. <span data-ttu-id="aed6b-147">Importar la configuración de formato ER:</span><span class="sxs-lookup"><span data-stu-id="aed6b-147">Import the ER format configuration:</span></span>

    1. <span data-ttu-id="aed6b-148">Seleccione **Intercambiar** y luego seleccione **Cargar desde archivo XML**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-148">Select **Exchange**, and then select **Load from XML file**.</span></span>
    2. <span data-ttu-id="aed6b-149">Seleccione **Examinar**, encuentre y seleccione el archivo **Format to learn deferred XML elements.1.1.xml** y luego seleccione **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-149">Select **Browse**, find and select the **Format to learn deferred XML elements.1.1.xml** file, and then select **OK**.</span></span>

6. <span data-ttu-id="aed6b-150">En el árbol de configuración, expanda **Modelo para aprender elementos aplazados**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-150">In the configuration tree, expand **Model to learn deferred elements**.</span></span>
7. <span data-ttu-id="aed6b-151">Revise la lista de configuraciones de ER importadas en el árbol de configuración.</span><span class="sxs-lookup"><span data-stu-id="aed6b-151">Review the list of imported ER configurations in the configuration tree.</span></span>

    ![Configuraciones de ER importadas en la página Configuraciones](./media/ER-DeferredXml-Configurations.png)

### <a name="activate-a-configuration-provider"></a><span data-ttu-id="aed6b-153">Activar un proveedor de configuración</span><span class="sxs-lookup"><span data-stu-id="aed6b-153">Activate a configuration provider</span></span>

1. <span data-ttu-id="aed6b-154">Vaya a **Administración de la organización** \> **Espacios de trabajo** \> **Informes electrónicos**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-154">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="aed6b-155">En la página **Configuraciones de localización**, en la sección **Proveedores de configuración**, compruebe que aparece el [proveedor de la configuración](general-electronic-reporting.md#Provider) para la empresa de ejemplo Litware, Inc. (`http://www.litware.com`) y que se ha marcado como activo.</span><span class="sxs-lookup"><span data-stu-id="aed6b-155">On the **Localization configurations** page, in the **Configuration providers** section, make sure that the [configuration provider](general-electronic-reporting.md#Provider) for the Litware, Inc. (`http://www.litware.com`) sample company is listed, and that it's marked as active.</span></span> <span data-ttu-id="aed6b-156">Si este proveedor de configuración no aparece en la lista o si no está marcado como activo, siga los pasos de [Crear un proveedor de configuración y marcarlo como activo](./tasks/er-configuration-provider-mark-it-active-2016-11.md).</span><span class="sxs-lookup"><span data-stu-id="aed6b-156">If this configuration provider isn't listed, or if it isn't marked as active, follow the steps in the [Create a configuration provider and mark it as active](./tasks/er-configuration-provider-mark-it-active-2016-11.md) topic.</span></span>

    ![Empresa de ejemplo Litware, Inc. en la página Configuraciones de localización](./media/ER-DeferredXml-ElectronicReportingWorkspace.png)

### <a name="review-the-imported-model-mapping"></a><span data-ttu-id="aed6b-158">Revisar la asignación de modelo importada</span><span class="sxs-lookup"><span data-stu-id="aed6b-158">Review the imported model mapping</span></span>

<span data-ttu-id="aed6b-159">Revise la configuración del componente de asignación del modelo ER que está configurado para acceder a las transacciones fiscales y exponer los datos a los que se tiene acceso a petición.</span><span class="sxs-lookup"><span data-stu-id="aed6b-159">Review the settings of the ER model mapping component that is configured to access tax transactions and expose accessed data on request.</span></span>

1. <span data-ttu-id="aed6b-160">Vaya a **Administración de la organización** \> **Espacios de trabajo** \> **Informes electrónicos**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-160">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="aed6b-161">Seleccione **Configuraciones de informes**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-161">Select **Reporting configurations**.</span></span>
3. <span data-ttu-id="aed6b-162">En la página **Configuraciones**, en el árbol de configuraciones, expanda **Modelo para aprender elementos aplazados**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-162">On the **Configurations** page, in the configuration tree, expand **Model to learn deferred elements**.</span></span>
4. <span data-ttu-id="aed6b-163">Seleccione la configuración **Asignación para aprender elementos aplazados**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-163">Select the **Mapping to learn deferred elements** configuration.</span></span>
5. <span data-ttu-id="aed6b-164">Seleccione **Diseñador** para abrir la lista de asignaciones.</span><span class="sxs-lookup"><span data-stu-id="aed6b-164">Select **Designer** to open the list of mappings.</span></span>
6. <span data-ttu-id="aed6b-165">Seleccione **Diseñador** para revisar los detalles de la asignación.</span><span class="sxs-lookup"><span data-stu-id="aed6b-165">Select **Designer** to review the mapping details.</span></span>
7. <span data-ttu-id="aed6b-166">Seleccionar **Mostrar detalles**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-166">Select **Show details**.</span></span>
8. <span data-ttu-id="aed6b-167">Revise los orígenes de datos que están configurados para acceder a las transacciones fiscales:</span><span class="sxs-lookup"><span data-stu-id="aed6b-167">Review the data sources that are configured to access tax transactions:</span></span>

    - <span data-ttu-id="aed6b-168">El origen de datos **Transacciones** del tipo *Registro de tabla* está configurado para acceder a los registros de la tabla de aplicaciones **TaxTrans**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-168">The **Transactions** data source of the *Table record* type is configured to access records of the **TaxTrans** application table.</span></span>
    - <span data-ttu-id="aed6b-169">El origen de datos **Asientos** del tipo *Campo calculado* está configurado para devolver los códigos de asiento necesarios (**INV-10000349** y **INV-10000350**) como una lista de registros.</span><span class="sxs-lookup"><span data-stu-id="aed6b-169">The **Vouchers** data source of the *Calculated field* type is configured to return the required voucher codes (**INV-10000349** and **INV-10000350**) as a list of records.</span></span>
    - <span data-ttu-id="aed6b-170">El origen de datos **Filtrado** del tipo *Campo calculado* está configurado para seleccionar, desde el origen de datos **Transacciones**, solo las transacciones de impuestos de los asientos requeridos.</span><span class="sxs-lookup"><span data-stu-id="aed6b-170">The **Filtered** data source of the *Calculated field* type is configured to select, from the **Transactions** data source, only tax transactions of the required vouchers.</span></span>
    - <span data-ttu-id="aed6b-171">El campo **\$TaxAmount** del tipo *Campo calculado* se agrega para que el origen de datos **Filtrado** exponga el valor del impuesto que tiene el signo opuesto.</span><span class="sxs-lookup"><span data-stu-id="aed6b-171">The **\$TaxAmount** field of the *Calculated field* type is added for the **Filtered** data source to expose the tax value that has the opposite sign.</span></span>
    - <span data-ttu-id="aed6b-172">El origen de datos **Agrupado** del tipo *Agrupar por* está configurado para agrupar transacciones de impuestos filtradas del origen de datos **Filtrado**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-172">The **Grouped** data source of the *Group By* type is configured to group filtered tax transactions of the **Filtered** data source.</span></span>
    - <span data-ttu-id="aed6b-173">El campo de agregación **TotalSum** del origen de datos **Agrupado** está configurado para resumir los valores del campo **\$TaxAmount** del origen de datos **Filtrado** para todas las transacciones de impuestos filtradas de ese origen de datos.</span><span class="sxs-lookup"><span data-stu-id="aed6b-173">The **TotalSum** aggregation field of the **Grouped** data source is configured to summarize values of the **\$TaxAmount** field of the **Filtered** data source for all filtered tax transactions of that data source.</span></span>

        ![Campo de agregación TotalSum en la página de parámetros Editar 'GroupBy'](./media/ER-DeferredXml-GroupByParameters.png)

9. <span data-ttu-id="aed6b-175">Revise cómo los orígenes de datos configurados están vinculados al modelo de datos y cómo exponen los datos a los que se accede para que estén disponibles en un formato ER:</span><span class="sxs-lookup"><span data-stu-id="aed6b-175">Review how the configured data sources are bound to the data model, and how they expose accessed data to make it available in an ER format:</span></span>

    - <span data-ttu-id="aed6b-176">El origen de datos **Filtrado** está vinculado al campo **Lista de datos** del modelo de datos.</span><span class="sxs-lookup"><span data-stu-id="aed6b-176">The **Filtered** data source is bound to the **Data.List** field of the data model.</span></span>
    - <span data-ttu-id="aed6b-177">El campo **\$TaxAmount** del origen de datos **Filtrado** está vinculado al campo **Data.List.Value** del modelo de datos.</span><span class="sxs-lookup"><span data-stu-id="aed6b-177">The **\$TaxAmount** field of the **Filtered** data source is bound to the **Data.List.Value** field of the data model.</span></span>
    - <span data-ttu-id="aed6b-178">El campo **TotalSum** del origen de datos **Agrupado** está vinculado al campo **Data.Summary.Total** del modelo de datos.</span><span class="sxs-lookup"><span data-stu-id="aed6b-178">The **TotalSum** field of the **Grouped** data source is bound to the **Data.Summary.Total** field of the data model.</span></span>

    ![Página de diseñador de asignación de modelos](./media/ER-DeferredXml-ModelMapping.png)

10. <span data-ttu-id="aed6b-180">Cierre las páginas **Diseñador de asignación de modelos** y **Asignaciones de modelos**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-180">Close the **Model mapping designer** and **Model mappings** pages.</span></span>

### <a name="review-the-imported-format"></a><span data-ttu-id="aed6b-181">Revisar el formato importado</span><span class="sxs-lookup"><span data-stu-id="aed6b-181">Review the imported format</span></span>

1. <span data-ttu-id="aed6b-182">En la página **Configuraciones**, en el árbol de configuración, seleccione la configuración **Formato para aprender elementos XML aplazados**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-182">On the **Configurations** page, in the configuration tree, select the **Format to learn deferred XML elements** configuration.</span></span>
2. <span data-ttu-id="aed6b-183">Seleccione **Diseñador** para revisar los detalles de la asignación.</span><span class="sxs-lookup"><span data-stu-id="aed6b-183">Select **Designer** to review the format details.</span></span>
3. <span data-ttu-id="aed6b-184">Seleccionar **Mostrar detalles**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-184">Select **Show details**.</span></span>
4. <span data-ttu-id="aed6b-185">Revise la configuración de los componentes del formato ER que están configurados para generar un documento saliente en formato XML que incluye detalles de las transacciones fiscales:</span><span class="sxs-lookup"><span data-stu-id="aed6b-185">Review the settings of the ER format components that are configured to generate an outbound document in XML format that includes details of the tax transactions:</span></span>

    - <span data-ttu-id="aed6b-186">El elemento XML **Report\\Message** está configurado para llenar el documento saliente con un solo nodo que incluye los elementos XML anidados (**Header**, **Record** y **Summary**).</span><span class="sxs-lookup"><span data-stu-id="aed6b-186">The **Report\\Message** XML element is configured to fill the outbound document with a single node that includes the nested XML elements (**Header**, **Record**, and **Summary**).</span></span>
    - <span data-ttu-id="aed6b-187">El elemento XML **Report\\Message\\Header** está configurado para llenar el documento saliente con un solo nodo de encabezado que muestra la fecha y la hora en que comienza el procesamiento.</span><span class="sxs-lookup"><span data-stu-id="aed6b-187">The **Report\\Message\\Header** XML element is configured to fill the outbound document with a single header node that shows the date and time when the processing starts.</span></span>
    - <span data-ttu-id="aed6b-188">El elemento XML **Report \\Message\\Record** está configurado para llenar el documento saliente con un solo nodo de registro que muestra los detalles de una sola transacción de impuestos.</span><span class="sxs-lookup"><span data-stu-id="aed6b-188">The **Report \\Message\\Record** XML element is configured to fill the outbound document with a single record node that shows the details of a single tax transaction.</span></span>
    - <span data-ttu-id="aed6b-189">El elemento XML **Report\\Message\\Summary** está configurado para llenar el documento saliente con un solo nodo de resumen que incluye la suma de los valores de impuestos de las transacciones de impuestos procesadas.</span><span class="sxs-lookup"><span data-stu-id="aed6b-189">The **Report\\Message\\Summary** XML element is configured to fill the outbound document with a single summary node that includes the sum of the tax values from the processed tax transactions.</span></span>

    ![Elemento XML de mensaje y elementos XML anidados en la página Diseñador de formato](./media/ER-DeferredXml-Format.png)

5. <span data-ttu-id="aed6b-191">En la pestaña **Cartografía**, revise los siguientes detalles:</span><span class="sxs-lookup"><span data-stu-id="aed6b-191">On the **Mapping** tab, review the following details:</span></span>

    - <span data-ttu-id="aed6b-192">El elemento **Report\\Message\\Header** no tiene que estar vinculado a un origen para generar un solo nodo en un documento saliente.</span><span class="sxs-lookup"><span data-stu-id="aed6b-192">The **Report\\Message\\Header** element doesn't have to be bound to a source to generate a single node in an outbound document.</span></span>
    - <span data-ttu-id="aed6b-193">El atributo **ExecutionDateTime** genera la fecha y la hora (incluidos los milisegundos) en que se agrega el nodo de encabezado.</span><span class="sxs-lookup"><span data-stu-id="aed6b-193">The **ExecutionDateTime** attribute generates the date and time (including milliseconds) when the header node is added.</span></span>
    - <span data-ttu-id="aed6b-194">El elemento **Report\\Message\\Record** está ligado a la lista **model.Data.List** para generar un solo nodo de registro para cada registro de la lista enlazada.</span><span class="sxs-lookup"><span data-stu-id="aed6b-194">The **Report\\Message\\Record** element is bound to the **model.Data.List** list to generate a single record node for every record from the bound list.</span></span>
    - <span data-ttu-id="aed6b-195">El atributo **TaxAmount** está enlazado a **model.Data.List.Value** (que se muestra como **\@.Value** en la vista de ruta relativa) para generar el valor fiscal de la transacción fiscal actual.</span><span class="sxs-lookup"><span data-stu-id="aed6b-195">The **TaxAmount** attribute is bound to **model.Data.List.Value** (which is shown as **\@.Value** in the relative path view) to generate the tax value of the current tax transaction.</span></span>
    - <span data-ttu-id="aed6b-196">El atributo **RunningTotal** es un marcador de posición para el total acumulado de los valores impositivos.</span><span class="sxs-lookup"><span data-stu-id="aed6b-196">The **RunningTotal** attribute is a placeholder for the running total of the tax values.</span></span> <span data-ttu-id="aed6b-197">Actualmente, este atributo no tiene salida, ya que no tiene configurados un enlace ni un valor predeterminado.</span><span class="sxs-lookup"><span data-stu-id="aed6b-197">Currently, this attribute has no output, because neither a binding nor a default value is configured for it.</span></span>
    - <span data-ttu-id="aed6b-198">El atributo **ExecutionDateTime** genera la fecha y la hora (incluidos los milisegundos) en que se procesa la transacción actual en este informe.</span><span class="sxs-lookup"><span data-stu-id="aed6b-198">The **ExecutionDateTime** attribute generates the date and time (including milliseconds) when the current transaction is processed in this report.</span></span>
    - <span data-ttu-id="aed6b-199">El elemento **Report\\Message\\Summary** no tiene que estar vinculado a un origen de datos para generar un solo nodo en un documento saliente.</span><span class="sxs-lookup"><span data-stu-id="aed6b-199">The **Report\\Message\\Summary** element doesn't have to be bound to a data source to generate a single node in an outbound document.</span></span>
    - <span data-ttu-id="aed6b-200">El atributo **TotalTaxAmount** está enlazado a **model.Data.Summary.Total** para generar la suma de los valores fiscales de las transacciones fiscales procesadas.</span><span class="sxs-lookup"><span data-stu-id="aed6b-200">The **TotalTaxAmount** attribute is bound to **model.Data.Summary.Total** to generate the sum of the tax values of the processed tax transactions.</span></span>
    - <span data-ttu-id="aed6b-201">El atributo **ExecutionDateTime** genera la fecha y la hora (incluidos los milisegundos) en que se agrega el nodo de resumen.</span><span class="sxs-lookup"><span data-stu-id="aed6b-201">The **ExecutionDateTime** attribute generates the date and time (including milliseconds) when the summary node is added.</span></span>

    ![Pestaña Asignación en la página Diseñador de formato](./media/ER-DeferredXml-Format2.png)

### <a name="run-the-imported-format"></a><span data-ttu-id="aed6b-203">Ejecutar el formato importado</span><span class="sxs-lookup"><span data-stu-id="aed6b-203">Run the imported format</span></span>

1. <span data-ttu-id="aed6b-204">En la página **Diseñador de formato**, seleccione **Ejecutar**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-204">On the **Format designer** page, select **Run**.</span></span>
2. <span data-ttu-id="aed6b-205">Descargue el archivo que ofrece el navegador web y ábralo para su revisión.</span><span class="sxs-lookup"><span data-stu-id="aed6b-205">Download the file that the web browser offers, and open it for review.</span></span>

    ![Archivo descargado](./media/ER-DeferredXml-Run.png)

<span data-ttu-id="aed6b-207">Observe que el nodo de resumen presenta la suma de los valores de impuestos para las transacciones procesadas.</span><span class="sxs-lookup"><span data-stu-id="aed6b-207">Notice that the summary node presents the sum of the tax values for the processed transactions.</span></span> <span data-ttu-id="aed6b-208">Debido a que el formato está configurado para usar el enlace **model.Data.Summary.Total** para devolver esta suma, la suma se calcula llamando a la agregación **TotalSum** del origen de datos **Grouped** del tipo *GroupBy* en la asignación del modelo.</span><span class="sxs-lookup"><span data-stu-id="aed6b-208">Because the format is configured to use the **model.Data.Summary.Total** binding to return this sum, the sum is calculated by calling the **TotalSum** aggregation of the **Grouped** data source of the *GroupBy* type in the model mapping.</span></span> <span data-ttu-id="aed6b-209">Para calcular esta agregación, la asignación de modelo recorre en iteración todas las transacciones que se han seleccionado en el origen de datos **Filtered**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-209">To calculate this aggregation, the model mapping iterates over all transactions that have been selected in the **Filtered** data source.</span></span> <span data-ttu-id="aed6b-210">Al comparar los tiempos de ejecución del nodo de resumen y el último nodo de registro, puede determinar que el cálculo de la suma tomó 12 milisegundos (ms).</span><span class="sxs-lookup"><span data-stu-id="aed6b-210">By comparing the execution times of the summary node and the last record node, you can determine that calculation of the sum took 12 milliseconds (ms).</span></span> <span data-ttu-id="aed6b-211">Al comparar los tiempos de ejecución del primer y último nodo de registro, puede determinar que la generación y suma de todos los nodos de registro tardó 9 ms.</span><span class="sxs-lookup"><span data-stu-id="aed6b-211">By comparing the execution times of the first and last record nodes, you can determine that generation of all record nodes took 9 ms.</span></span> <span data-ttu-id="aed6b-212">Por lo tanto, se requirió un total de 21 ms.</span><span class="sxs-lookup"><span data-stu-id="aed6b-212">Therefore, a total of 21 ms was required.</span></span>

### <a name="modify-the-format-so-that-the-calculation-is-based-on-generated-output"></a><span data-ttu-id="aed6b-213">Modificar el formato para que el cálculo se base en la salida generada</span><span class="sxs-lookup"><span data-stu-id="aed6b-213">Modify the format so that the calculation is based on generated output</span></span>

<span data-ttu-id="aed6b-214">Si el volumen de transacción es mucho mayor que el volumen del ejemplo actual, el tiempo de cálculo podría aumentar y causar problemas de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="aed6b-214">If the volume of transaction is much larger than the volume in the current example, the calculation time might increase and cause performance issues.</span></span> <span data-ttu-id="aed6b-215">Cambiar la configuración del formato puede ayudar a prevenir estos problemas de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="aed6b-215">By changing the setting of the format, you can help prevent these performance issues.</span></span> <span data-ttu-id="aed6b-216">Debido a que accede a los valores de impuestos para incluirlos en el informe generado, puede reutilizar esta información para calcular valores de impuestos.</span><span class="sxs-lookup"><span data-stu-id="aed6b-216">Because you access tax values to include them in the generated report, you can reuse this information to calculate tax values.</span></span> <span data-ttu-id="aed6b-217">Para más información, vea [Configurar el formato para contar y sumar](./tasks/er-format-counting-summing-1.md).</span><span class="sxs-lookup"><span data-stu-id="aed6b-217">For more information, see [Configure format to do counting and summing](./tasks/er-format-counting-summing-1.md).</span></span>

1. <span data-ttu-id="aed6b-218">En la página **Diseñador de formatos**, en la pestaña **Formato**, seleccione el elemento de archivo **Informe** en el árbol de formato.</span><span class="sxs-lookup"><span data-stu-id="aed6b-218">On the **Format designer** page, on the **Format** tab, select the **Report** file element in the format tree.</span></span>
2. <span data-ttu-id="aed6b-219">Establezca la opción **Recopilar detalles de salida** en **Sí**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-219">Set the **Collect output details** option to **Yes**.</span></span> <span data-ttu-id="aed6b-220">Ahora puede configurar este formato utilizando el contenido de un informe generado como origen de datos al que se puede acceder utilizando las funciones ER integradas en la categoría [Recopilación de datos](er-functions-category-data-collection.md).</span><span class="sxs-lookup"><span data-stu-id="aed6b-220">You can now configure this format by using the content of a generated report as a data source that can be accessed by using the built-in ER functions in the [Data collection](er-functions-category-data-collection.md) category.</span></span>
3. <span data-ttu-id="aed6b-221">En la pestaña **Asignación**, seleccione el elemento XML **Report\\Message\\Record**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-221">On the **Mapping** tab, select the **Report\\Message\\Record** XML element.</span></span>
4. <span data-ttu-id="aed6b-222">Configure la expresión **Nombre de clave de datos recopilados** como `WsColumn`.</span><span class="sxs-lookup"><span data-stu-id="aed6b-222">Configure the **Collected data key name** expression as `WsColumn`.</span></span>
5. <span data-ttu-id="aed6b-223">Configure la expresión **Valor de clave de datos recopilados** como `WsRow`.</span><span class="sxs-lookup"><span data-stu-id="aed6b-223">Configure the **Collected data key value** expression as `WsRow`.</span></span>

    ![Elemento XML de registro en la página Diseñador de formato](./media/ER-DeferredXml-Format3.png)

6. <span data-ttu-id="aed6b-225">Seleccione el atributo **Report\\Message\\Record\\TaxAmount**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-225">Select the **Report\\Message\\Record\\TaxAmount** attribute.</span></span>
7. <span data-ttu-id="aed6b-226">Configure la expresión **Nombre de clave de datos recopilados** como `SummingAmountKey`.</span><span class="sxs-lookup"><span data-stu-id="aed6b-226">Configure the **Collected data key name** expression as `SummingAmountKey`.</span></span>

    ![Atributo TaxAmount en la página Diseñador de formato](./media/ER-DeferredXml-Format4.png)

    <span data-ttu-id="aed6b-228">Puede considerar esta configuración como el cumplimiento de una hoja de trabajo virtual, donde el valor de la celda A1 se agrega con el valor del importe de los impuestos de cada transacción de impuestos procesada.</span><span class="sxs-lookup"><span data-stu-id="aed6b-228">You can consider this setting the fulfillment of a virtual worksheet, where the value of cell A1 is appended with the value of the tax amount from every processed tax transaction.</span></span>

8. <span data-ttu-id="aed6b-229">Seleccione el atributo **Report\\Message\\Record\\RunningTotal** y luego seleccione **Editar fórmula**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-229">Select the **Report\\Message\\Record\\RunningTotal** attribute, and then select **Edit formula**.</span></span>
9. <span data-ttu-id="aed6b-230">Configure la expresión `SUMIF(SummingAmountKey, WsColumn, WsRow)` utilizando la función ER [SUMIF](er-functions-datacollection-sumif.md) integrada y seleccione **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-230">Configure the `SUMIF(SummingAmountKey, WsColumn, WsRow)` expression by using the built-in [SUMIF](er-functions-datacollection-sumif.md) ER function, and then select **Save**.</span></span>

    ![Expresión SUMIF](./media/ER-DeferredXml-FormulaDesigner.png)

10. <span data-ttu-id="aed6b-232">Cierre la página **Diseñador de fórmula**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-232">Close the **Formula designer** page.</span></span>
11. <span data-ttu-id="aed6b-233">Seleccione **Guardar** y, a continuación, seleccione **Ejecutar**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-233">Select **Save**, and then select **Run**.</span></span>
12. <span data-ttu-id="aed6b-234">Descargue y revise el archivo que ofrece el navegador web.</span><span class="sxs-lookup"><span data-stu-id="aed6b-234">Download and review the file that the web browser offers.</span></span>

    ![Archivo descargado](./media/ER-DeferredXml-Run1.png)

    <span data-ttu-id="aed6b-236">El último nodo de registro contiene el total acumulado de los valores impositivos para todas las transacciones procesadas utilizando la salida generada como origen de datos.</span><span class="sxs-lookup"><span data-stu-id="aed6b-236">The last record node contains the running total of tax values that is calculated for all processed transactions by using the generated output as a data source.</span></span> <span data-ttu-id="aed6b-237">Este origen de datos comienza desde el principio del informe y continúa hasta la última transacción fiscal.</span><span class="sxs-lookup"><span data-stu-id="aed6b-237">This data source starts from the beginning of the report and continues through the last tax transaction.</span></span> <span data-ttu-id="aed6b-238">El nodo de resumen contiene la suma de los valores impositivos para todas las transacciones procesadas que se calculan en la asignación del modelo utilizando el origen de datos del tipo *GroupBy*.</span><span class="sxs-lookup"><span data-stu-id="aed6b-238">The summary node contains the sum of the tax values for all processed transactions that are calculated in the model mapping by using the data source of the *GroupBy* type.</span></span> <span data-ttu-id="aed6b-239">Tenga en cuenta que los valores son iguales.</span><span class="sxs-lookup"><span data-stu-id="aed6b-239">Notice that these values are equal.</span></span> <span data-ttu-id="aed6b-240">Por lo tanto, la suma basada en la salida se puede usar en lugar de **GroupBy**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-240">Therefore, the output-based summing can be used instead of **GroupBy**.</span></span> <span data-ttu-id="aed6b-241">Al comparar los tiempos de ejecución del primer nodo de registro y del nodo de resumen, puede determinar que la generación y suma de todos los nodos de registro tardó 11 ms.</span><span class="sxs-lookup"><span data-stu-id="aed6b-241">By comparing the execution times of the first record node and the summary node, you can determine that generation of all the record nodes and summing took 11 ms.</span></span> <span data-ttu-id="aed6b-242">Por lo tanto, en lo que respecta a la generación de nodos de registro y la suma de los valores fiscales, el formato modificado es aproximadamente dos veces más rápido que el formato original.</span><span class="sxs-lookup"><span data-stu-id="aed6b-242">Therefore, as far as the generation of record nodes and the summing of tax values are concerned, the modified format is approximately two times faster than the original format.</span></span>

13. <span data-ttu-id="aed6b-243">Seleccione el atributo **Report\\Message\\Summary\\TotalTaxAmount** y luego seleccione **Editar fórmula**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-243">Select the **Report\\Message\\Summary\\TotalTaxAmount** attribute, and then select **Edit formula**.</span></span>
14. <span data-ttu-id="aed6b-244">Introduzca la expresión `SUMIF(SummingAmountKey, WsColumn, WsRow)` en lugar de la expresión existente.</span><span class="sxs-lookup"><span data-stu-id="aed6b-244">Enter the `SUMIF(SummingAmountKey, WsColumn, WsRow)` expression instead of the existing expression.</span></span>
15. <span data-ttu-id="aed6b-245">Seleccione **Guardar** y, a continuación, seleccione **Ejecutar**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-245">Select **Save**, and then select **Run**.</span></span>
16. <span data-ttu-id="aed6b-246">Descargue y revise el archivo que ofrece el navegador web.</span><span class="sxs-lookup"><span data-stu-id="aed6b-246">Download and review the file that the web browser offers.</span></span>

    ![Archivo descargado](./media/ER-DeferredXml-Run2.png)

    <span data-ttu-id="aed6b-248">Observe que el total acumulado de los valores de impuestos del último nodo de registro ahora es igual a la suma en el nodo de resumen.</span><span class="sxs-lookup"><span data-stu-id="aed6b-248">Notice that the running total of tax values in the last record node now equals the sum in the summary node.</span></span>

### <a name="put-values-of-output-based-summing-in-the-report-header"></a><span data-ttu-id="aed6b-249">Colocar los valores de la suma basada en la salida en el encabezado del informe</span><span class="sxs-lookup"><span data-stu-id="aed6b-249">Put values of output-based summing in the report header</span></span>

<span data-ttu-id="aed6b-250">Si, por ejemplo, debe presentar la suma de los valores impositivos en el encabezado del informe, puede modificar su formato.</span><span class="sxs-lookup"><span data-stu-id="aed6b-250">If, for example, you must present the sum of tax values in the header of your report, you can modify your format.</span></span>

1. <span data-ttu-id="aed6b-251">En la página **Diseñador de formato**, en la pestaña **Formato**, seleccione el elemento XML **Report\\Message\\Summary**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-251">On the **Format designer** page, on the **Format** tab, select the **Report\\Message\\Summary** XML element.</span></span>
2. <span data-ttu-id="aed6b-252">Seleccione **Subir**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-252">Select **Move up**.</span></span>
3. <span data-ttu-id="aed6b-253">Seleccione **Guardar** y, a continuación, seleccione **Ejecutar**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-253">Select **Save**, and then select **Run**.</span></span>
4. <span data-ttu-id="aed6b-254">Descargue y revise el archivo que ofrece el navegador web.</span><span class="sxs-lookup"><span data-stu-id="aed6b-254">Download and review the file that the web browser offers.</span></span>

    ![Archivo descargado](./media/ER-DeferredXml-Run3.png)

    <span data-ttu-id="aed6b-256">Observe que la suma de los valores impositivos del nodo de resumen ahora es igual a 0 (cero), porque esta suma ahora se calcula en función de la salida generada.</span><span class="sxs-lookup"><span data-stu-id="aed6b-256">Notice that the sum of tax values in the summary node now equals 0 (zero), because this sum is now calculated based on the generated output.</span></span> <span data-ttu-id="aed6b-257">Cuando se genera el primer nodo de registro, la salida generada aún no contiene nodos de registro que tienen detalles de transacción.</span><span class="sxs-lookup"><span data-stu-id="aed6b-257">When the first record node is generated, the generated output doesn't yet contain record nodes that have transaction details.</span></span> <span data-ttu-id="aed6b-258">Puede configurar este formato para aplazar la ejecución del elemento **Report\\Message\\Summary** hasta que el elemento **Report\\Message\\Record** se haya ejecutado para todas las transacciones fiscales.</span><span class="sxs-lookup"><span data-stu-id="aed6b-258">You can configure this format to defer the execution of the **Report\\Message\\Summary** element until the **Report\\Message\\Record** element has been run for all tax transactions.</span></span>

### <a name="defer-the-execution-of-the-summary-xml-element-so-that-the-calculated-total-is-used"></a><span data-ttu-id="aed6b-259">Aplazar la ejecución del elemento XML de resumen para que se use el total calculado</span><span class="sxs-lookup"><span data-stu-id="aed6b-259">Defer the execution of the summary XML element so that the calculated total is used</span></span>

1. <span data-ttu-id="aed6b-260">En la página **Diseñador de formato**, en la pestaña **Formato**, seleccione el elemento XML **Report\\Message\\Summary**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-260">On the **Format designer** page, on the **Format** tab, select the **Report\\Message\\Summary** XML element.</span></span>
2. <span data-ttu-id="aed6b-261">Establezca la opción **Ejecución aplazada** en **Sí**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-261">Set the **Deferred execution** option to **Yes**.</span></span>

    ![Opción Ejecución aplazada del elemento XML Resumen en la página Diseñador de formato](./media/ER-DeferredXml-Format5.png)

3. <span data-ttu-id="aed6b-263">Seleccione **Guardar** y, a continuación, seleccione **Ejecutar**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-263">Select **Save**, and then select **Run**.</span></span>
4. <span data-ttu-id="aed6b-264">Descargue y revise el archivo que ofrece el navegador web.</span><span class="sxs-lookup"><span data-stu-id="aed6b-264">Download and review the file that the web browser offers.</span></span>

    ![Archivo descargado](./media/ER-DeferredXml-Run4.png)

    <span data-ttu-id="aed6b-266">El elemento **Report\\Message\\Summary** ahora se ejecuta solo después de todos los demás elementos que están anidados bajo su elemento principal, **Report\\Message**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-266">The **Report\\Message\\Summary** element is now run only after all other items that are nested under its parent element, **Report\\Message**, have been run.</span></span> <span data-ttu-id="aed6b-267">Por lo tanto, se ejecuta después de que el elemento **Report\\Message\\Record** se haya ejecutado para todas las transacciones fiscales del origen de datos **model.Data.List**.</span><span class="sxs-lookup"><span data-stu-id="aed6b-267">Therefore, it's run after the **Report\\Message\\Record** element has been run for all tax transactions of the **model.Data.List** data source.</span></span> <span data-ttu-id="aed6b-268">Los tiempos de ejecución del primer y último nodo de registro, y de los nodos de encabezado y resumen, revelan este hecho.</span><span class="sxs-lookup"><span data-stu-id="aed6b-268">The execution times of the first and last record nodes, and of the header and summary nodes, reveal this fact.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="aed6b-269">Recursos adicionales</span><span class="sxs-lookup"><span data-stu-id="aed6b-269">Additional resources</span></span>

- [<span data-ttu-id="aed6b-270">Configurar el formato para contar y sumar</span><span class="sxs-lookup"><span data-stu-id="aed6b-270">Configure format to do counting and summing</span></span>](./tasks/er-format-counting-summing-1.md)
- [<span data-ttu-id="aed6b-271">Ejecución de seguimiento del formato de ER para solucionar problemas de rendimiento</span><span class="sxs-lookup"><span data-stu-id="aed6b-271">Trace execution of ER format to troubleshoot performance issues</span></span>](trace-execution-er-troubleshoot-perf.md)
- [<span data-ttu-id="aed6b-272">Aplazar la ejecución de elementos de secuencia en formatos ER</span><span class="sxs-lookup"><span data-stu-id="aed6b-272">Defer the execution of sequence elements in ER formats</span></span>](er-defer-sequence-element.md#Example)


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]