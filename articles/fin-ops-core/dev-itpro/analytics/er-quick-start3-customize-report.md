---
title: Personalizar las configuraciones de informes electrónicos para generar un documento electrónico
description: En este tema se explica cómo personalizar las configuraciones de informe electrónico (ER) proporcionadas por Microsoft para generar un documento electrónico personalizado.
author: NickSelin
manager: AnnBe
ms.date: 10/21/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
ms.search.form: ERWorkspace, ERSolutionTable, ERParameters, ERDataModelDesigner, ERModelMappingTable, ERModelMappingDesigner, EROperationDesigner, ERVendorTable
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.search.scope: Core, Operations
ms.custom: 220314
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-06-30
ms.dyn365.ops.version: Version 7.0.0
ms.openlocfilehash: c19fef3e62eec48e66f7cec824afee3ebb25209e
ms.sourcegitcommit: cc78f9bf585082ce65c2ab0b011ff62620fa883d
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 10/21/2020
ms.locfileid: "4088229"
---
# <a name="customize-electronic-reporting-configurations-to-generate-an-electronic-document"></a><span data-ttu-id="4a1d9-103">Personalizar las configuraciones de informes electrónicos para generar un documento electrónico</span><span class="sxs-lookup"><span data-stu-id="4a1d9-103">Customize Electronic reporting configurations to generate an electronic document</span></span>

[!include[banner](../includes/banner.md)]

<span data-ttu-id="4a1d9-104">El [Marco de informes electrónicos (ER)](general-electronic-reporting.md) permite cargar las [configuraciones](general-electronic-reporting.md#Configuration) de informaciones electrónicos que Microsoft le proporciona a su instancia de Microsoft Dynamics 365 Finance.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-104">The [Electronic reporting (ER) framework](general-electronic-reporting.md) lets you upload the ER [configurations](general-electronic-reporting.md#Configuration) that Microsoft provides into your Microsoft Dynamics 365 Finance instance.</span></span> <span data-ttu-id="4a1d9-105">De esta manera, las configuraciones proporcionadas por Microsoft pueden servir como la solución de informes electrónicos que se utiliza para generar facturas electrónicas de los clientes.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-105">In this way, the Microsoft-provided configurations can serve as the ER solution that is used to generate electronic customer invoices (e-invoices).</span></span> <span data-ttu-id="4a1d9-106">Puede utilizar esta solución de ER para configurar su solución de ER personalizada, a fin de acceder a sus campos de base de datos personalizados y generar facturas electrónicas que cumplan sus requisitos específicos, sin tener que editar el código fuente.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-106">You can use this ER solution to configure your custom ER solution to access your custom database fields and generate e-invoices that are compliant with your specific requirements, without having to edit the source code.</span></span>

## <a name="overview"></a><span data-ttu-id="4a1d9-107">Información general</span><span class="sxs-lookup"><span data-stu-id="4a1d9-107">Overview</span></span>

<span data-ttu-id="4a1d9-108">Para el ejemplo de este tema, debe especificar un código de identificación fiscal federal como un nuevo atributo personalizado de cada cliente al que envíe facturas electrónicas.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-108">For the example in this topic, you must specify a federal tax identification code as a new custom attribute of every customer that you electronically invoice.</span></span> <span data-ttu-id="4a1d9-109">Por lo tanto, debe personalizar la estructura de la factura que se utiliza actualmente, agregando un nuevo artículo que se debe completar con el código de impuestos en cada factura electrónica que se genere.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-109">Therefore, you must customize the structure of the invoice that is currently used, by adding a new item that must be filled with the tax code in every e-invoice that is generated.</span></span>

<span data-ttu-id="4a1d9-110">Los procedimientos de este tema explican cómo un usuario con el rol de administrador del sistema, desarrollador de informes electrónicos o consultor funcional de informes electrónicos puede realizar las tareas siguientes en su instancia de Finance:</span><span class="sxs-lookup"><span data-stu-id="4a1d9-110">The procedures in this topic explain how a user in the System Administrator, Electronic Reporting Developer, or Electronic Reporting Functional Consultant role can perform the following tasks in your Finance instance:</span></span>

- <span data-ttu-id="4a1d9-111">[Configurar el conjunto mínimo de parámetros de ER necesarios para empezar a utilizar el marco de ER](#ConfigureER).</span><span class="sxs-lookup"><span data-stu-id="4a1d9-111">[Configure the minimal set of ER parameters that is required to start to use the ER framework](#ConfigureER).</span></span>
- <span data-ttu-id="4a1d9-112">[Importar las versiones iniciales de las configuraciones estándar de ER que se proporcionan para generar facturas electrónicas](#ImportERConfigurations1).</span><span class="sxs-lookup"><span data-stu-id="4a1d9-112">[Import the initial versions of the standard ER configurations that are provided to generate e-invoices](#ImportERConfigurations1).</span></span>
- <span data-ttu-id="4a1d9-113">[Configurar los parámetros de Clientes para empezar a usar las configuraciones estándar de ER](#ConfigureAR1).</span><span class="sxs-lookup"><span data-stu-id="4a1d9-113">[Configure the Accounts receivable parameters to start to use the standard ER configurations](#ConfigureAR1).</span></span>
- <span data-ttu-id="4a1d9-114">[Configurar los parámetros de entidad jurídica para facturar a los clientes](#ConfigureLE).</span><span class="sxs-lookup"><span data-stu-id="4a1d9-114">[Configure the legal entity parameters to invoice customers](#ConfigureLE).</span></span>
- <span data-ttu-id="4a1d9-115">[Elaborar un registro de cliente para facturación electrónica](#ConfigureCustomer1).</span><span class="sxs-lookup"><span data-stu-id="4a1d9-115">[Prepare a customer record for electronic invoicing](#ConfigureCustomer1).</span></span>
- <span data-ttu-id="4a1d9-116">[Agregar, publicar y enviar una factura de cliente mediante las configuraciones estándar de ER](#ProcessInvoice1).</span><span class="sxs-lookup"><span data-stu-id="4a1d9-116">[Add, post, and send a customer invoice by using the standard ER configurations](#ProcessInvoice1).</span></span>
- <span data-ttu-id="4a1d9-117">[Agregar un campo de base de datos personalizado para administrar un código de identificación fiscal federal para los clientes](#AddCustomField).</span><span class="sxs-lookup"><span data-stu-id="4a1d9-117">[Add a custom database field to manage a federal tax identification code for customers](#AddCustomField).</span></span>
- <span data-ttu-id="4a1d9-118">[Actualizar los metadatos de ER con el fin de permitir cambios en la base de datos para el diseñador de asignación de modelo de ER](#RefreshERMetadata).</span><span class="sxs-lookup"><span data-stu-id="4a1d9-118">[Refresh the ER metadata to enable database changes for the ER model mapping designer](#RefreshERMetadata).</span></span>
- <span data-ttu-id="4a1d9-119">[Diseñar las configuraciones personalizadas de ER para generar facturas electrónicas que contengan el nuevo código de impuestos](#DesignCustomERConfigurations).</span><span class="sxs-lookup"><span data-stu-id="4a1d9-119">[Design the custom ER configurations to generate e-invoices that contain the new tax code](#DesignCustomERConfigurations).</span></span>
- <span data-ttu-id="4a1d9-120">[Configurar los parámetros de Clientes para empezar a usar las configuraciones personalizadas de ER](#ConfigureAR2).</span><span class="sxs-lookup"><span data-stu-id="4a1d9-120">[Configure the Accounts receivable parameters to start to use the custom ER configurations](#ConfigureAR2).</span></span>
- <span data-ttu-id="4a1d9-121">[Actualizar un registro de cliente para facturación electrónica](#ConfigureCustomer2).</span><span class="sxs-lookup"><span data-stu-id="4a1d9-121">[Update a customer record for electronic invoicing](#ConfigureCustomer2).</span></span>
- <span data-ttu-id="4a1d9-122">[Agregar, publicar y enviar una factura de cliente con las configuraciones personalizadas de ER](#ProcessInvoice2).</span><span class="sxs-lookup"><span data-stu-id="4a1d9-122">[Add, post, and send a customer invoice by using the custom ER configurations](#ProcessInvoice2).</span></span>
- <span data-ttu-id="4a1d9-123">[Importar las nuevas versiones de las configuraciones estándar de ER que se proporcionan para generar facturas electrónicas](#ImportERConfigurations2).</span><span class="sxs-lookup"><span data-stu-id="4a1d9-123">[Import the new versions of the standard ER configurations that are provided to generate e-invoices](#ImportERConfigurations2).</span></span>
- <span data-ttu-id="4a1d9-124">[Adoptar los cambios de las nuevas versiones de las configuraciones estándar de ER en sus configuraciones personalizadas de ER](#RebaseCustomERConfigurations).</span><span class="sxs-lookup"><span data-stu-id="4a1d9-124">[Adopt the changes to the new versions of the standard ER configurations in your custom ER configurations](#RebaseCustomERConfigurations).</span></span>
- <span data-ttu-id="4a1d9-125">[Agregar, publicar y enviar una factura de cliente con las nuevas versiones de las configuraciones personalizadas de ER](#ProcessInvoice3).</span><span class="sxs-lookup"><span data-stu-id="4a1d9-125">[Add, post, and send a customer invoice by using the new versions of the custom ER configurations](#ProcessInvoice3).</span></span>

<span data-ttu-id="4a1d9-126">Todos estos procedimientos se pueden llevar a cabo en la empresa **DEMF**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-126">All these procedures can be completed in the **DEMF** company.</span></span>

## <a name="configure-the-er-framework"></a><a name="ConfigureER"></a><span data-ttu-id="4a1d9-127">Configurar el marco ER</span><span class="sxs-lookup"><span data-stu-id="4a1d9-127">Configure the ER framework</span></span>

<span data-ttu-id="4a1d9-128">Como usuario con el rol de Consultor funcional de informes electrónicos o Desarrollador de informes electrónicos, debe configurar el conjunto mínimo de parámetros de ER.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-128">As a user in the Electronic Reporting Functional Consultant or Electronic Reporting Developer role, you must configure the minimal set of ER parameters.</span></span> <span data-ttu-id="4a1d9-129">Después puede empezar a utilizar el marco de ER para diseñar versiones personalizadas de las configuraciones estándar de la solución de ER que se utiliza para generar facturas electrónicas.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-129">You can then start to use the ER framework to design custom versions of the standard configurations of the ER solution that is used to generate e-invoices.</span></span>

### <a name="configure-er-parameters"></a><span data-ttu-id="4a1d9-130">Configurar los parámetros de ER</span><span class="sxs-lookup"><span data-stu-id="4a1d9-130">Configure ER parameters</span></span>

1. <span data-ttu-id="4a1d9-131">Vaya a **Administración de la organización** \> **Espacios de trabajo** \> **Informes electrónicos**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-131">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="4a1d9-132">En la página **Configuraciones localizadas** , en la sección **Vínculos relacionados** , seleccione **Parámetros de informes electrónicos**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-132">On the **Localization configurations** page, in the **Related links** section, select **Electronic reporting parameters**.</span></span>
3. <span data-ttu-id="4a1d9-133">En la página **Parámetros de informes electrónicos** , en la pestaña **General** , establezca la opción **Habilitar modo de diseño** en **Sí**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-133">On the **Electronic reporting parameters** page, on the **General** tab, set the **Enable design mode** option to **Yes**.</span></span>
4. <span data-ttu-id="4a1d9-134">En la pestaña **Archivos adjuntos** , en el campo **Configuraciones** , seleccione **Archivo**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-134">On the **Attachments** tab, in the **Configurations** field, select **File**.</span></span>
5. <span data-ttu-id="4a1d9-135">En los campos **Archivo de trabajo** , **Temporal** , **Base** y **Otros** , seleccione el tipo **Archivo**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-135">In the **Job archive** , **Temporary** , **Baseline** , and **Others** fields, select the **File** type.</span></span>

<span data-ttu-id="4a1d9-136">Para obtener más información sobre cómo configurar los parámetros de ER, consulte [Configurar el marco de ER](electronic-reporting-er-configure-parameters.md).</span><span class="sxs-lookup"><span data-stu-id="4a1d9-136">For more information about ER parameters, see [Configure the ER framework](electronic-reporting-er-configure-parameters.md).</span></span>

### <a name="activate-an-er-configuration-provider"></a><span data-ttu-id="4a1d9-137">Activar un proveedor de configuración de ER</span><span class="sxs-lookup"><span data-stu-id="4a1d9-137">Activate an ER configuration provider</span></span>

<span data-ttu-id="4a1d9-138">Cada configuración de ER que se agrega está marcada como propiedad de un proveedor de configuración de ER.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-138">Every ER configuration that is added is marked as owned by an ER configuration provider.</span></span> <span data-ttu-id="4a1d9-139">El proveedor de configuración de ER que se activa en el espacio de trabajo **Informes electrónicos** se utiliza para este propósito.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-139">The ER configuration provider that is activated in the **Electronic reporting** workspace is used for this purpose.</span></span> <span data-ttu-id="4a1d9-140">Por lo tanto, debe activar un proveedor de configuración de ER en el espacio de trabajo **Informes electrónicos** antes de comenzar a agregar o editar configuraciones de ER.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-140">Therefore, you must activate an ER configuration provider in the **Electronic reporting** workspace before you start to add or edit ER configurations.</span></span>

> [!NOTE]
> <span data-ttu-id="4a1d9-141">Solo el propietario de una configuración de ER puede editarla.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-141">Only the owner of an ER configuration can edit it.</span></span> <span data-ttu-id="4a1d9-142">Por lo tanto, antes de poder editar una configuración de ER, se debe activar el proveedor de configuración ER apropiado en el espacio de trabajo **Informes electrónicos**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-142">Therefore, before an ER configuration can be edited, the appropriate ER configuration provider must be activated in the **Electronic reporting** workspace.</span></span>

#### <a name="review-the-list-of-er-configuration-providers"></a><span data-ttu-id="4a1d9-143">Revise la lista de proveedores de configuración de ER</span><span class="sxs-lookup"><span data-stu-id="4a1d9-143">Review the list of ER configuration providers</span></span>

1. <span data-ttu-id="4a1d9-144">Vaya a **Administración de la organización** \> **Espacios de trabajo** \> **Informes electrónicos**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-144">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="4a1d9-145">En la página **Configuraciones localizadas** , en la sección **Vínculos relacionados** , seleccione **Proveedores de configuración**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-145">On the **Localization configurations** page, in the **Related links** section, select **Configuration providers**.</span></span>
3. <span data-ttu-id="4a1d9-146">En la página **Tabla de proveedor de configuración** , cada registro de proveedor tiene un nombre y URL únicos.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-146">On the **Configuration provider table** page, each provider record has a unique name and URL.</span></span> <span data-ttu-id="4a1d9-147">Revise el contenido de esta página.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-147">Review the contents of this page.</span></span> <span data-ttu-id="4a1d9-148">Si un registro para **Litware, Inc.** (`https://www.litware.com`) ya existe, omita el siguiente procedimiento, [Agregar un nuevo proveedor de configuración de ER](#AddProvider).</span><span class="sxs-lookup"><span data-stu-id="4a1d9-148">If a record for **Litware, Inc.** (`https://www.litware.com`) already exists, skip the next procedure, [Add a new ER configuration provider](#AddProvider).</span></span>

#### <a name="add-a-new-er-configuration-provider"></a><a id="AddProvider"></a><span data-ttu-id="4a1d9-149">Añada una nueva configuración para el proveedor de ER</span><span class="sxs-lookup"><span data-stu-id="4a1d9-149">Add a new ER configuration provider</span></span>

1. <span data-ttu-id="4a1d9-150">Vaya a **Administración de la organización** \> **Espacios de trabajo** \> **Informes electrónicos**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-150">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="4a1d9-151">En la página **Configuraciones localizadas** , en la sección **Vínculos relacionados** , seleccione **Proveedores de configuración**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-151">On the **Localization configurations** page, in the **Related links** section, select **Configuration providers**.</span></span>
3. <span data-ttu-id="4a1d9-152">En la página **Proveedores de configuración** , seleccione **Nuevo**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-152">On the **Configuration providers** page, select **New**.</span></span>
4. <span data-ttu-id="4a1d9-153">En el campo **Nombre** , introduzca **Litware, Inc.**</span><span class="sxs-lookup"><span data-stu-id="4a1d9-153">In the **Name** field, enter **Litware, Inc.**</span></span>
5. <span data-ttu-id="4a1d9-154">En el campo **Dirección de Internet** , introduzca `https://www.litware.com`.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-154">In the **Internet address** field, enter `https://www.litware.com`.</span></span>
6. <span data-ttu-id="4a1d9-155">Seleccione **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-155">Select **Save**.</span></span>

#### <a name="activate-an-er-configuration-provider"></a><span data-ttu-id="4a1d9-156">Activar un proveedor de configuración de ER</span><span class="sxs-lookup"><span data-stu-id="4a1d9-156">Activate an ER configuration provider</span></span>

1. <span data-ttu-id="4a1d9-157">Vaya a **Administración de la organización** \> **Espacios de trabajo** \> **Informes electrónicos**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-157">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="4a1d9-158">En la página **Configuraciones de localización** , en la sección **Proveedores de configuración** , seleccione el mosaico **Litware, Inc.** y luego seleccione **Establecer activo**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-158">On the **Localization configurations** page, in the **Configuration providers** section, select the **Litware, Inc.** tile, and then select **Set active**.</span></span>

<span data-ttu-id="4a1d9-159">Para obtener más información sobre proveedores de configuración de ER, consulte [Crear proveedores de la configuración y marcarlos como activos](tasks/er-configuration-provider-mark-it-active-2016-11.md).</span><span class="sxs-lookup"><span data-stu-id="4a1d9-159">For more information about ER configuration providers, see [Create configuration providers and mark them as active](tasks/er-configuration-provider-mark-it-active-2016-11.md).</span></span>

## <a name="import-the-initial-versions-of-standard-er-configurations"></a><a name="ImportERConfigurations1"></a><span data-ttu-id="4a1d9-160">Importar las versiones iniciales de las configuraciones estándar de ER</span><span class="sxs-lookup"><span data-stu-id="4a1d9-160">Import the initial versions of standard ER configurations</span></span>

<span data-ttu-id="4a1d9-161">Para agregar las configuraciones estándar de ER a su instancia actual de Finance, debe importarlas desde el [repositorio](general-electronic-reporting.md#Repository) de ER que se configuró para esa instancia.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-161">To add the standard ER configurations to your current Finance instance, you must import them from the ER [repository](general-electronic-reporting.md#Repository) that was configured for that instance.</span></span>

1. <span data-ttu-id="4a1d9-162">Vaya a **Administración de la organización** \> **Espacios de trabajo** \> **Informes electrónicos**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-162">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="4a1d9-163">En la página **Configuraciones de localización** , en la sección **Proveedores de configuración** , seleccione el mosaico **Microsoft** y luego seleccione **Repositorios** para ver la lista de repositorios para el proveedor de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-163">On the **Localization configurations** page, in the **Configuration providers** section, select the **Microsoft** tile, and then select **Repositories** to view the list of repositories for the Microsoft provider.</span></span>
3. <span data-ttu-id="4a1d9-164">En la página **Configuración de repositorios** , seleccione el repositorio existente del tipo **Global** y después seleccione **Abrir**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-164">On the **Configuration repositories** page, select the repository of the **Global** type, and then select **Open**.</span></span> <span data-ttu-id="4a1d9-165">Si se le solicita autorización para conectarse al Regulatory Configuration Service, siga las instrucciones de autorización.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-165">If you're prompted for authorization to connect to Regulatory Configuration Service, follow the authorization instructions.</span></span>
4. <span data-ttu-id="4a1d9-166">En la página **Repositorio de configuración** , en el árbol de configuración del panel izquierdo, seleccione el formato de configuración **Factura de ventas Peppol**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-166">On the **Configuration repository** page, in the configuration tree in the left pane, select the **Peppol Sales Invoice** format configuration.</span></span>
5. <span data-ttu-id="4a1d9-167">En la ficha desplegable **Versiones** , seleccione la versión **11.2.2**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-167">On the **Versions** FastTab, select version **11.2.2**.</span></span>
6. <span data-ttu-id="4a1d9-168">Seleccione **Importar** para descargar la versión seleccionada desde el repositorio Global.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-168">Select **Import** to download the selected version from the Global repository.</span></span>

![Página de configuración del repositorio](./media/er-quick-start3-import-solution1.png)

> [!TIP]
> <span data-ttu-id="4a1d9-170">Si tiene problemas para acceder al [Repositorio global](er-download-configurations-global-repo.md), puede [descargar configuraciones](download-electronic-reporting-configuration-lcs.md) de Microsoft Dynamics Lifecycle Services (LCS) en su lugar.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-170">If you have trouble accessing the [Global repository](er-download-configurations-global-repo.md), you can [download configurations](download-electronic-reporting-configuration-lcs.md) from Microsoft Dynamics Lifecycle Services (LCS) instead.</span></span>

### <a name="review-the-imported-er-configurations"></a><span data-ttu-id="4a1d9-171">Revisar las configuraciones importadas de ER</span><span class="sxs-lookup"><span data-stu-id="4a1d9-171">Review the imported ER configurations</span></span>

1. <span data-ttu-id="4a1d9-172">Vaya a **Administración de la organización** \> **Espacios de trabajo** \> **Informes electrónicos**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-172">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="4a1d9-173">En la página **Configuraciones de localización** , en la sección **Configuraciones** , seleccione el icono **Configuraciones de informes**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-173">On the **Localization configurations** page, in the **Configurations** section, select the **Reporting configurations** tile.</span></span>
3. <span data-ttu-id="4a1d9-174">En la página **Configuraciones** , expanda la ficha desplegable **Componentes de configuración**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-174">On the **Configurations** page, expand the **Configuration components** FastTab.</span></span>
4. <span data-ttu-id="4a1d9-175">En el árbol de configuración del panel izquierdo, expanda **Modelo de factura** y, a continuación, expanda **Factura de ventas UBL**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-175">In the configuration tree in the left pane, expand **Invoice model** , and then expand **UBL Sales invoice**.</span></span>

<span data-ttu-id="4a1d9-176">Tenga en cuenta que, además del formato de ER **Factura de ventas Peppol** seleccionado, se importaron otras configuraciones de ER necesarias.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-176">Notice that, in addition to the selected **Peppol Sales Invoice** ER format, other required ER configurations were imported.</span></span> <span data-ttu-id="4a1d9-177">Como se publican constantemente nuevas versiones de las configuraciones de ER en el repositorio Global y LCS para mantener la compatibilidad de las soluciones correspondientes compatibles con los nuevos requisitos, se han importado las versiones más recientes de la configuración de [modelo de datos](general-electronic-reporting.md#data-model-and-model-mapping-components) requerida y su [asignación de modelo](general-electronic-reporting.md#data-model-and-model-mapping-components).</span><span class="sxs-lookup"><span data-stu-id="4a1d9-177">Because new versions of ER configurations are constantly published to the Global repository and LCS to keep the corresponding solutions compliant with new requirements, the latest versions of the required [data model](general-electronic-reporting.md#data-model-and-model-mapping-components) configuration and its [model mapping](general-electronic-reporting.md#data-model-and-model-mapping-components) configurations were imported.</span></span>

![Página Configuraciones](./media/er-quick-start3-imported-solution1a.png)

<span data-ttu-id="4a1d9-179">Para simular el estado en el que se encontrarían las configuraciones de ER en la instancia de Finance actual si importara la versión **11.2.2** del formato de ER **Factura de ventas Peppol** en el pasado (por ejemplo, el 7 de agosto de 2019), siga estos pasos.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-179">To simulate the state that ER configurations in the current Finance instance  would be in if you imported version **11.2.2** of the **Peppol Sales Invoice** ER format in the past (for example, on August 7, 2019), follow these steps.</span></span>

- <span data-ttu-id="4a1d9-180">En el panel de acciones, seleccione **Eliminar** para eliminar todas las configuraciones de ER que se publicaron después del 7 de agosto de 2019.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-180">On the Action Pane, select **Delete** to delete all ER configurations that were published after August 7, 2019.</span></span> <span data-ttu-id="4a1d9-181">Deben dejarse las únicas configuraciones de **Modelo de factura** , **Asignación de modelo de factura** (inicialmente denominada **Asignación de modelo de factura del cliente** ), **Factura de ventas UBL** y **Factura de ventas Peppol**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-181">The only **Invoice model** , **Invoice model mapping** (initially named **Customer invoice model mapping** ), **UBL Sales invoice** and **Peppol Sales Invoice** configurations must be left.</span></span>
- <span data-ttu-id="4a1d9-182">Para las configuraciones de ER restantes, en la ficha desplegable **Versiones** , seleccione **Eliminar** para eliminar todas las versiones de las configuraciones de ER que se publicaron después del 7 de agosto de 2019.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-182">For the remained ER configurations, on the **Versions** FastTab, select **Delete** to delete all versions of ER configurations that were published after August 7, 2019.</span></span>

<span data-ttu-id="4a1d9-183">A continuación, compruebe que las siguientes configuraciones de ER están disponibles en el árbol de configuración:</span><span class="sxs-lookup"><span data-stu-id="4a1d9-183">Then verify that the following configurations are available in the configuration tree:</span></span>

- <span data-ttu-id="4a1d9-184">Configuración del modelo de datos de ER **Modelo de factura** (inicialmente llamado **Modelo de factura de cliente** ):</span><span class="sxs-lookup"><span data-stu-id="4a1d9-184">**Invoice model** ER data model configuration (initially named **Customer invoice model** ):</span></span>

    - <span data-ttu-id="4a1d9-185">La versión 11 contiene la versión 10 del componente de ER [modelo de datos](general-electronic-reporting.md#data-model-and-model-mapping-components) que representa la estructura de datos del dominio empresarial de facturación.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-185">Version 11 contains version 10 of the [data model](general-electronic-reporting.md#data-model-and-model-mapping-components) ER component that represents the data structure of the invoicing business domain.</span></span> <span data-ttu-id="4a1d9-186">Esta configuración de ER se ha importado como antepasado del formato de ER **Factura de ventas Peppol** que se seleccionó para importar.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-186">This ER configuration has been imported as an ancestor of the **Peppol Sales Invoice** ER format that was selected for import.</span></span>
    - <span data-ttu-id="4a1d9-187">La versión 50 contiene la versión 31 del componente de ER de modelo de datos.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-187">Version 50 contains version 31 of the data model ER component.</span></span> <span data-ttu-id="4a1d9-188">Esta configuración de ER se ha importado como un antepasado de la versión del 7 de agosto de 2019 de la configuración de asignación de modelo de ER **Asignación de modelo de factura**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-188">This ER configuration has been imported as an ancestor of the August 7, 2019, version of the **Invoice model mapping** ER model mapping configuration.</span></span>

    ![Configuración del modelo de datos de ER del modelo de factura en la página Configuraciones](./media/er-quick-start3-imported-solution1b1.png)

    > [!TIP]
    > <span data-ttu-id="4a1d9-190">Si no ve la versión 50 de este modelo de datos, abra el repositorio Global e importe la versión 50.19 de la configuración de ER **Asignación de modelo de factura**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-190">If you don't see version 50 of this data model, open the Global repository, and import version 50.19 of the **Invoice model mapping** ER configuration.</span></span>

- <span data-ttu-id="4a1d9-191">Configuración de la asignación del modelo de ER **Asignación de modelo de factura** (inicialmente llamado **Asignación de modelo de factura de cliente** ):</span><span class="sxs-lookup"><span data-stu-id="4a1d9-191">**Invoice model mapping** ER model mapping configuration (initially named **Customer invoice model mapping** ):</span></span>

    - <span data-ttu-id="4a1d9-192">La versión 50.19 se ha importado como la implementación más reciente de la versión 50 de la configuración de modelo de datos de ER **Modelo de factura**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-192">Version 50.19 has been imported as the latest implementation of version 50 of the **Invoice model** ER data model configuration.</span></span> <span data-ttu-id="4a1d9-193">Contiene dos componentes de ER de [asignación de modelo](general-electronic-reporting.md#data-model-and-model-mapping-components) que describen cómo se rellena el modelo de datos con los datos de la aplicación en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-193">It contains two [model mapping](general-electronic-reporting.md#data-model-and-model-mapping-components) ER components that describe how the data model is filled in with application data at runtime.</span></span>

    ![Configuración de la asignación del modelo de datos de ER para la asignación del modelo de factura en la página Configuraciones](./media/er-quick-start3-imported-solution1b2.png)

    > [!TIP]
    > <span data-ttu-id="4a1d9-195">Si no ve la versión 50.19 de esta asignación de modelo, abra el repositorio Global e importe la versión 50.19 de la configuración de ER **Asignación de modelo de factura**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-195">If you don't see version 50.19 of this model mapping, open the Global repository, and import version 50.19 of the **Invoice model mapping** ER configuration.</span></span>

- <span data-ttu-id="4a1d9-196">Configuración de formato de ER **Factura de ventas UBL** :</span><span class="sxs-lookup"><span data-stu-id="4a1d9-196">**UBL Sales invoice** ER format configuration:</span></span>

    - <span data-ttu-id="4a1d9-197">La versión 11.2 contiene los componentes de ER de [formato](general-electronic-reporting.md#FormatComponentOutbound) y asignación de formato.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-197">Version 11.2 contains the [format](general-electronic-reporting.md#FormatComponentOutbound) and format mapping ER components.</span></span> <span data-ttu-id="4a1d9-198">El componente de formato especifica el diseño del informe.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-198">The format component specifies the report layout.</span></span> <span data-ttu-id="4a1d9-199">El componente de asignación de formato contiene el origen de datos del modelo y especifica cómo se usa este origen de datos para rellenar el diseño del informe en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-199">The format mapping component contains the model data source and specifies how this data source is used to fill in the report layout at runtime.</span></span> <span data-ttu-id="4a1d9-200">Este formato de ER se configuró para generar facturas electrónicas con formato Universal Business Language (UBL).</span><span class="sxs-lookup"><span data-stu-id="4a1d9-200">This ER format was configured to generate e-invoices in Universal Business Language (UBL) format.</span></span> <span data-ttu-id="4a1d9-201">Se ha importado como antepasado del formato de ER **Factura de ventas Peppol** que se seleccionó para importar.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-201">It has been imported as a parent of the **Peppol Sales Invoice** ER format that was selected for import.</span></span>

- <span data-ttu-id="4a1d9-202">Configuración de formato de ER **Factura de ventas Peppol** :</span><span class="sxs-lookup"><span data-stu-id="4a1d9-202">**Peppol Sales Invoice** ER format configuration:</span></span>

    - <span data-ttu-id="4a1d9-203">La versión 11.2.2 contiene los componentes de ER de formato y asignación de formato que se configuraron para generar facturas electrónicas con formato Pan-European Public Procurement OnLine (PEPPOL).</span><span class="sxs-lookup"><span data-stu-id="4a1d9-203">Version 11.2.2 contains the format and format mapping ER components that were configured to generate e-invoices in Pan-European Public Procurement OnLine (PEPPOL) format.</span></span>

    ![Configuración de formato de ER de factura de ventas Peppol en la página Configuraciones](./media/er-quick-start3-imported-solution1b3.png)

## <a name="configure-the-accounts-receivable-parameters"></a><a name="ConfigureAR1"></a><span data-ttu-id="4a1d9-205">Configurar los parámetros de clientes</span><span class="sxs-lookup"><span data-stu-id="4a1d9-205">Configure the Accounts receivable parameters</span></span>

1. <span data-ttu-id="4a1d9-206">Vaya a **Clientes** \> **Configuración** \> **Parámetros de clientes**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-206">Go to **Accounts receivable** \> **Setup** \> **Accounts receivable parameters**.</span></span>
2. <span data-ttu-id="4a1d9-207">En la pestaña **Documentos electrónicos** , en la ficha desplegable **Informes electrónicos** , en el campo **Factura de servicios y ventas** , seleccione **Factura de ventas Peppol**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-207">On the **Electronic documents** tab, on the **Electronic reporting** FastTab, in the **Sales and Free text invoice** field, select **Peppol Sales Invoice**.</span></span>
3. <span data-ttu-id="4a1d9-208">Seleccione **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-208">Select **Save**.</span></span>

![Pestaña Documentos electrónicos en la página Parámetros de clientes](./media/er-quick-start3-configure-ar1.png)

## <a name="configure-the-legal-entity-parameters"></a><a name="ConfigureLE"></a><span data-ttu-id="4a1d9-210">Configurar los parámetros de entidad jurídica</span><span class="sxs-lookup"><span data-stu-id="4a1d9-210">Configure the legal entity parameters</span></span>

1. <span data-ttu-id="4a1d9-211">Vaya a **Administración de la organización** \> **Organizaciones** \> **Entidades jurídicas**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-211">Go to **Organization administration** \> **Organizations** \> **Legal entities**.</span></span>
2. <span data-ttu-id="4a1d9-212">Para la empresa **DEMF** seleccionada, en la ficha desplegable **Información de cuenta bancaria** , en el campo **Número de ruta** , escriba **1234**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-212">For the selected **DEMF** company, on the **Bank account information** FastTab, in the **Routing number** field, enter **1234**.</span></span>
3. <span data-ttu-id="4a1d9-213">Seleccione **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-213">Select **Save**.</span></span>
4. <span data-ttu-id="4a1d9-214">Cierre la página **Entidades jurídicas**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-214">Close the **Legal entities** page.</span></span>

## <a name="prepare-a-customer-record"></a><a name="ConfigureCustomer1"></a><span data-ttu-id="4a1d9-215">Preparar un registro de cliente</span><span class="sxs-lookup"><span data-stu-id="4a1d9-215">Prepare a customer record</span></span>

1. <span data-ttu-id="4a1d9-216">Vaya a **Clientes** \> **Clientes** \> **Todos los clientes**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-216">Go to **Accounts receivable** \> **Customers** \> **All customers**.</span></span>
2. <span data-ttu-id="4a1d9-217">En la página **Todos los clientes** , seleccione el vínculo de cuente de cliente **DE-014**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-217">On the **All customers** page, select the **DE-014** customer account link.</span></span>

### <a name="add-a-customer-contact"></a><span data-ttu-id="4a1d9-218">Agregar un contacto de cliente</span><span class="sxs-lookup"><span data-stu-id="4a1d9-218">Add a customer contact</span></span>

1. <span data-ttu-id="4a1d9-219">Vaya a **Clientes** \> **Clientes** \> **Todos los clientes**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-219">Go to **Accounts receivable** \> **Customers** \> **All customers**.</span></span>
2. <span data-ttu-id="4a1d9-220">En el panel de acciones, en la pestaña **Cliente** del grupo **Cuentas** , seleccione **Contactos**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-220">On the Action Pane, on the **Customer** tab, in the **Accounts** group, select **Contacts**.</span></span>
3. <span data-ttu-id="4a1d9-221">Seleccione **Agregar contactos**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-221">Select **Add contacts**.</span></span>
4. <span data-ttu-id="4a1d9-222">En la página **Contactos** , en el campo **Nombre** , abra la búsqueda, seleccione **Adam Carter** y, a continuación, seleccione **Seleccionar** para cerrar la búsqueda.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-222">On the **Contacts** page, in the **First name** field, open the lookup, select **Adam Carter** , and then select **Select** to close the lookup.</span></span>
5. <span data-ttu-id="4a1d9-223">Seleccione **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-223">Select **Save**.</span></span>
6. <span data-ttu-id="4a1d9-224">Cierre la página **Contactos**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-224">Close the **Contacts** page.</span></span>

### <a name="define-a-primary-contact"></a><span data-ttu-id="4a1d9-225">Definir un contacto principal</span><span class="sxs-lookup"><span data-stu-id="4a1d9-225">Define a primary contact</span></span>

1. <span data-ttu-id="4a1d9-226">Vaya a **Clientes** \> **Clientes** \> **Todos los clientes**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-226">Go to **Accounts receivable** \> **Customers** \> **All customers**.</span></span>
2. <span data-ttu-id="4a1d9-227">En la ficha desplegable **Datos demográficos de ventas** , en el campo **Contacto principal** , seleccione **Adam Carter**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-227">On the **Sales demographics** FastTab, in the **Primary contact** field, select **Adam Carter**.</span></span>

### <a name="set-the-e-invoicing-option"></a><span data-ttu-id="4a1d9-228">Configurar la opción de facturación electrónica</span><span class="sxs-lookup"><span data-stu-id="4a1d9-228">Set the e-invoicing option</span></span>

1. <span data-ttu-id="4a1d9-229">Vaya a **Clientes** \> **Clientes** \> **Todos los clientes**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-229">Go to **Accounts receivable** \> **Customers** \> **All customers**.</span></span>
2. <span data-ttu-id="4a1d9-230">En la ficha desplegable **Factura y entrega** , establezca la opción **Factura electrónica** en **Sí**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-230">On the **Invoice and delivery** FastTab, set the **eInvoice** option to **Yes**.</span></span>
3. <span data-ttu-id="4a1d9-231">Seleccione **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-231">Select **Save**.</span></span>
4. <span data-ttu-id="4a1d9-232">Cierre la página **Todos los clientes**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-232">Close the **All customers** page.</span></span>

## <a name="process-a-customer-invoice-by-using-the-standard-er-configurations"></a><a name="ProcessInvoice1"></a><span data-ttu-id="4a1d9-233">Procesar una factura de cliente mediante las configuraciones estándar de ER</span><span class="sxs-lookup"><span data-stu-id="4a1d9-233">Process a customer invoice by using the standard ER configurations</span></span>

<span data-ttu-id="4a1d9-234">Ahora puede usar las configuraciones estándar de ER que importó para enviar por vía electrónica una factura de servicios a un cliente.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-234">You can now use the standard ER configurations that you imported to electronically send a free text invoice to a customer.</span></span>

### <a name="add-a-new-invoice"></a><span data-ttu-id="4a1d9-235">Agregar una factura nueva</span><span class="sxs-lookup"><span data-stu-id="4a1d9-235">Add a new invoice</span></span>

1. <span data-ttu-id="4a1d9-236">Vaya a **Clientes** \> **Facturas** \> **Todas las facturas de servicios**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-236">Go to **Accounts receivable** \> **Invoices** \> **All free text invoices**.</span></span>
2. <span data-ttu-id="4a1d9-237">En la página **Factura de servicios** , seleccione **Nuevo**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-237">On the **Free text invoice** page, select **New**.</span></span>
3. <span data-ttu-id="4a1d9-238">En la ficha desplegable **Encabezado de factura de servicios** , en el campo **Cuenta de cliente** , seleccione **DE-014**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-238">On the **Free text invoice header** FastTab, in the **Customer account** field, select **DE-014**.</span></span>
4. <span data-ttu-id="4a1d9-239">En la ficha desplegable **Líneas de factura** se agrega automáticamente una línea de factura.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-239">On the **Invoice lines** FastTab, an invoice line is automatically added.</span></span> <span data-ttu-id="4a1d9-240">En esta línea, establezca los valores de los campos siguientes:</span><span class="sxs-lookup"><span data-stu-id="4a1d9-240">On this line, set the following fields:</span></span>

    - <span data-ttu-id="4a1d9-241">En el campo **Descripción** , escriba **Cuaderno de notas**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-241">In the **Description** field, enter **Notebook**.</span></span>
    - <span data-ttu-id="4a1d9-242">En el campo **Cuenta principal** , seleccione **401100**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-242">In the **Main account** field, select **401100**.</span></span>
    - <span data-ttu-id="4a1d9-243">En el campo **Precio unitario** , escriba **1000**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-243">In the **Unit price** field, enter **1000**.</span></span>

5. <span data-ttu-id="4a1d9-244">Seleccione **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-244">Select **Save**.</span></span>

![Página de facturas de servicios](./media/er-quick-start3-add-invoice.png)

<span data-ttu-id="4a1d9-246">Para obtener más información, consulte [Crear una factura de servicios](../../../finance/accounts-receivable/create-free-text-invoice-new.md).</span><span class="sxs-lookup"><span data-stu-id="4a1d9-246">For more information, see [Create a free text invoice](../../../finance/accounts-receivable/create-free-text-invoice-new.md).</span></span>

### <a name="post-a-new-invoice"></a><span data-ttu-id="4a1d9-247">Registrar una factura nueva</span><span class="sxs-lookup"><span data-stu-id="4a1d9-247">Post a new invoice</span></span>

1. <span data-ttu-id="4a1d9-248">Vaya a **Clientes** \> **Facturas** \> **Todas las facturas de servicios**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-248">Go to **Accounts receivable** \> **Invoices** \> **All free text invoices**.</span></span>
2. <span data-ttu-id="4a1d9-249">En la página **Factura de servicios** , en el panel de acciones, seleccione **Registrar**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-249">On the **Free text invoice** page, on the Action Pane, select **Post**.</span></span>
3. <span data-ttu-id="4a1d9-250">En el cuadro de diálogo **Registrar factura de servicios** , seleccione **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-250">In the **Post free text invoice** dialog box, select **OK**.</span></span>

![Página de detalles de factura de servicios](./media/er-quick-start3-post-invoice.png)

### <a name="send-a-posted-invoice"></a><span data-ttu-id="4a1d9-252">Enviar una factura registrada</span><span class="sxs-lookup"><span data-stu-id="4a1d9-252">Send a posted invoice</span></span>

1. <span data-ttu-id="4a1d9-253">Vaya a **Clientes** \> **Facturas** \> **Todas las facturas de servicios**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-253">Go to **Accounts receivable** \> **Invoices** \> **All free text invoices**.</span></span>
2. <span data-ttu-id="4a1d9-254">En la página **Factura de servicios** , en el panel de acciones, en el grupo **Documento** , seleccione **Enviar** \> **Original**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-254">On the **Free text invoice** page, on the Action Pane, in the **Document** group, select **Send** \> **Original**.</span></span>

    ![Vista previa de la factura original](./media/er-quick-start3-send-invoice.png)

3. <span data-ttu-id="4a1d9-256">Cierre la página **Factura de servicios**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-256">Close the **Free text invoice** page.</span></span>

### <a name="analyze-a-generated-e-invoice"></a><span data-ttu-id="4a1d9-257">Analizar una factura electrónica generada</span><span class="sxs-lookup"><span data-stu-id="4a1d9-257">Analyze a generated e-invoice</span></span>

1. <span data-ttu-id="4a1d9-258">Vaya a **Administración de la organización** \> **Informes electrónicos** \> **Trabajos de informes electrónicos**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-258">Go to **Organization administration** \> **Electronic reporting** \> **Electronic reporting jobs**.</span></span>
2. <span data-ttu-id="4a1d9-259">En la página **Trabajos de informes electrónicos** , seleccione el registro inicial que tiene la descripción de tarea **Enviar XML de factura electrónica**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-259">On the **Electronic reporting jobs** page, select the initial record that has the task description **Send the eInvoice XML**.</span></span>
3. <span data-ttu-id="4a1d9-260">Seleccione **Mostrar archivos** para acceder a la lista de archivos generados.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-260">Select **Show files** to access the list of generated files.</span></span>

    ![Página de trabajos de informes electrónicos](./media/er-quick-start3-jobs-list.png)

4. <span data-ttu-id="4a1d9-262">Seleccione **Abrir** para descargar el archivo XML de factura electrónica que se genera.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-262">Select **Open** to download the e-invoice XML file that is generated.</span></span>
5. <span data-ttu-id="4a1d9-263">Analice el archivo XML de factura electrónica.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-263">Analyze the e-invoice XML file.</span></span> <span data-ttu-id="4a1d9-264">Observe que el esquema de impuestos del cliente está representado actualmente por los atributos XML **schemeID** y **schemeAgencyID**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-264">Notice that the customer tax schema is currently represented by the **schemeID** and **schemeAgencyID** XML attributes.</span></span> <span data-ttu-id="4a1d9-265">Observe también que el elemento XML **cbc:CustomizationID** contiene actualmente el siguiente texto: `urn:www.cenbii.eu:transaction:biicoretrdm010:ver1.0:# urn:www.peppol.eu:bis:peppol5a:ver1.0`.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-265">Also notice that the **cbc:CustomizationID** XML element currently contains the following text: `urn:www.cenbii.eu:transaction:biicoretrdm010:ver1.0:# urn:www.peppol.eu:bis:peppol5a:ver1.0`.</span></span>

    ![Vista previa del archivo XML de factura electrónica generado](./media/er-quick-start3-e-invoice1.png)

## <a name="add-a-custom-database-field"></a><a name="AddCustomField"></a><span data-ttu-id="4a1d9-267">Agregar un campo de base de datos personalizado</span><span class="sxs-lookup"><span data-stu-id="4a1d9-267">Add a custom database field</span></span>

<span data-ttu-id="4a1d9-268">Puede usar la característica [Campo personalizado](../../fin-ops/get-started/user-defined-fields.md) para realizar la siguiente personalización en la instancia de Finance actual:</span><span class="sxs-lookup"><span data-stu-id="4a1d9-268">You can use the [Custom field](../../fin-ops/get-started/user-defined-fields.md) feature to do the following customization in the current Finance instance:</span></span>

- <span data-ttu-id="4a1d9-269">Personalice la estructura de la base de datos agregando un nuevo campo de base de datos personalizado que almacene un código de identificación fiscal federal para cada cliente.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-269">Customize the database structure by adding a new custom database field that stores a federal tax identification code for every customer.</span></span>
- <span data-ttu-id="4a1d9-270">Personalice la página **Cliente** agregando un nuevo campo de entrada de datos que se pueda usar para especificar un valor de código de impuestos en el nuevo campo de base de datos personalizado.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-270">Customize the **Customer** page by adding a new data entry field that can be used to enter a tax code value in the new custom database field.</span></span>

<span data-ttu-id="4a1d9-271">Siga estos pasos para realizar la personalización.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-271">Follow these steps to do the customization.</span></span>

1. <span data-ttu-id="4a1d9-272">Vaya a **Clientes** \> **Clientes** \> **Todos los clientes**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-272">Go to **Accounts receivables** \> **Customers** \> **All customers**.</span></span>
2. <span data-ttu-id="4a1d9-273">En la página **Todos los clientes** , seleccione el vínculo de cuente de cliente **DE-014**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-273">On the **All customers** page, select the **DE-014** customer account link.</span></span>
3. <span data-ttu-id="4a1d9-274">En la ficha desplegable **General** , haga clic con el botón derecho en cualquier área en blanco bajo el campo **Idioma** y, a continuación, seleccione **Personalizar: GrupoSuperior**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-274">On the **General** FastTab, right-click in any blank area under the **Language** field, and then select **Personalize: UpperGroup**.</span></span>

    <span data-ttu-id="4a1d9-275">El contenido de la ficha desplegable **General** se muestra resaltado y aparece un menú **Personalizar**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-275">The contents of the **General** FastTab are highlighted, and a **Personalize** menu appears.</span></span>

4. <span data-ttu-id="4a1d9-276">En el menú **Personalizar** , seleccione **Agregar un campo**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-276">On the **Personalize** menu, select **Add a field**.</span></span>
5. <span data-ttu-id="4a1d9-277">En el cuadro de diálogo **Agregar columnas** , seleccione **Crear nuevo campo**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-277">In the **Add columns** dialog box, select **Create new field**.</span></span>
6. <span data-ttu-id="4a1d9-278">En el cuadro de diálogo **Crear nuevo campo** , en el campo **Nombre de la tabla** , seleccione **Clientes**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-278">In the **Create new field** dialog box, in the **Table name** field, select **Customers**.</span></span>
7. <span data-ttu-id="4a1d9-279">En el campo **Prefijo del nombre** , escriba **FederalTaxID**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-279">In the **Name prefix** field, enter **FederalTaxID**.</span></span>

    > [!NOTE]
    > <span data-ttu-id="4a1d9-280">El nombre completo del campo se define automáticamente como **FederalTaxID\_Personalizado**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-280">The whole field name has been automatically defined as **FederalTaxID\_Custom**.</span></span>

8. <span data-ttu-id="4a1d9-281">En el campo **Etiqueta** , escriba **Id. fiscal federal**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-281">In the **Label** field, enter **Federal Tax ID**.</span></span>
9. <span data-ttu-id="4a1d9-282">En el campo **Tipo** , seleccione **Texto**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-282">In the **Type** field, select **Text**.</span></span>
10. <span data-ttu-id="4a1d9-283">En el campo **Longitud** , escriba **20**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-283">In the **Length** field, enter **20**.</span></span>
11. <span data-ttu-id="4a1d9-284">Seleccione **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-284">Select **Save**.</span></span>
12. <span data-ttu-id="4a1d9-285">En el cuadro de mensaje que aparece, seleccione **Sí** para confirmar que desea crear una nueva entrada de campo **FederalTaxID** para la tabla **Clientes**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-285">In the message box that appears, select **Yes** to confirm that you want to create a new **FederalTaxID** field entry for the **Customers** table.</span></span>
13. <span data-ttu-id="4a1d9-286">Seleccione **Insertar** para <a name="insert_custom_field"></a>agregar el campo **FederalTaxID\_Personalizado** a la página actual.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-286">Select **Insert** to <a name="insert_custom_field"></a>add the **FederalTaxID\_Custom** field to the current page.</span></span>

    ![Página Todos los clientes](./media/er-quick-start3-create-new-field.gif)

14. <span data-ttu-id="4a1d9-288">Cierre la página **Todos los clientes**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-288">Close the **All customers** page.</span></span>

## <a name="refresh-the-er-metadata"></a><a name="RefreshERMetadata"></a><span data-ttu-id="4a1d9-289">Actualizar los metadatos de ER</span><span class="sxs-lookup"><span data-stu-id="4a1d9-289">Refresh the ER metadata</span></span>

<span data-ttu-id="4a1d9-290">Debe actualizar los metadatos de ER para que el campo personalizado que agregó sea [visible](electronic-reporting-er-configure-parameters.md#frequently-asked-questions) en el diseñador de asignaciones de modelos.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-290">You must refresh the ER metadata to make the custom field that you added [visible](electronic-reporting-er-configure-parameters.md#frequently-asked-questions) in the ER model mapping designer.</span></span>

1. <span data-ttu-id="4a1d9-291">Vaya a **Administración de la organización** \> **Informes electrónicos** \> **Regenerar referencias de tabla**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-291">Go to **Organization administration** \> **Electronic reporting** \> **Rebuild table references**.</span></span>
2. <span data-ttu-id="4a1d9-292">En el cuadro de diálogo **Actualizar modelo de datos** , seleccione **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-292">In the **Update data model** dialog box, select **OK**.</span></span>

## <a name="design-the-custom-er-configurations"></a><a name="DesignCustomERConfigurations"></a><span data-ttu-id="4a1d9-293">Diseñar las configuraciones personalizadas de ER</span><span class="sxs-lookup"><span data-stu-id="4a1d9-293">Design the custom ER configurations</span></span>

<span data-ttu-id="4a1d9-294">Puede utilizar las configuraciones de ER proporcionadas por Microsoft para diseñar sus configuraciones de ER personalizadas de forma que generen facturas electrónicas que contengan el nuevo código de impuestos.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-294">You can use the Microsoft-provided ER configurations to design your custom ER configurations so that they generate e-invoices that contain the new tax code.</span></span>

### <a name="customize-the-data-model-configuration"></a><span data-ttu-id="4a1d9-295">Personalizar la configuración del modelo de datos</span><span class="sxs-lookup"><span data-stu-id="4a1d9-295">Customize the data model configuration</span></span>

<span data-ttu-id="4a1d9-296">Como usuario con el rol de Consultor funcional de informes electrónicos puede diseñar su modelo de datos de ER personalizado.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-296">As a user in the Electronic Reporting Functional Consultant role, you can design your custom ER data model.</span></span>

#### <a name="add-a-custom-data-model-configuration"></a><span data-ttu-id="4a1d9-297">Agregar una configuración de modelo de datos personalizada</span><span class="sxs-lookup"><span data-stu-id="4a1d9-297">Add a custom data model configuration</span></span>

1. <span data-ttu-id="4a1d9-298">Vaya a **Administración de la organización** \> **Informes electrónicos** \> **Configuraciones**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-298">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="4a1d9-299">En la página **Configuraciones** , en el árbol de configuraciones del panel izquierdo, seleccione **Modelo de factura de cliente**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-299">On the **Configurations** page, in the configuration tree in the left pane, select **Customer invoice model**.</span></span>
3. <span data-ttu-id="4a1d9-300">En el panel de acciones, seleccione **Crear configuración**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-300">On the Action Pane, select **Create configuration**.</span></span>
4. <span data-ttu-id="4a1d9-301">En el cuadro de diálogo desplegable, en el campo **Nuevo** , seleccione **Derivar de nombre: modelo de factura de cliente, Microsoft** para indicar que su nueva configuración personalizada de modelo de datos de ER debe basarse en la configuración de modelo de datos de ER.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-301">In the drop-down dialog box, in the **New** field, select **Derive from Name: Customer invoice model, Microsoft** to indicate that your new custom ER data model configuration should be based on the ER data model configuration.</span></span>
5. <span data-ttu-id="4a1d9-302">En el campo **Nombre** , escriba **Modelo de factura (Litware)**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-302">In the **Name** field, enter **Invoice model (Litware)**.</span></span>
6. <span data-ttu-id="4a1d9-303">Seleccione **Crear configuración** para agregar la nueva configuración de ER.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-303">Select **Create configuration** to add the new ER configuration.</span></span>

<span data-ttu-id="4a1d9-304">Ahora puede utilizar el diseñador de modelos de datos de ER para editar la versión 50.1 de la configuración de ER **Modelo de factura (Litware)** con el [estado](general-electronic-reporting.md#component-versioning) **Borrador**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-304">You can now use the ER data model designer to edit version 50.1 of the **Invoice model (Litware)** ER configuration in **Draft** [status](general-electronic-reporting.md#component-versioning).</span></span>

![Versión 50.1 de la configuración de ER editable en la página Configuraciones](./media/er-quick-start3-added-custom-model.png)

#### <a name="configure-a-custom-data-model"></a><span data-ttu-id="4a1d9-306">Configurar un modelo de datos personalizado</span><span class="sxs-lookup"><span data-stu-id="4a1d9-306">Configure a custom data model</span></span>

<span data-ttu-id="4a1d9-307">Debe modificar su modelo de datos personalizado agregando un campo nuevo para proporcionar el valor de un código de identificación fiscal federal.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-307">You must modify your custom data model by adding a new field to provide the value of a federal tax identification code.</span></span> <span data-ttu-id="4a1d9-308">Este código forma parte de los datos del cliente para cada formato de ER que usará este modelo de datos como origen de datos.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-308">This code is part of the customer data for every ER format that will use this data model as a data source.</span></span>

1. <span data-ttu-id="4a1d9-309">En la página **Configuraciones** , en el árbol de configuraciones del panel izquierdo, seleccione **Modelo de factura (Litware)**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-309">On the **Configurations** page, in the configuration tree in the left pane, select **Invoice model (Litware)**.</span></span>
2. <span data-ttu-id="4a1d9-310">En la ficha desplegable **Versiones** , seleccione la versión **50.1** de la configuración de modelo de datos de ER con estado **Borrador** seleccionada.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-310">On the **Versions** FastTab, select version **50.1** of the selected ER data model configuration in **Draft** status.</span></span>
3. <span data-ttu-id="4a1d9-311">En el panel de acciones, seleccione **Diseñador** para la versión de configuración seleccionada.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-311">On the Action Pane, select **Designer** for the selected configuration version.</span></span>
4. <span data-ttu-id="4a1d9-312">En la página **Diseñador de modelos de datos** , en el árbol del modelo de datos, seleccione **Información del cliente (cliente)**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-312">On the **Data model designer** page, in the data model tree, select **Customer information (Customer)**.</span></span>
5. <span data-ttu-id="4a1d9-313">Seleccione **Nuevo**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-313">Select **New**.</span></span>
6. <span data-ttu-id="4a1d9-314">En el cuadro de diálogo desplegable, en el campo **Nuevo nodo como** , acepta el valor predeterminado, **Secundario de un nodo activo**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-314">In the drop-down dialog box, in the **New node as a** field, accept the default value, **Child of an active node**.</span></span>
7. <span data-ttu-id="4a1d9-315">En el campo **Nombre** , escriba **FederalTaxID\_Litware**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-315">In the **Name** field, enter **FederalTaxID\_Litware**.</span></span>
8. <span data-ttu-id="4a1d9-316">En el campo **Tipo de artículo** , acepte el valor predeterminado, **Cadena**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-316">In the **Item type** field, accept the default value, **String**.</span></span>
9. <span data-ttu-id="4a1d9-317">Seleccione **Agregar** y, a continuación, seleccione **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-317">Select **Add** , and then select **Save**.</span></span>

    ![Página de diseñador del modelo de datos](./media/er-quick-start3-add-data-model-field.png)

    > [!NOTE]
    > <span data-ttu-id="4a1d9-319">Los campos **Etiqueta** y **Descripción** describen el propósito del nuevo campo.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-319">The **Label** and **Description** fields describe the purpose of the new field.</span></span> <span data-ttu-id="4a1d9-320">Puede rellenar estos campos en varios idiomas.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-320">You can fill in these fields in multiple languages.</span></span> <span data-ttu-id="4a1d9-321">Para obtener más información, consulte [Diseñar informes multilingües en los informes electrónicos](er-design-multilingual-reports.md).</span><span class="sxs-lookup"><span data-stu-id="4a1d9-321">For more information, see [Design multilingual reports in Electronic reporting](er-design-multilingual-reports.md).</span></span>

10. <span data-ttu-id="4a1d9-322">Cierre la página **Diseñador de modelo de datos**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-322">Close the **Data model designer** page.</span></span>

#### <a name="complete-a-custom-data-model-configuration"></a><span data-ttu-id="4a1d9-323">Completar una configuración de modelo de datos personalizada</span><span class="sxs-lookup"><span data-stu-id="4a1d9-323">Complete a custom data model configuration</span></span>

<span data-ttu-id="4a1d9-324">Debe [completar](general-electronic-reporting.md#component-versioning) su trabajo con la versión 50.1 de la configuración de modelo de datos de ER personalizada para que esté disponible, de forma que se puedan agregar otras configuraciones de ER personalizadas.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-324">You must [complete](general-electronic-reporting.md#component-versioning) your work with version 50.1 of your custom ER data model configuration to make it available so that other custom ER configurations can be added.</span></span>

1. <span data-ttu-id="4a1d9-325">Vaya a **Administración de la organización** \> **Informes electrónicos** \> **Configuraciones**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-325">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="4a1d9-326">En la página **Configuraciones** , en el árbol de configuraciones del panel izquierdo, expanda **Modelo de factura** y seleccione **Modelo de factura (Litware)**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-326">On the **Configurations** page, in the configuration tree in the left pane, expand **Invoice model** , and select **Invoice model (Litware)**.</span></span>
3. <span data-ttu-id="4a1d9-327">En la ficha desplegable **Versiones** , seleccione **Cambiar Estado** \> **Completar** y luego seleccione **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-327">On the **Versions** FastTab, select **Change status** \> **Complete** , and then select **OK**.</span></span>

<span data-ttu-id="4a1d9-328">El estado de la versión 50.1 se cambia de **Borrador** a **Completado** y la versión se convierte en solo lectura.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-328">The status of version 50.1 is changed from **Draft** to **Completed** , and the version becomes read-only.</span></span> <span data-ttu-id="4a1d9-329">Se ha agregado una nueva versión editable, 50.2, y tiene un estado de **Borrador**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-329">A new editable version, 50.2, is added and has a status of **Draft**.</span></span> <span data-ttu-id="4a1d9-330">Puede usar esta versión para realizar más cambios en la configuración de modelo de datos de ER personalizada.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-330">You can use this version to make further changes in your custom ER data model configuration.</span></span>

![Versión 50.1 completada en la página Configuraciones](./media/er-quick-start3-completed-custom-model1.png)

### <a name="customize-the-model-mapping-configuration"></a><span data-ttu-id="4a1d9-332">Personalizar la configuración de la asignación de modelo</span><span class="sxs-lookup"><span data-stu-id="4a1d9-332">Customize the model mapping configuration</span></span>

<span data-ttu-id="4a1d9-333">Como usuario con el rol de Desarrollador de informes electrónicos puede diseñar su asignación de modelo de ER personalizada.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-333">As a user in the Electronic Reporting Developer role, you can design your custom ER model mapping.</span></span>

#### <a name="add-a-custom-model-mapping-configuration"></a><span data-ttu-id="4a1d9-334">Agregar una configuración de asignación de modelo de ER personalizada</span><span class="sxs-lookup"><span data-stu-id="4a1d9-334">Add a custom model mapping configuration</span></span>

1. <span data-ttu-id="4a1d9-335">Vaya a **Administración de la organización** \> **Informes electrónicos** \> **Configuraciones**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-335">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="4a1d9-336">En la página **Configuraciones** , en el árbol de configuraciones del panel izquierdo, expanda **Modelo de factura de cliente** y seleccione **Asignación de modelo de factura de cliente**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-336">On the **Configurations** page, in the configuration tree in the left pane, expand **Customer invoice model** , and select **Customer invoice model mapping**.</span></span>
3. <span data-ttu-id="4a1d9-337">En el panel de acciones, seleccione **Crear configuración**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-337">On the Action Pane, select **Create configuration**.</span></span>
4. <span data-ttu-id="4a1d9-338">En el cuadro de diálogo desplegable, en el campo **Nuevo** , seleccione **Derivar de nombre: asignación de modelo de factura de cliente, Microsoft** para indicar que su nueva configuración personalizada de asignación de modelo de ER debe basarse en la configuración de asignación de modelo de ER.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-338">In the drop-down dialog box, in the **New** field, select **Derive from Name: Customer invoice model mapping, Microsoft** to indicate that your new custom ER model mapping configuration should be based on the ER model mapping configuration.</span></span>
5. <span data-ttu-id="4a1d9-339">En el campo **Nombre** , escriba **Asignación de modelo de factura (Litware)**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-339">In the **Name** field, enter **Invoice model mapping (Litware)**.</span></span>
6. <span data-ttu-id="4a1d9-340">En el campo **Modelo de destino** , seleccione **Modelo de factura (Litware)**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-340">In the **Target model** field, select **Invoice model (Litware)**.</span></span>

    > [!IMPORTANT]
    > <span data-ttu-id="4a1d9-341">Este paso es muy importante.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-341">This step is very important.</span></span> <span data-ttu-id="4a1d9-342">Si lo omite, no podrá utilizar su modelo de datos personalizado en la asignación de modelo configurada.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-342">If you omit it, you won't be able to use your custom data model in the configured model mapping.</span></span>

7. <span data-ttu-id="4a1d9-343">Seleccione **Crear configuración** para agregar la nueva configuración de ER.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-343">Select **Create configuration** to add the new ER configuration.</span></span>

![Agregar una asignación de modelo personalizada en la página Configuraciones](./media/er-quick-start3-adding-custom-mapping.png)

#### <a name="configure-a-custom-model-mapping"></a><span data-ttu-id="4a1d9-345">Configurar una asignación de modelo personalizada</span><span class="sxs-lookup"><span data-stu-id="4a1d9-345">Configure a custom model mapping</span></span>

<span data-ttu-id="4a1d9-346">Debe modificar la asignación de su modelo personalizado y especificar cómo se debe rellenar el campo personalizado **FederalTaxID\_Litware** del modelo de datos personalizado con los datos de la aplicación en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-346">You must modify your custom model mapping and specify how the custom **FederalTaxID\_Litware** field of the custom data model should be filled in with application data at runtime.</span></span>

1. <span data-ttu-id="4a1d9-347">Vaya a **Administración de la organización** \> **Informes electrónicos** \> **Configuraciones**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-347">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="4a1d9-348">En la página **Configuraciones** , en el árbol de configuraciones del panel izquierdo, expanda **Modelo de factura de cliente** \> **Asignación de modelo de factura de cliente** y seleccione **Asignación de modelo de factura (Litware)**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-348">On the **Configurations** page, in the configuration tree in the left pane, expand **Customer invoice model** \> **Customer invoice model mapping** , and select **Invoice model mapping (Litware)**.</span></span>
3. <span data-ttu-id="4a1d9-349">En el panel de acciones, haga clic en **Diseñador**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-349">On the Action Pane, select **Designer**.</span></span>
4. <span data-ttu-id="4a1d9-350">En la página **Asignación de modelo a origen de datos** , seleccione la asignación **Factura de cliente**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-350">On the **Model to datasource mapping** page, select the **Customer invoice** mapping.</span></span>

    ![Página de asignación de modelo a origen de datos.](./media/er-quick-start3-select-customer-mapping.png)

5. <span data-ttu-id="4a1d9-352">Seleccione **Diseñador**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-352">Select **Designer**.</span></span>
6. <span data-ttu-id="4a1d9-353">En la página **Diseñador de asignación de modelo** , en el panel **Orígenes de datos** , expanda el origen de datos **CustInvoiceJour** , que representa la tabla de aplicación **CustInvoiceJour**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-353">On the **Model mapping designer** page, in the **Data sources** pane, expand the **CustInvoiceJour** data source that represents the **CustInvoiceJour** application table.</span></span>
7. <span data-ttu-id="4a1d9-354">En **CustInvoiceJour** , expanda **Relaciones** para revisar la lista de relaciones de tipo varios a uno (N: 1) para la tabla **CustInvoiceJour**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-354">Under **CustInvoiceJour** , expand **Relations** to review the list of relations of the many-to-one (N:1) type for the **CustInvoiceJour** table.</span></span>
8. <span data-ttu-id="4a1d9-355">En **CustInvoiceJour** \> **Relaciones** , expanda **Clientes (CustTable)** para acceder a los campos y relaciones de la tabla **Clientes (CustTable)**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-355">Under **CustInvoiceJour** \> **Relations** , expand **Customers (CustTable)** to access the fields and relations of the **Customers (CustTable)** table.</span></span>
9. <span data-ttu-id="4a1d9-356">Seleccione el campo de origen de datos **FederalTaxID\_Personalizado** que implementó [anteriormente](#insert_custom_field).</span><span class="sxs-lookup"><span data-stu-id="4a1d9-356">Select the **FederalTaxID\_Custom** data source field that you implemented [earlier](#insert_custom_field).</span></span>
10. <span data-ttu-id="4a1d9-357">En el panel **Modelo de datos** , expanda **Información del cliente (cliente)** y seleccione el campo de modelo de datos **FederalTaxID\_Litware**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-357">In the **Data model** pane, expand **Customer information (Customer)** , and select the **FederalTaxID\_Litware** data model field.</span></span>
11. <span data-ttu-id="4a1d9-358">Seleccione **Enlazar**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-358">Select **Bind**.</span></span>

    ![Página de diseñador de asignación de modelos](./media/er-quick-start3-customize-model-mapping.gif)

12. <span data-ttu-id="4a1d9-360">Seleccione **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-360">Select **Save**.</span></span>
13. <span data-ttu-id="4a1d9-361">Cierre la página **Diseñador de distribución del modelo**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-361">Close the **Model mapping designer** page.</span></span>
14. <span data-ttu-id="4a1d9-362">Cierre la página **Asignación de modelo a origen de datos**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-362">Close the **Model to datasource mapping** page.</span></span>

#### <a name="complete-a-custom-model-mapping-configuration"></a><span data-ttu-id="4a1d9-363">Completar una configuración de asignación de modelo personalizada</span><span class="sxs-lookup"><span data-stu-id="4a1d9-363">Complete a custom model mapping configuration</span></span>

<span data-ttu-id="4a1d9-364">Debe [completar](general-electronic-reporting.md#component-versioning) su trabajo con la versión 50.19.1 de su configuración de asignación de modelo de ER personalizada para que esté disponible.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-364">You must [complete](general-electronic-reporting.md#component-versioning) your work with version 50.19.1 of your custom ER model mapping configuration to make it available for use.</span></span>

1. <span data-ttu-id="4a1d9-365">Vaya a **Administración de la organización** \> **Informes electrónicos** \> **Configuraciones**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-365">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="4a1d9-366">En la página **Configuraciones** , en el árbol de configuraciones del panel izquierdo, expanda **Modelo de factura de cliente** \> **Asignación de modelo de factura de cliente** y seleccione **Asignación de modelo de factura (Litware)**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-366">On the **Configurations** page, in the configuration tree in the left pane, expand **Customer invoice model** \> **Customer invoice model mapping** , and select **Invoice model mapping (Litware)**.</span></span>
3. <span data-ttu-id="4a1d9-367">En la ficha desplegable **Versiones** , seleccione **Cambiar Estado** \> **Completar** y luego seleccione **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-367">On the **Versions** FastTab, select **Change status** \> **Complete** , and then select **OK**.</span></span>

<span data-ttu-id="4a1d9-368">El estado de la versión 50.19.1 se cambia de **Borrador** a **Completado** y la versión se convierte en solo lectura.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-368">The status of version 50.19.1 is changed from **Draft** to **Completed** , and the version becomes read-only.</span></span> <span data-ttu-id="4a1d9-369">Se ha agregado una nueva versión editable, 50.19.2, y tiene un estado de **Borrador**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-369">A new editable version, 50.19.2, is added and has a status of **Draft**.</span></span> <span data-ttu-id="4a1d9-370">Puede usar esta versión para realizar más cambios en la configuración de asignación de modelo de ER personalizada.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-370">You can use this version to make further changes in your custom ER model mapping configuration.</span></span>

![Versión 50.19.1 completada en la página Configuraciones](./media/er-quick-start3-completed-custom-mapping1.png)

> [!NOTE]
> <span data-ttu-id="4a1d9-372">El [ciclo de vida](general-electronic-reporting-manage-configuration-lifecycle.md) de configuración admitido no cubre el ciclo de vida de los cambios de base de datos.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-372">The supported configuration [lifecycle](general-electronic-reporting-manage-configuration-lifecycle.md) doesn't cover the lifecycle of database changes.</span></span> <span data-ttu-id="4a1d9-373">Si exporta la versión 50.19.1 de la configuración de **Asignación de modelo de factura (Litware)** de la instancia de Finance actual e intenta importarla en otra instancia que no contenga el campo **FederalTaxID\_Personalizado** de la tabla **CustTable** , se producirá una excepción.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-373">If you export version 50.19.1 of the **Invoice model mapping (Litware)** configuration from the current Finance instance and try to import it into another instance that doesn't contain the custom **FederalTaxID\_Custom** field in the **CustTable** table, an exception will occur.</span></span> <span data-ttu-id="4a1d9-374">La excepción indicará que la configuración de ER importada no es compatible con los metadatos de la instancia de Finance de destino.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-374">The exception will state that the imported ER configuration isn't compatible with the metadata of the target Finance instance.</span></span>

### <a name="customize-the-format-configuration"></a><span data-ttu-id="4a1d9-375">Personalizar la configuración del formato</span><span class="sxs-lookup"><span data-stu-id="4a1d9-375">Customize the format configuration</span></span>

<span data-ttu-id="4a1d9-376">Como usuario con el rol de Consultor funcional de informes electrónicos, puede diseñar su formato de ER personalizado.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-376">As a user in the Electronic Reporting Functional Consultant role, you can design your custom ER format.</span></span>

#### <a name="add-a-custom-format-configuration"></a><span data-ttu-id="4a1d9-377">Agregar una configuración de formato personalizada</span><span class="sxs-lookup"><span data-stu-id="4a1d9-377">Add a custom format configuration</span></span>

1. <span data-ttu-id="4a1d9-378">Vaya a **Administración de la organización** \> **Informes electrónicos** \> **Configuraciones**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-378">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="4a1d9-379">En la página **Configuraciones** , en el árbol de configuraciones del panel izquierdo, expanda **Modelo de factura de cliente** \> **Factura de ventas UBL** y seleccione **Factura de ventas Peppol**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-379">On the **Configurations** page, in the configuration tree in the left pane, expand **Customer invoice model** \> **UBL Sales invoice** , and select **Peppol Sales Invoice**.</span></span>
3. <span data-ttu-id="4a1d9-380">En el panel de acciones, seleccione **Crear configuración**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-380">On the Action Pane, select **Create configuration**.</span></span>
4. <span data-ttu-id="4a1d9-381">En el cuadro de diálogo desplegable, en el campo **Nuevo** , seleccione **Derivar de nombre: factura de ventas Peppol, Microsoft** para indicar que su configuración de formato de ER personalizada debe basarse en el formato de ER.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-381">In the drop-down dialog box, in the **New** field, select **Derive from Name: Peppol Sales Invoice, Microsoft** to indicate that your custom ER format configuration should be based on the ER format configuration.</span></span>
5. <span data-ttu-id="4a1d9-382">En el campo **Nombre** , escriba **Factura de ventas Peppol (Litware)**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-382">In the **Name** field, enter **Peppol Sales Invoice (Litware)**.</span></span>
6. <span data-ttu-id="4a1d9-383">En el campo **Modelo de datos** , seleccione **Modelo de factura (Litware)** para utilizar sus componentes personalizados de modelo de datos y asignación de modelo.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-383">In the **Data model** field, select **Invoice model (Litware)** to use your custom data model and model mapping components.</span></span>

    > [!NOTE]
    > <span data-ttu-id="4a1d9-384">Este paso es muy importante.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-384">This step is very important.</span></span> <span data-ttu-id="4a1d9-385">Si lo omite, no podrá utilizar su modelo de datos personalizado en el formato configurado.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-385">If you omit it, you won't be able to use your custom data model in the configured format.</span></span>

7. <span data-ttu-id="4a1d9-386">En el campo **Modelo de datos** , seleccione la definición de raíz **InvoiceCustomer**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-386">In the **Data model** field, select the **InvoiceCustomer** root definition.</span></span>
8. <span data-ttu-id="4a1d9-387">Seleccione **Crear configuración** para agregar la nueva configuración de ER.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-387">Select **Create configuration** to add the new ER configuration.</span></span>

![Agregar una configuración de formato personalizada en la página Configuraciones](./media/er-quick-start3-adding-custom-format.png)

<span data-ttu-id="4a1d9-389">Ahora puede utilizar el diseñador de operaciones de ER para editar la versión 11.2.2.1 de la configuración de ER **Factura de ventas Peppol (Litware)** con el [estado](general-electronic-reporting.md#component-versioning) **Borrador**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-389">You can now use the ER Operations designer to edit version 11.2.2.1 of the **Peppol Sales Invoice (Litware)** ER configuration in **Draft** [status](general-electronic-reporting.md#component-versioning).</span></span>

![Versión 11.2.2.1 de la configuración de ER editable en la página Configuraciones](./media/er-quick-start3-added-custom-format.png)

#### <a name="configure-a-custom-format"></a><span data-ttu-id="4a1d9-391">Configurar un formato personalizado</span><span class="sxs-lookup"><span data-stu-id="4a1d9-391">Configure a custom format</span></span>

<span data-ttu-id="4a1d9-392">Debe modificar su formato personalizado agregando un nuevo elemento de formato para rellenar el valor del código de identificación fiscal federal de un cliente facturado.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-392">You must modify your custom format by adding a new format element to fill in the value of an invoiced customer's federal tax identification code.</span></span>

1. <span data-ttu-id="4a1d9-393">Vaya a **Administración de la organización** \> **Informes electrónicos** \> **Configuraciones**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-393">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="4a1d9-394">En la página **Configuraciones** , en el árbol de configuraciones del panel izquierdo, expanda **Modelo de factura de cliente** \> **Factura de ventas UBL** \> **Factura de ventas** y seleccione **Factura de ventas Peppol**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-394">On the **Configurations** page, in the configuration tree in the left pane, expand **Customer invoice model** \> **UBL Sales invoice** \> **Peppol Sales Invoice** , and select **Peppol Sales Invoice (Litware)**.</span></span>
3. <span data-ttu-id="4a1d9-395">En el panel de acciones, haga clic en **Diseñador**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-395">On the Action Pane, select **Designer**.</span></span>
4. <span data-ttu-id="4a1d9-396">En el árbol de formato, expanda **XMLHeader** \> **Factura** \> **cac: AccountingCustomerParty** \> **cac:Party** \> **cac:PartyTaxScheme** \> **cac:TaxScheme** y seleccione **cbc:ID**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-396">In the format tree, expand **XMLHeader** \> **Invoice** \> **cac:AccountingCustomerParty** \> **cac:Party** \> **cac:PartyTaxScheme** \> **cac:TaxScheme** , and select **cbc:ID**.</span></span>
5. <span data-ttu-id="4a1d9-397">Seleccione **Agregar** y, a continuación, seleccione **XML** \> **Atributo**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-397">Select **Add** , and then select **XML** \> **Attribute**.</span></span>
6. <span data-ttu-id="4a1d9-398">En el cuadro de diálogo **Propiedad de componente** , en el campo **Nombre** , escriba **FederalTaxID**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-398">In the **Component property** dialog box, in the **Name** field, enter **FederalTaxID**.</span></span>
7. <span data-ttu-id="4a1d9-399">Seleccione **Aceptar** para agregar un nuevo elemento de formato a fin de crear un nuevo atributo XML **FederalTaxID** en un archivo XML generado.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-399">Select **OK** to add a new format element to create a new **FederalTaxID** XML attribute in a generated XML file.</span></span>
8. <span data-ttu-id="4a1d9-400">En el árbol de formato, en **XMLHeader** \> **Factura** \> **cac:AccountingCustomerParty** \> **cac:Party** \> **cac:PartyTaxScheme** \> **cac:TaxScheme** \> **cbc:ID** , seleccione **FederalTaxID**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-400">In the format tree, under **XMLHeader** \> **Invoice** \> **cac:AccountingCustomerParty** \> **cac:Party** \> **cac:PartyTaxScheme** \> **cac:TaxScheme** \> **cbc:ID** , select **FederalTaxID**.</span></span>
9. <span data-ttu-id="4a1d9-401">Seleccione **Subir**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-401">Select **Move up**.</span></span>

![Nuevo elemento de formato en la página Diseñador de formato](./media/er-quick-start3-customized-format.png)

#### <a name="configure-a-custom-format-mapping"></a><span data-ttu-id="4a1d9-403">Configurar una asignación de formato personalizada</span><span class="sxs-lookup"><span data-stu-id="4a1d9-403">Configure a custom format mapping</span></span>

1. <span data-ttu-id="4a1d9-404">En la página **Diseñador de formato** , en la pestaña **Asignación** , expanda el origen de datos **Factura** del tipo **Modelo**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-404">On the **Format designer** page, on the **Mapping** tab, expand the **Invoice** data source of the **Model** type.</span></span>
2. <span data-ttu-id="4a1d9-405">En **Factura** , expanda **Información del cliente (cliente)** y seleccione **FederalTaxID\_Litware**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-405">Under **Invoice** , expand **Customer information (Customer)** , and select **FederalTaxID\_Litware**.</span></span>
3. <span data-ttu-id="4a1d9-406">Seleccione **Enlazar**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-406">Select **Bind**.</span></span>

    ![Página de diseñador de formato](./media/er-quick-start3-customized-format-mapping.png)

4. <span data-ttu-id="4a1d9-408">Seleccione el origen de datos **Factura** del tipo **Modelo** y, a continuación, seleccione **Editar**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-408">Select the **Invoice** data source of the **Model** type, and then select **Edit**.</span></span>
5. <span data-ttu-id="4a1d9-409">En el campo **Versión** , seleccione la versión **1** de su modelo de datos personalizado y, a continuación, seleccione **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-409">In the **Version** field, select version **1** of your custom data model, and then select **OK**.</span></span>
6. <span data-ttu-id="4a1d9-410">Seleccione **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-410">Select **Save**.</span></span>
7. <span data-ttu-id="4a1d9-411">Cierre la página **Diseñador de formato**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-411">Close the **Format designer** page.</span></span>

#### <a name="complete-a-custom-format-configuration"></a><span data-ttu-id="4a1d9-412">Completar una configuración de formato personalizada</span><span class="sxs-lookup"><span data-stu-id="4a1d9-412">Complete a custom format configuration</span></span>

<span data-ttu-id="4a1d9-413">Debe [completar](general-electronic-reporting.md#component-versioning) su trabajo con la versión 11.2.2.1 de su configuración de formato de ER personalizada para que esté disponible.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-413">You must [complete](general-electronic-reporting.md#component-versioning) your work with version 11.2.2.1 of your custom ER format configuration to make it available for use.</span></span>

1. <span data-ttu-id="4a1d9-414">Vaya a **Administración de la organización** \> **Informes electrónicos** \> **Configuraciones**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-414">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="4a1d9-415">En la página **Configuraciones** , en el árbol de configuraciones del panel izquierdo, expanda **Modelo de factura de cliente** \> **Factura de ventas UBL** \> **Factura de ventas** y seleccione **Factura de ventas Peppol**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-415">On the **Configurations** page, in the configuration tree in the left pane, expand **Customer invoice model** \> **UBL Sales invoice** \> **Peppol Sales Invoice** , and select **Peppol Sales Invoice (Litware)**.</span></span>
3. <span data-ttu-id="4a1d9-416">En la ficha desplegable **Versiones** , seleccione **Cambiar Estado** \> **Completar** y luego seleccione **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-416">On the **Versions** FastTab, select **Change status** \> **Complete** , and then select **OK**.</span></span>

<span data-ttu-id="4a1d9-417">El estado de la versión 11.2.2.1 se cambia de **Borrador** a **Completado** y la versión se convierte en solo lectura.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-417">The status of version 11.2.2.1 is changed from **Draft** to **Completed** , and the version becomes read-only.</span></span> <span data-ttu-id="4a1d9-418">Se ha agregado una nueva versión editable, 11.2.2.2, y tiene un estado de **Borrador**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-418">A new editable version, 11.2.2.2, is added and has a status of **Draft**.</span></span> <span data-ttu-id="4a1d9-419">Puede usar esta versión para realizar más cambios en su configuración de formato ER personalizada.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-419">You can use this version to make further changes in your custom ER format configuration.</span></span>

![Versión 11.2.2.1 completada en la página Configuraciones](./media/er-quick-start3-completed-custom-format1.png)

## <a name="configure-the-accounts-receivable-parameters-to-start-to-use-custom-er-configurations"></a><a name="ConfigureAR2"></a><span data-ttu-id="4a1d9-421">Configurar los parámetros de clientes para empezar a usar las configuraciones personalizadas de ER.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-421">Configure the Accounts receivable parameters to start to use custom ER configurations</span></span>

1. <span data-ttu-id="4a1d9-422">Vaya a **Clientes** \> **Configuración** \> **Parámetros de clientes**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-422">Go to **Accounts receivable** \> **Setup** \> **Accounts receivable parameters**.</span></span>
2. <span data-ttu-id="4a1d9-423">En la pestaña **Documentos electrónicos** , en la ficha desplegable **Informes electrónicos** , en el campo **Factura de servicios y ventas** , seleccione **Factura de ventas Peppol (Litware)**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-423">On the **Electronic documents** tab, on the **Electronic reporting** FastTab, in the **Sales and Free text invoice** field, select **Peppol Sales Invoice (Litware)**.</span></span>
3. <span data-ttu-id="4a1d9-424">Seleccione **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-424">Select **Save**.</span></span>

![Página Parámetros de clientes, pestaña Documentos electrónicos, ficha desplegable Informes electrónicos](./media/er-quick-start3-configure-ar2.png)

## <a name="update-a-customer-record-by-adding-a-federal-tax-identification-code"></a><a name="ConfigureCustomer2"></a><span data-ttu-id="4a1d9-426">Actualizar el registro de un cliente agregando un código de identificación fiscal federal</span><span class="sxs-lookup"><span data-stu-id="4a1d9-426">Update a customer record by adding a federal tax identification code</span></span>

1. <span data-ttu-id="4a1d9-427">Vaya a **Clientes** \> **Clientes** \> **Todos los clientes**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-427">Go to **Accounts receivable** \> **Customers** \> **All customers**.</span></span>
2. <span data-ttu-id="4a1d9-428">En la página **Todos los clientes** , seleccione el vínculo de cuente de cliente **DE-014**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-428">On the **All customers** page, select the **DE-014** customer account link.</span></span>
3. <span data-ttu-id="4a1d9-429">En la ficha desplegable **General** , en el campo **Id. de impuestos federales** , escriba **LITWARE-6789**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-429">On the **General** FastTab, in the **Federal Tax ID** field, enter **LITWARE-6789**.</span></span>
4. <span data-ttu-id="4a1d9-430">Seleccione **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-430">Select **Save**.</span></span>

    ![Página de detalles del cliente DE-014](./media/er-quick-start3-added-tax-id-value.png)

5. <span data-ttu-id="4a1d9-432">Cierre la página **Todos los clientes**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-432">Close the **All customers** page.</span></span>

## <a name="process-a-customer-invoice-by-using-custom-er-configurations"></a><a name="ProcessInvoice2"></a><span data-ttu-id="4a1d9-433">Procesar una factura de cliente mediante las configuraciones personalizadas de ER.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-433">Process a customer invoice by using custom ER configurations</span></span>

### <a name="select-and-send-a-posted-invoice"></a><span data-ttu-id="4a1d9-434">Seleccionar y enviar una factura registrada</span><span class="sxs-lookup"><span data-stu-id="4a1d9-434">Select and send a posted invoice</span></span>

1. <span data-ttu-id="4a1d9-435">Vaya a **Clientes** \> **Facturas** \> **Todas las facturas de servicios**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-435">Go to **Accounts receivable** \> **Invoices** \> **All free text invoices**.</span></span>
2. <span data-ttu-id="4a1d9-436">En la página **Factura de servicios** , seleccione la factura que agregó y registró anteriormente.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-436">On the **Free text invoice** page, select the invoice that you previously added and posted.</span></span>
3. <span data-ttu-id="4a1d9-437">En el panel de acciones, en el grupo **Documento** , seleccione **Enviar** \> **Original**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-437">On the Action Pane, in the **Document** group, select **Send** \> **Original**.</span></span>
4. <span data-ttu-id="4a1d9-438">Cierre la página **Factura de servicios**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-438">Close the **Free text invoice** page.</span></span>

### <a name="analyze-a-generated-e-invoice"></a><span data-ttu-id="4a1d9-439">Analizar una factura electrónica generada</span><span class="sxs-lookup"><span data-stu-id="4a1d9-439">Analyze a generated e-invoice</span></span>

1. <span data-ttu-id="4a1d9-440">Vaya a **Administración de la organización** \> **Informes electrónicos** \> **Trabajos de informes electrónicos**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-440">Go to **Organization administration** \> **Electronic reporting** \> **Electronic reporting jobs**.</span></span>
2. <span data-ttu-id="4a1d9-441">En la página **Trabajos de informes electrónicos** , seleccione el registro más reciente que tiene la descripción de tarea **Enviar XML de factura electrónica**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-441">On the **Electronic reporting jobs** page, select the latest record that has the task description **Send the eInvoice XML**.</span></span>
3. <span data-ttu-id="4a1d9-442">Seleccione **Mostrar archivos** para acceder a la lista de archivos generados.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-442">Select **Show files** to access the list of generated files.</span></span>
4. <span data-ttu-id="4a1d9-443">Seleccione **Abrir** para descargar el archivo XML de factura electrónica que se genera.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-443">Select **Open** to download the e-invoice XML file that is generated.</span></span>
5. <span data-ttu-id="4a1d9-444">Analice el archivo XML de factura electrónica.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-444">Analyze the e-invoice XML file.</span></span> <span data-ttu-id="4a1d9-445">Tenga en cuenta que, de acuerdo con su personalización, el esquema de impuestos del cliente incluye el atributo XML **FederalTaxID** , además de los atributos XML **schemeID** y **schemeAgencyID**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-445">Notice that, in accordance with your customization, the customer tax schema includes the custom **FederalTaxID** XML attribute in addition to the **schemeID** and **schemeAgencyID** XML attributes.</span></span> <span data-ttu-id="4a1d9-446">El valor de este nuevo atributo XML lo especifica el id. fiscal federal **LITWARE-6789** que se especificó para un cliente facturado.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-446">The value of this new XML attribute is specified by the **LITWARE-6789** federal tax ID that was entered for an invoiced customer.</span></span>

    ![Vista previa del archivo XML de factura electrónica generado con sus personalizaciones](./media/er-quick-start3-e-invoice2.png)

## <a name="import-the-latest-versions-of-standard-er-configurations"></a><a name="ImportERConfigurations2"></a><span data-ttu-id="4a1d9-448">Importar las versiones más recientes de las configuraciones estándar de ER</span><span class="sxs-lookup"><span data-stu-id="4a1d9-448">Import the latest versions of standard ER configurations</span></span>

<span data-ttu-id="4a1d9-449">Para mantener [actualizado](general-electronic-reporting-manage-configuration-lifecycle.md) el conjunto de configuraciones estándar de ER en su instancia de Finance, debe importar nuevas versiones de las configuraciones siempre que estén disponibles en el [repositorio](general-electronic-reporting.md#Repository) de ER que se configuró para esa instancia.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-449">To keep the set of standard ER configurations in your Finance instance [up to date](general-electronic-reporting-manage-configuration-lifecycle.md), you must import new versions of them whenever they become available in the ER [repository](general-electronic-reporting.md#Repository) that was configured for that instance.</span></span>

1. <span data-ttu-id="4a1d9-450">Vaya a **Administración de la organización** \> **Espacios de trabajo** \> **Informes electrónicos**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-450">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="4a1d9-451">En la página **Configuraciones de localización** , en la sección **Proveedores de configuración** , seleccione el mosaico **Microsoft** y luego seleccione **Repositorios** para ver la lista de repositorios para el proveedor de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-451">On the **Localization configurations** page, in the **Configuration providers** section, select the **Microsoft** tile, and then select **Repositories** to view the list of repositories for the Microsoft provider.</span></span>
3. <span data-ttu-id="4a1d9-452">En la página **Configuración de repositorios** , seleccione el repositorio existente del tipo **Global** y después seleccione **Abrir**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-452">On the **Configuration repositories** page, select the repository of the **Global** type, and then select **Open**.</span></span> <span data-ttu-id="4a1d9-453">Si se le solicita autorización para conectarse al Regulatory Configuration Service, siga las instrucciones de autorización.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-453">If you're prompted for authorization to connect to Regulatory Configuration Service, follow the authorization instructions.</span></span>
4. <span data-ttu-id="4a1d9-454">En la página **Repositorio de configuración** , en el árbol de configuración del panel izquierdo, seleccione el formato de configuración **Factura de ventas Peppol**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-454">On the **Configuration repository** page, in the configuration tree in the left pane, select the **Peppol Sales Invoice** format configuration.</span></span>
5. <span data-ttu-id="4a1d9-455">En la ficha desplegable **Versiones** , seleccione la versión **32.6.7** de la configuración de formato de ER seleccionada que se ha lanzado para permitir el uso de facturas electrónicas de cliente con el formato PEPPOL BIS 3.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-455">On the **Versions** FastTab, select version **32.6.7** of the selected ER format configuration that has been released to support customer electronic invoices in PEPPOL BIS 3 format.</span></span> <span data-ttu-id="4a1d9-456">Para obtener más información, consulte [KB4490320](https://support.microsoft.com/help/4490320/an-update-for-european-union-to-support-export-of-customers-electronic).</span><span class="sxs-lookup"><span data-stu-id="4a1d9-456">For more information, see [KB4490320](https://support.microsoft.com/help/4490320/an-update-for-european-union-to-support-export-of-customers-electronic).</span></span>
6. <span data-ttu-id="4a1d9-457">Seleccione **Importar** para descargar la versión seleccionada del repositorio Global a la instancia actual de Finance.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-457">Select **Import** to download the selected version from the Global repository to the current Finance instance.</span></span>

![Versión 32.6.7 seleccionada en la página Repositorio de configuraciones](./media/er-quick-start3-import-solution2.png)

<span data-ttu-id="4a1d9-459">Para obtener información sobre cómo se puede automatizar este proceso, consulte [Importar versiones actualizadas de configuraciones de ER](er-download-updated-versions-global-repo.md).</span><span class="sxs-lookup"><span data-stu-id="4a1d9-459">For information about how this process can be automated, see [Import updated versions of ER configurations](er-download-updated-versions-global-repo.md).</span></span>

### <a name="review-the-imported-er-configurations"></a><span data-ttu-id="4a1d9-460">Revisar las configuraciones importadas de ER</span><span class="sxs-lookup"><span data-stu-id="4a1d9-460">Review the imported ER configurations</span></span>

1. <span data-ttu-id="4a1d9-461">Vaya a **Administración de la organización** \> **Espacios de trabajo** \> **Informes electrónicos**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-461">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="4a1d9-462">En la página **Configuraciones de localización** , en la sección **Configuraciones** , seleccione el icono **Configuraciones de informes**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-462">On the **Localization configurations** page, in the **Configurations** section, select the **Reporting configurations** tile.</span></span>
3. <span data-ttu-id="4a1d9-463">Expanda la ficha desplegable **Componentes de la configuración**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-463">Expand the **Configuration components** FastTab.</span></span>
4. <span data-ttu-id="4a1d9-464">En el árbol de configuración del panel izquierdo, expanda **Modelo de factura**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-464">In the configuration tree in the left pane, expand **Invoice model**.</span></span> <span data-ttu-id="4a1d9-465">Observe que el nombre del **Modelo de factura de cliente** ha cambiado a **Modelo de factura** en una de las configuraciones del modelo de datos de ER importadas.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-465">Notice that the name of **Customer invoice model** has been changed to **Invoice model** in one of the imported ER data model configurations.</span></span>
5. <span data-ttu-id="4a1d9-466">En el árbol de configuración del panel izquierdo, expanda **Asignación de modelo de factura**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-466">In the configuration tree in the left pane, expand **Invoice model mapping**.</span></span> <span data-ttu-id="4a1d9-467">Observe que el nombre de la **Asignación del modelo de factura de cliente** ha cambiado a **Asignación de modelo de factura** en una de las configuraciones de asignación de modelo de ER importadas.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-467">Notice that the name of **Customer invoice model mapping** has been changed to **Invoice model mapping** in one of the imported ER model mapping configurations.</span></span>
6. <span data-ttu-id="4a1d9-468">Expanda **Factura de ventas UBL** \> **Factura de venta Peppol**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-468">Expand **UBL Sales invoice** \> **Peppol Sales Invoice**.</span></span>

<span data-ttu-id="4a1d9-469">Tenga en cuenta que, además del formato de ER **Factura de ventas Peppol** seleccionado, se importaron las versiones más recientes de otras configuraciones de ER necesarias.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-469">Notice that, in addition to the selected **Peppol Sales Invoice** ER format, the latest versions of other required ER configurations were imported.</span></span> <span data-ttu-id="4a1d9-470">Como se publican constantemente nuevas versiones de las configuraciones de ER en el repositorio Global y LCS para mantener la compatibilidad de las soluciones de ER correspondientes compatibles con los nuevos requisitos, se han importado las versiones más recientes de la configuración de modelo de datos requerida y su asignación de modelo.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-470">Because new versions of ER configurations are constantly published to the Global repository and LCS to keep the corresponding ER solutions compliant with new requirements, the latest versions of the required data model configuration and its model mapping configurations were imported.</span></span>

<span data-ttu-id="4a1d9-471">Asegúrese de que las siguientes configuraciones de ER estén disponibles en el árbol de configuración:</span><span class="sxs-lookup"><span data-stu-id="4a1d9-471">Make sure that the following ER configurations are eventually available in the configuration tree:</span></span>

- <span data-ttu-id="4a1d9-472">Configuración del modelo de datos de ER **Modelo de factura** :</span><span class="sxs-lookup"><span data-stu-id="4a1d9-472">**Invoice model** ER data model configuration:</span></span>

    - <span data-ttu-id="4a1d9-473">La versión 206 (o posterior) contiene la versión 24 (o posterior) del componente modelo de datos de ER que representa la estructura de datos del dominio empresarial de facturación.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-473">Version 206 (or later) contains version 24 (or later) of the data model ER component that represents the data structure of the invoicing business domain.</span></span> <span data-ttu-id="4a1d9-474">Esta configuración de ER se ha importado como un antepasado de la versión más reciente disponible de la configuración de asignación de modelo de ER **Asignación de modelo de factura**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-474">This ER configuration has been imported as an ancestor of the latest available **Invoice model mapping** ER model mapping configuration.</span></span>

    ![Versión 206 en la página Configuraciones](./media/er-quick-start3-imported-solution2b1.png)

- <span data-ttu-id="4a1d9-476">Configuración de la asignación de modelo de ER **Asignación de modelo de factura** :</span><span class="sxs-lookup"><span data-stu-id="4a1d9-476">**Invoice model mapping** ER model mapping configuration:</span></span>

    - <span data-ttu-id="4a1d9-477">La versión 206.132 (o posterior) se ha importado como la implementación más reciente de la versión 206 de la configuración de modelo de datos de ER **Modelo de factura**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-477">Version 206.132 (or later) has been imported as the latest implementation of version 206 of the **Invoice model** ER data model configuration.</span></span> <span data-ttu-id="4a1d9-478">Contiene varios componentes de ER de asignación de modelo que describen cómo se rellena el modelo de datos con los datos de la aplicación en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-478">It contains several model mapping ER components that describe how the data model is filled in with application data at runtime.</span></span>

    ![Versión 206.132 en la página Configuraciones](./media/er-quick-start3-imported-solution2b2.png)

- <span data-ttu-id="4a1d9-480">Configuración de formato de ER **Factura de ventas UBL** :</span><span class="sxs-lookup"><span data-stu-id="4a1d9-480">**UBL Sales invoice** ER format configuration:</span></span>

    - <span data-ttu-id="4a1d9-481">La versión 32.6 contiene los componentes de ER de formato y asignación de formato.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-481">Version 32.6 contains the format and format mapping ER components.</span></span> <span data-ttu-id="4a1d9-482">El componente de formato especifica el diseño del informe.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-482">The format component specifies the report layout.</span></span> <span data-ttu-id="4a1d9-483">El componente de asignación de formato contiene el origen de datos del modelo y especifica cómo se usa este origen de datos para rellenar el diseño del informe en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-483">The format mapping component contains the model data source and specifies how this data source is used to fill in the report layout at runtime.</span></span> <span data-ttu-id="4a1d9-484">Este formato de ER se configuró para generar facturas electrónicas en formato UBL.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-484">This ER format was configured to generate e-invoices in UBL format.</span></span> <span data-ttu-id="4a1d9-485">Se ha importado como antepasado del formato de ER **Factura de ventas Peppol** que se seleccionó para importar.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-485">It has been imported as a parent of the **Peppol Sales Invoice** ER format that was selected for import.</span></span>

- <span data-ttu-id="4a1d9-486">Configuración de formato de ER **Factura de ventas Peppol** :</span><span class="sxs-lookup"><span data-stu-id="4a1d9-486">**Peppol Sales Invoice** ER format configuration:</span></span>

    - <span data-ttu-id="4a1d9-487">La versión 32.6.7 contiene los componentes de ER de formato y asignación de formato que se configuraron para generar facturas electrónicas con formato PEPPOL.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-487">Version 32.6.7 contains the format and format mapping ER components that were configured to generate e-invoices in PEPPOL format.</span></span>

    ![Versión 32.6.7 en la página Configuraciones](./media/er-quick-start3-imported-solution2b3.png)

## <a name="adopt-the-changes-to-the-new-standard-er-configurations-in-your-custom-er-configurations"></a><a name="RebaseCustomERConfigurations"></a><span data-ttu-id="4a1d9-489">Adoptar los cambios de las nuevas versiones de las configuraciones estándar de ER en sus configuraciones personalizadas de ER</span><span class="sxs-lookup"><span data-stu-id="4a1d9-489">Adopt the changes to the new standard ER configurations in your custom ER configurations</span></span>

### <a name="adopt-your-custom-er-data-model"></a><span data-ttu-id="4a1d9-490">Adoptar su modelo de datos de ER personalizado</span><span class="sxs-lookup"><span data-stu-id="4a1d9-490">Adopt your custom ER data model</span></span>

1. <span data-ttu-id="4a1d9-491">Vaya a **Administración de la organización** \> **Informes electrónicos** \> **Configuraciones**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-491">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="4a1d9-492">En la página **Configuraciones** , en el árbol de configuraciones del panel izquierdo, expanda **Modelo de factura** y seleccione **Modelo de factura (Litware)**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-492">On the **Configurations** page, in the configuration tree in the left pane, expand **Invoice model** , and select **Invoice model (Litware)**.</span></span>
3. <span data-ttu-id="4a1d9-493">En la ficha desplegable **Versiones** , para la versión de borrador **50.2** de la configuración de modelo de datos seleccionada, seleccione **Reorganizar**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-493">On the **Versions** FastTab, for draft version **50.2** of the selected data model configuration, select **Rebase**.</span></span>
4. <span data-ttu-id="4a1d9-494">En el campo **Versión de destino** , confirme la selección de la versión **206** de la configuración base del modelo de datos de ER y, a continuación, seleccione **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-494">In the **Target version** field, confirm the selection of version **206** of the base ER data model configuration, and then select **OK**.</span></span>

    <span data-ttu-id="4a1d9-495">La versión de borrador de la configuración personalizada del modelo de datos de ER se vuelve a numerar de **50.2** a **206.2** para indicar que ahora contiene su personalización, fusionada con los cambios en la última versión (206) de la configuración base del modelo de datos de ER.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-495">The draft version of your custom ER data model configuration is renumbered from **50.2** to **206.2** to indicate that it now contains your customization that was merged with the changes in the latest version (206) of the base ER data model configuration.</span></span>

    > [!NOTE]
    > <span data-ttu-id="4a1d9-496">La acción de reorganización es reversible.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-496">The rebase action is reversible.</span></span> <span data-ttu-id="4a1d9-497">Para cancelar esta reorganización, seleccione la versión **50.1** del modelo **Modelo de factura (Litware)** en la ficha desplegable **Versiones** y, a continuación, seleccione **Obtener esta versión**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-497">To cancel this rebase, select version **50.1** of the **Invoice model (Litware)** model on the **Versions** FastTab, and then select **Get this version**.</span></span> <span data-ttu-id="4a1d9-498">La versión 206.2 se volverá a numerar **50.2** y el contenido de la versión borrador 50.2 coincidirá con el contenido de la versión 50.1.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-498">Version 206.2 will be renumbered back to **50.2** , and the content of draft version 50.2 will match the content of version 50.1.</span></span>

5. <span data-ttu-id="4a1d9-499">En la ficha desplegable **Versiones** , seleccione **Cambiar Estado** \> **Completar** y luego seleccione **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-499">On the **Versions** FastTab, select **Change status** \> **Complete** , and then select **OK**.</span></span>

<span data-ttu-id="4a1d9-500">El estado de la versión 206.2 se cambia de **Borrador** a **Completado** y la versión se convierte en solo lectura.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-500">The status of version 206.2 is changed from **Draft** to **Completed** , and the version becomes read-only.</span></span> <span data-ttu-id="4a1d9-501">Se ha agregado una nueva versión editable, 206.3, y tiene un estado de **Borrador**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-501">A new editable version, 206.3, is added and has a status of **Draft**.</span></span> <span data-ttu-id="4a1d9-502">Puede usar esta versión para realizar más cambios en la configuración de modelo de datos de ER personalizada.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-502">You can use this version to make further changes in your custom ER data model configuration.</span></span>

![Versión 206.2 completada en la página Configuraciones](./media/er-quick-start3-completed-custom-model2.png)

### <a name="adopt-your-custom-er-model-mapping"></a><span data-ttu-id="4a1d9-504">Adoptar su asignación de modelo de ER personalizado</span><span class="sxs-lookup"><span data-stu-id="4a1d9-504">Adopt your custom ER model mapping</span></span>

1. <span data-ttu-id="4a1d9-505">Vaya a **Administración de la organización** \> **Informes electrónicos** \> **Configuraciones**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-505">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="4a1d9-506">En la página **Configuraciones** , en el árbol de configuraciones del panel izquierdo, expanda **Modelo de factura** \> **Asignación de modelo de factura** y seleccione **Asignación de modelo de factura (Litware)**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-506">On the **Configurations** page, in the configuration tree in the left pane, expand **Invoice model** \> **Invoice model mapping** , and select **Invoice model mapping (Litware)**.</span></span>
3. <span data-ttu-id="4a1d9-507">En la ficha desplegable **Versiones** , para la versión de borrador **50.19.2** de la configuración de asignación de modelo seleccionada, seleccione **Reorganizar**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-507">On the **Versions** FastTab, for draft version **50.19.2** of the selected model mapping configuration, select **Rebase**.</span></span>
4. <span data-ttu-id="4a1d9-508">En el campo **Versión de destino** , confirme la selección de la versión **206.132** de la configuración base de la asignación de modelo de ER y, a continuación, seleccione **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-508">In the **Target version** field, confirm the selection of version **206.132** of the base ER model mapping configuration, and then select **OK**.</span></span>

    <span data-ttu-id="4a1d9-509">La versión de borrador de la configuración personalizada de asignación de modelo de ER se vuelve a numerar de **50.19.2** a **206.132.2** para indicar que ahora contiene su personalización, fusionada con los cambios en la última versión (206.132) de la configuración base de la asignación de modelo de ER.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-509">The draft version of your custom ER model mapping configuration is renumbered from **50.19.2** to **206.132.2** to indicate that it now contains your customization that was merged with the changes in the latest version (206.132) of the base ER model mapping configuration.</span></span>

    <span data-ttu-id="4a1d9-510">Observe que se han descubierto algunos conflictos de reorganización.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-510">Notice that some rebase conflicts were discovered.</span></span> <span data-ttu-id="4a1d9-511">Ahora debe resolver estos conflictos manualmente.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-511">You must now manually resolve those conflicts.</span></span>

    ![Mensaje de conflicto de reorganización en la página Configuraciones](./media/er-quick-start3-rebase-conflicts-model-mapping1.png)

5. <span data-ttu-id="4a1d9-513">En el panel de acciones, seleccione **Diseñador** y, a continuación, en la lista de asignaciones, seleccione **Factura de cliente**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-513">On the Action Pane, select **Designer** , and then, in the list of mappings, select **Customer Invoice**.</span></span>
6. <span data-ttu-id="4a1d9-514">Para cada conflicto de reorganización, seleccione **Conservar su propio valor** , porque debe mantener el número de versión de su modelo de datos personalizado para cada componente que se ha mencionado.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-514">For each rebase conflict, select **Retain own value** , because you must keep the version number of your custom data model for every component that has been mentioned.</span></span>

    ![Conflictos de reorganización en la página del diseñador de asignación de modelo](./media/er-quick-start3-rebase-conflicts-model-mapping2.png)

7. <span data-ttu-id="4a1d9-516">Seleccione **Guardar** y, a continuación, cierre la página **Diseñador de asignación de modelo**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-516">Select **Save** , and then close the **Model mapping designer** page.</span></span>
8. <span data-ttu-id="4a1d9-517">En la lista de asignaciones, seleccione **Factura de proyecto**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-517">In the list of mappings, select **Project Invoice**.</span></span>
9. <span data-ttu-id="4a1d9-518">Para cada conflicto de reorganización, seleccione **Conservar su propio valor** , porque debe mantener el número de versión de su modelo de datos personalizado para cada componente que se ha mencionado.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-518">For each rebase conflict, select **Retain own value** , because you must keep the version number of your custom data model for every component that has been mentioned.</span></span>
10. <span data-ttu-id="4a1d9-519">Seleccione **Guardar** y, a continuación, cierre la página **Asignaciones de modelo**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-519">Select **Save** , and then close the **Model mappings** page.</span></span>

    > [!NOTE]
    > <span data-ttu-id="4a1d9-520">La acción de reorganización es reversible.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-520">The rebase action is reversible.</span></span> <span data-ttu-id="4a1d9-521">Para cancelar esta reorganización, seleccione la versión **50.19.1** del modelo **Asignación de modelo de factura (Litware)** en la ficha desplegable **Versiones** y, a continuación, seleccione **Obtener esta versión**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-521">To cancel this rebase, select version **50.19.1** of the **Invoice model mapping (Litware)** model mapping on the **Versions** FastTab, and then select **Get this version**.</span></span> <span data-ttu-id="4a1d9-522">La versión 206.132.2 se volverá a numerar **50.19.2** y el contenido de la versión borrador 50.19.2 coincidirá con el contenido de la versión 50.19.1.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-522">Version 206.132.2 will be renumbered back to **50.19.2** , and the content of draft version 50.19.2 will match the content of version 50.19.1.</span></span>

11. <span data-ttu-id="4a1d9-523">En la ficha desplegable **Versiones** , seleccione **Cambiar Estado** \> **Completar** y luego seleccione **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-523">On the **Versions** FastTab, select **Change status** \> **Complete** , and then select **OK**.</span></span>

<span data-ttu-id="4a1d9-524">El estado de la versión 206.132.2 se cambia de **Borrador** a **Completado** y la versión se convierte en solo lectura.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-524">The status of version 206.132.2 is changed from **Draft** to **Completed** , and the version becomes read-only.</span></span> <span data-ttu-id="4a1d9-525">Se ha agregado una nueva versión editable, 206.132.3, y tiene un estado de **Borrador**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-525">A new editable version, 206.132.3, is added and has a status of **Draft**.</span></span> <span data-ttu-id="4a1d9-526">Puede usar esta versión para realizar más cambios en la configuración de asignación de modelo de ER personalizada.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-526">You can use this version to make further changes in your custom ER model mapping configuration.</span></span>

![Versión 206.132.2 completada en la página Configuraciones](./media/er-quick-start3-completed-custom-mapping2.png)

### <a name="adopt-your-custom-er-format"></a><span data-ttu-id="4a1d9-528">Adoptar su formato de ER personalizado</span><span class="sxs-lookup"><span data-stu-id="4a1d9-528">Adopt your custom ER format</span></span>

1. <span data-ttu-id="4a1d9-529">Vaya a **Administración de la organización** \> **Informes electrónicos** \> **Configuraciones**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-529">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="4a1d9-530">En la página **Configuraciones** , en el árbol de configuraciones del panel izquierdo, expanda **Modelo de factura** \> **Factura de ventas UBL** \> **Factura de ventas Peppol** y seleccione **Factura de ventas Peppol (Litware)**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-530">On the **Configurations** page, in the configuration tree in the left pane, expand **Invoice model** \> **UBL Sales invoice** \> **Peppol Sales Invoice** , and select **Peppol Sales Invoice (Litware)**.</span></span>
3. <span data-ttu-id="4a1d9-531">En la ficha desplegable **Versiones** , para la versión de borrador **11.2.2.2** de la configuración de formato seleccionada, seleccione **Reorganizar**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-531">On the **Versions** FastTab, for draft version **11.2.2.2** of the selected format configuration, select **Rebase**.</span></span>
4. <span data-ttu-id="4a1d9-532">En el campo **Versión de destino** , confirme la selección de la versión **32.6.7** de la configuración base del formato de ER y, a continuación, seleccione **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-532">In the **Target** version field, confirm the selection of version **32.6.7** of the base ER format configuration, and then select **OK**.</span></span>

    <span data-ttu-id="4a1d9-533">La versión de borrador de la configuración personalizada de formato de ER se vuelve a numerar de **11.2.2.2** a **32.6.7.2** para indicar que ahora contiene su personalización, fusionada con los cambios en la última versión (32.6.7) de la configuración base de formato de ER.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-533">The draft version of your custom ER format configuration is renumbered from **11.2.2.2** to **32.6.7.2** to indicate that it now contains your customization that was merged with the changes in the latest version (32.6.7) of the base ER format configuration.</span></span>

    <span data-ttu-id="4a1d9-534">Observe que se han descubierto algunos conflictos de reorganización.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-534">Notice that some rebase conflicts were discovered.</span></span> <span data-ttu-id="4a1d9-535">Ahora debe resolver estos conflictos manualmente.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-535">You must now manually resolve those conflicts.</span></span>

5. <span data-ttu-id="4a1d9-536">En el panel de acciones, haga clic en **Diseñador**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-536">On the Action Pane, select **Designer**.</span></span>
6. <span data-ttu-id="4a1d9-537">Para cada conflicto de reorganización, seleccione **Conservar su propio valor** , porque debe mantener el número de versión de su modelo de datos personalizado para cada componente que se ha mencionado.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-537">For each rebase conflict, select **Retain own value** , because you must keep the version number of your custom data model for every component that has been mentioned.</span></span>
7. <span data-ttu-id="4a1d9-538">Seleccione **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-538">Select **Save**.</span></span>
8. <span data-ttu-id="4a1d9-539">En la pestaña **Asignación** , seleccione el origen de datos **Factura** del tipo **Modelo** y, a continuación, seleccione **Editar**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-539">On the **Mapping** tab, select the **Invoice** data source of the **Model** type, and then select **Edit**.</span></span>
9. <span data-ttu-id="4a1d9-540">En el campo **Versión** , seleccione la versión **2** de su modelo de datos personalizado y, a continuación, seleccione **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-540">In the **Version** field, select version **2** of your custom data model, and then select **OK**.</span></span>
10. <span data-ttu-id="4a1d9-541">Seleccione **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-541">Select **Save**.</span></span>

    > [!NOTE]
    > <span data-ttu-id="4a1d9-542">La acción de reorganización es reversible.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-542">The rebase action is reversible.</span></span> <span data-ttu-id="4a1d9-543">Para cancelar esta reorganización, seleccione la versión **11.2.2.1** del formato **Factura de ventas Peppol (Litware)** en la ficha desplegable **Versiones** y, a continuación, seleccione **Obtener esta versión**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-543">To cancel this rebase, select version **11.2.2.1** of the **Peppol Sales Invoice (Litware)** format on the **Versions** FastTab, and then select **Get this version**.</span></span> <span data-ttu-id="4a1d9-544">La versión 32.6.7.2 se volverá a numerar **11.2.2.2** y el contenido de la versión borrador 11.2.2.2 coincidirá con el contenido de la versión 11.2.2.1.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-544">Version 32.6.7.2 will be renumbered back to **11.2.2.2** , and the content of draft version 11.2.2.2 will match the content of version 11.2.2.1.</span></span>

11. <span data-ttu-id="4a1d9-545">Cierre la página **Diseñador de formato**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-545">Close the **Format designer** page.</span></span>
12. <span data-ttu-id="4a1d9-546">En la ficha desplegable **Versiones** , seleccione **Cambiar Estado** \> **Completar** y luego seleccione **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-546">On the **Versions** FastTab, select **Change status** \> **Complete** , and then select **OK**.</span></span>

<span data-ttu-id="4a1d9-547">El estado de la versión 32.6.7.2 se cambia de **Borrador** a **Completado** y la versión se convierte en solo lectura.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-547">The status of version 32.6.7.2 is changed from **Draft** to **Completed** , and the version becomes read-only.</span></span> <span data-ttu-id="4a1d9-548">Se ha agregado una nueva versión editable, 32.6.7.3, y tiene un estado de **Borrador**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-548">A new editable version, 32.6.7.3, is added and has a status of **Draft**.</span></span> <span data-ttu-id="4a1d9-549">Puede usar esta versión para realizar más cambios en su configuración de formato ER personalizada.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-549">You can use this version to make further changes in your custom ER format configuration.</span></span>

![Versión 32.6.7.2 completada en la página Configuraciones](./media/er-quick-start3-completed-custom-format2.png)

## <a name="process-a-customer-invoice-by-using-new-versions-of-the-custom-er-configurations"></a><a name="ProcessInvoice3"></a><span data-ttu-id="4a1d9-551">Procesar una factura de cliente mediante las nuevas versiones de las configuraciones personalizadas de ER.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-551">Process a customer invoice by using new versions of the custom ER configurations</span></span>

### <a name="select-and-send-a-posted-invoice"></a><span data-ttu-id="4a1d9-552">Seleccionar y enviar una factura registrada</span><span class="sxs-lookup"><span data-stu-id="4a1d9-552">Select and send a posted invoice</span></span>

1. <span data-ttu-id="4a1d9-553">Vaya a **Clientes** \> **Facturas** \> **Todas las facturas de servicios**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-553">Go to **Accounts receivable** \> **Invoices** \> **All free text invoices**.</span></span>
2. <span data-ttu-id="4a1d9-554">En la página **Factura de servicios** , seleccione la factura que agregó y registró anteriormente.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-554">On the **Free text invoice** page, select the invoice that you previously added and posted.</span></span>
3. <span data-ttu-id="4a1d9-555">En el panel de acciones, en el grupo **Documento** , seleccione **Enviar** \> **Original**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-555">On the Action Pane, in the **Document** group, select **Send** \> **Original**.</span></span>

    > [!NOTE] 
    > <span data-ttu-id="4a1d9-556">Como ahora tiene dos versiones de la configuración de formato de ER **Factura de venta de Peppol (Litware)** y ninguna versión tiene un valor de [fecha efectiva](general-electronic-reporting.md#component-date-effectivity), se utiliza la última versión para generar una factura electrónica.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-556">Because you now have two versions of the **Peppol Sales Invoice (Litware)** ER format configuration, and neither version has an [effective date](general-electronic-reporting.md#component-date-effectivity) value, the latest version is used to generate an e-invoice.</span></span>

4. <span data-ttu-id="4a1d9-557">Cierre la página **Factura de servicios**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-557">Close the **Free text invoice** page.</span></span>

### <a name="analyze-a-generated-e-invoice"></a><span data-ttu-id="4a1d9-558">Analizar una factura electrónica generada</span><span class="sxs-lookup"><span data-stu-id="4a1d9-558">Analyze a generated e-invoice</span></span>

1. <span data-ttu-id="4a1d9-559">Vaya a **Administración de la organización** \> **Informes electrónicos** \> **Trabajos de informes electrónicos**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-559">Go to **Organization administration** \> **Electronic reporting** \> **Electronic reporting jobs**.</span></span>
2. <span data-ttu-id="4a1d9-560">En la página **Trabajos de informes electrónicos** , seleccione el registro más reciente que tiene la descripción de tarea **Enviar XML de factura electrónica**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-560">On the **Electronic reporting jobs** page, select the most recent record that has the task description **Send the eInvoice XML**.</span></span>
3. <span data-ttu-id="4a1d9-561">Seleccione **Mostrar archivos** para acceder a la lista de archivos generados.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-561">Select **Show files** to access the list of generated files.</span></span>
4. <span data-ttu-id="4a1d9-562">Seleccione **Abrir** para descargar el archivo XML de factura electrónica que se genera.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-562">Select **Open** to download the e-invoice XML file that is generated.</span></span>
5. <span data-ttu-id="4a1d9-563">Analice el archivo XML de factura electrónica.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-563">Analyze the e-invoice XML file.</span></span> <span data-ttu-id="4a1d9-564">Tenga en cuenta que, de acuerdo con su personalización, el esquema de impuestos del cliente incluye el atributo XML **FederalTaxID** , además de los atributos XML **schemeID** y **schemeAgencyID**.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-564">Notice that, in accordance with your customization, the customer tax schema still contains the custom **FederalTaxID** XML attribute in addition to the **schemeID** and **schemeAgencyID** XML attributes.</span></span> <span data-ttu-id="4a1d9-565">Además, debido a que los cambios en la nueva versión del formato base **Factura de ventas UBL** se fusionaron con su personalización, el texto del elemento XML **cbc:CustomizationID** ha cambiado de `urn:www.cenbii.eu:transaction:biicoretrdm010:ver1.0:# urn:www.peppol.eu:bis:peppol5a:ver1.0` a `urn:cen.eu:en16931:2017#compliant#urn:fdc:peppol.eu:2017:poacc:billing:3.0`.</span><span class="sxs-lookup"><span data-stu-id="4a1d9-565">Additionally, because the changes in the new version of the base **UBL Sales invoice** format were merged with your customization, the text of the **cbc:CustomizationID** XML element has been changed from `urn:www.cenbii.eu:transaction:biicoretrdm010:ver1.0:# urn:www.peppol.eu:bis:peppol5a:ver1.0` to `urn:cen.eu:en16931:2017#compliant#urn:fdc:peppol.eu:2017:poacc:billing:3.0`.</span></span>

    ![Vista previa del archivo XML de factura electrónica generado con sus personalizaciones](./media/er-quick-start3-e-invoice3.png)

## <a name="additional-resources"></a><span data-ttu-id="4a1d9-567">Recursos adicionales</span><span class="sxs-lookup"><span data-stu-id="4a1d9-567">Additional resources</span></span>

- [<span data-ttu-id="4a1d9-568">Visión general de los informes electrónicos</span><span class="sxs-lookup"><span data-stu-id="4a1d9-568">Electronic Reporting overview</span></span>](general-electronic-reporting.md)
- [<span data-ttu-id="4a1d9-569">Descargar configuraciones ER de Lifecycle Services</span><span class="sxs-lookup"><span data-stu-id="4a1d9-569">Download ER configurations from Lifecycle Services</span></span>](download-electronic-reporting-configuration-lcs.md)
- [<span data-ttu-id="4a1d9-570">Descargue las configuraciones de ER del repositorio global del servicio de configuración</span><span class="sxs-lookup"><span data-stu-id="4a1d9-570">Download ER configurations from Global repository of Configuration service</span></span>](er-download-configurations-global-repo.md)
- [<span data-ttu-id="4a1d9-571">Crear una factura de servicio</span><span class="sxs-lookup"><span data-stu-id="4a1d9-571">Create a free text invoice</span></span>](https://docs.microsoft.com/dynamics365/finance/accounts-receivable/create-free-text-invoice-new)
- [<span data-ttu-id="4a1d9-572">Crear y trabajar con campos personalizados</span><span class="sxs-lookup"><span data-stu-id="4a1d9-572">Create and work with custom fields</span></span>](https://docs.microsoft.com/dynamics365/fin-ops-core/fin-ops/get-started/user-defined-fields)
