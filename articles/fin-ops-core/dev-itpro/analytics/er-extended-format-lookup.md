---
title: Búsqueda de formato extendido de informes electrónicos (ER)
description: Este tema describe cómo se puede configurar una referencia de formato ER en la búsqueda de formato ER cuando el formato requerido se almacena en el repositorio Global.
author: NickSelin
manager: AnnBe
ms.date: 03/17/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
ms.search.form: ERSolutionTable, ERWorkspace
audience: Application User
ms.reviewer: kfend
ms.search.scope: Core, Operations
ms.custom: 97423
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2020-04-01
ms.dyn365.ops.version: AX 10.0.9
ms.openlocfilehash: 28bdd02c25db27536a489f9e8ab2a91a5ca0f09c
ms.sourcegitcommit: b92c3e1b3403d0455fc4e0bf9132d6bc0d7aba5e
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 03/18/2020
ms.locfileid: "3138869"
---
# <a name="allow-users-to-set-up-an-er-format-reference-inquiring-a-format-from-the-global-repository"></a><span data-ttu-id="fc6ed-103">Permitir a los usuarios configurar una referencia de formato ER preguntando un formato desde el repositorio global</span><span class="sxs-lookup"><span data-stu-id="fc6ed-103">Allow users to set up an ER format reference inquiring a format from the Global repository</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="fc6ed-104">Puede usar el marco de [informes electrónicos](general-electronic-reporting.md) (ER) para configurar [formatos](general-electronic-reporting.md#FormatComponentOutbound) para documentos de salida en función de los requisitos legales de diversos países o regiones.</span><span class="sxs-lookup"><span data-stu-id="fc6ed-104">You can use the [Electronic reporting](general-electronic-reporting.md) (ER) framework to configure [formats](general-electronic-reporting.md#FormatComponentOutbound) for outbound documents in accordance to the legal requirements of various countries/regions.</span></span> <span data-ttu-id="fc6ed-105">También puede usar el marco ER para configurar [formatos](general-electronic-reporting.md#FormatComponentInbound) para analizar documentos entrantes y usar la información de esos documentos para agregar o actualizar datos de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="fc6ed-105">You can also use the ER framework to configure [formats](general-electronic-reporting.md#FormatComponentInbound) for parsing inbound documents and use the information from those documents to append or update application data.</span></span> <span data-ttu-id="fc6ed-106">Cada uno de estos formatos puede usarse en su instancia de Dynamics 365 Finance para manejar documentos comerciales entrantes o salientes como parte de un determinado proceso comercial.</span><span class="sxs-lookup"><span data-stu-id="fc6ed-106">Each of these formats can used in your Dynamics 365 Finance instance for handling inbound or outbound business documents as part of a certain business process.</span></span> 

<span data-ttu-id="fc6ed-107">Por lo general, debe especificar qué formato de ER se debe utilizar en un determinado proceso empresarial.</span><span class="sxs-lookup"><span data-stu-id="fc6ed-107">Usually, you must specify what ER format must be used in a certain business process.</span></span> <span data-ttu-id="fc6ed-108">Para hacerlo, seleccione un único formato de ER en un campo de búsqueda que esté configurado como parte de los parámetros específicos del proceso empresarial.</span><span class="sxs-lookup"><span data-stu-id="fc6ed-108">To do that, select a single ER format in a lookup field that is configured as part of business process-specific parameters.</span></span> <span data-ttu-id="fc6ed-109">Estos campos de búsqueda generalmente se implementan utilizando la API apropiada del marco de ER.</span><span class="sxs-lookup"><span data-stu-id="fc6ed-109">These lookup fields are usually implemented by using the appropriate API of the ER framework.</span></span> <span data-ttu-id="fc6ed-110">Para más información, vea [API del marco de ER: código para mostrar una búsqueda de asignación de formato](er-apis-app73.md#code-to-display-a-format-mapping-lookup).</span><span class="sxs-lookup"><span data-stu-id="fc6ed-110">For more information, see [ER framework API - code to display a format mapping lookup](er-apis-app73.md#code-to-display-a-format-mapping-lookup).</span></span>

<span data-ttu-id="fc6ed-111">Por ejemplo, cuando configura [parámetros de comercio exterior](https://docs.microsoft.com/dynamics365/finance/localizations/emea-intrastat#set-up-foreign-trade-parameters), debe configurar las referencias a formatos ER individuales que se utilizarán para generar la declaración Intrastat y el informe de control de la declaración Intrastat.</span><span class="sxs-lookup"><span data-stu-id="fc6ed-111">For example, when you configure [foreign trade parameters](https://docs.microsoft.com/dynamics365/finance/localizations/emea-intrastat#set-up-foreign-trade-parameters), you need to set up the references to individual ER formats that will be used to generate the Intrastat declaration and the Intrastat declaration control report.</span></span> <span data-ttu-id="fc6ed-112">Las capturas de pantalla a continuación muestran cómo se ve el campo de búsqueda de formatos ER en la página **Parámetros de comercio exterior**.</span><span class="sxs-lookup"><span data-stu-id="fc6ed-112">The screenshots below show how the ER formats lookup field looks like in the **Foreign trade parameters** page.</span></span>

<span data-ttu-id="fc6ed-113">Si la instancia actual de Finance no contiene formatos de ER relacionados con el proceso comercial Intrastat, este campo de búsqueda estará vacío.</span><span class="sxs-lookup"><span data-stu-id="fc6ed-113">If the current Finance instance contains no Intrastat business process related ER formats, this lookup field will be empty.</span></span>

<span data-ttu-id="fc6ed-114">[![Página Parámetros de comercio exterior](./media/ER-ExtLookup-Lookup1.gif)](./media/ER-ExtLookup-Lookup1.gif)</span><span class="sxs-lookup"><span data-stu-id="fc6ed-114">[![Foreign trade parameters page](./media/ER-ExtLookup-Lookup1.gif)](./media/ER-ExtLookup-Lookup1.gif)</span></span>

<span data-ttu-id="fc6ed-115">Si la instancia actual de Finance contiene formatos de ER relacionados con el proceso comercial Intrastat, este campo ofrece los formatos de ER.</span><span class="sxs-lookup"><span data-stu-id="fc6ed-115">If the current Finance instance contains Intrastat business process related ER formats, this lookup field offers the ER formats.</span></span>

<span data-ttu-id="fc6ed-116">[![Página Parámetros de comercio exterior](./media/ER-ExtLookup-Lookup2.png)](./media/ER-ExtLookup-Lookup2.png)</span><span class="sxs-lookup"><span data-stu-id="fc6ed-116">[![Foreign trade parameters page](./media/ER-ExtLookup-Lookup2.png)](./media/ER-ExtLookup-Lookup2.png)</span></span>

<span data-ttu-id="fc6ed-117">Esta búsqueda ofrece solo los formatos ER que ya se han importado a la instancia actual de Finance.</span><span class="sxs-lookup"><span data-stu-id="fc6ed-117">This lookup offers only the ER formats that have already been imported to the current Finance instance.</span></span> <span data-ttu-id="fc6ed-118">Para [importar](./tasks/er-import-configuration-lifecycle-services.md) soluciones de ER para la instancia actual de Finance, debe tener permisos para ejecutar la función adecuada del marco de ER que admite el [ciclo de vida](general-electronic-reporting-manage-configuration-lifecycle.md) de soluciones de ER que contienen formatos ER.</span><span class="sxs-lookup"><span data-stu-id="fc6ed-118">To [import](./tasks/er-import-configuration-lifecycle-services.md) ER solutions to the current Finance instance, you need to have permissions to run the appropriate function of the ER framework that supports the [lifecycle](general-electronic-reporting-manage-configuration-lifecycle.md) of ER solutions that contain ER formats.</span></span>

<span data-ttu-id="fc6ed-119">A partir de la versión 10.0.9 de Finance (versión de abril de 2020), se ha ampliado la interfaz de usuario de la búsqueda de formato ER que se implementa utilizando la API de marco ER.</span><span class="sxs-lookup"><span data-stu-id="fc6ed-119">Starting in the Finance version 10.0.9 (April 2020 release), the user interface of the ER format lookup that is implemented by using the ER framework API, has been extended.</span></span> <span data-ttu-id="fc6ed-120">Todavía puede seleccionar los formatos ER existentes, en la ficha desplegable **Seleccionar configuración de formato**.</span><span class="sxs-lookup"><span data-stu-id="fc6ed-120">You can still select the existing ER formats, which on the **Select format configuration** FastTab.</span></span> <span data-ttu-id="fc6ed-121">Además de eso, la búsqueda extendida ofrece la nueva opción de buscar en el repositorio global (GR) para localizar formatos ER específicos.</span><span class="sxs-lookup"><span data-stu-id="fc6ed-121">In addition to that, the extended lookup offers the new option to search the Global repository (GR) to locate specific ER formats.</span></span> <span data-ttu-id="fc6ed-122">Todos los formatos ER del GR se ofrecen en la ficha desplegable **Importar desde el repositorio global**.</span><span class="sxs-lookup"><span data-stu-id="fc6ed-122">All ER formats of the GR are offered on the **Import from Global repository** FastTab.</span></span>

<span data-ttu-id="fc6ed-123">[![Página Parámetros de comercio exterior](./media/ER-ExtLookup-Lookup3.png)](./media/ER-ExtLookup-Lookup3.png)</span><span class="sxs-lookup"><span data-stu-id="fc6ed-123">[![Foreign trade parameters page](./media/ER-ExtLookup-Lookup3.png)](./media/ER-ExtLookup-Lookup3.png)</span></span>

<span data-ttu-id="fc6ed-124">Similar a la ficha desplegable **Seleccionar configuración de formato**, la ficha desplegable **Importar desde el repositorio global** muestra solo los formatos ER que son aplicables al proceso de negocio para el que se selecciona un formato ER en este campo de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="fc6ed-124">Similar to the **Select format configuration** FastTab, the **Import from Global repository** FastTab shows only the ER formats that are applicable to the business process for which an ER format is selected in this lookup field.</span></span> <span data-ttu-id="fc6ed-125">En este ejemplo, la generación de la declaración Intrastat.</span><span class="sxs-lookup"><span data-stu-id="fc6ed-125">In this example, the generation of Intrastat declaration.</span></span> <span data-ttu-id="fc6ed-126">El formato ER es aplicable para la compañía en la que el usuario está actualmente conectado, dependiendo del contexto del país de la compañía.</span><span class="sxs-lookup"><span data-stu-id="fc6ed-126">The ER format is applicable for the company to which the user is currently signed in, depending on the company country context.</span></span>

<span data-ttu-id="fc6ed-127">Cuando selecciona un formato ER en la ficha desplegable **Importar desde el repositorio global**, la [configuración](general-electronic-reporting.md#Configuration) del formato ER seleccionado se importa del GR a la instancia actual de Finance.</span><span class="sxs-lookup"><span data-stu-id="fc6ed-127">When you select an ER format on the **Import from Global repository** FastTab, the selected ER format [configuration](general-electronic-reporting.md#Configuration) is imported from the GR to the current Finance instance.</span></span>

<span data-ttu-id="fc6ed-128">[![Página Parámetros de comercio exterior](./media/ER-ExtLookup-FormatImport.png)](./media/ER-ExtLookup-FormatImport.png)</span><span class="sxs-lookup"><span data-stu-id="fc6ed-128">[![Foreign trade parameters page](./media/ER-ExtLookup-FormatImport.png)](./media/ER-ExtLookup-FormatImport.png)</span></span>

<span data-ttu-id="fc6ed-129">Luego, si la importación se completa con éxito, la referencia al formato ER importado se almacena en este campo de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="fc6ed-129">Then, if the import completes successfully, the reference to the imported ER format is stored in this lookup field.</span></span> <span data-ttu-id="fc6ed-130">Tenga en cuenta que cuando accede al GR por primera vez, debe seguir el enlace proporcionado para registrarse en el [Regulatory Configuration Service](https://aka.ms/rcs) (RCS) que se usa para administrar el acceso al almacenamiento GR.</span><span class="sxs-lookup"><span data-stu-id="fc6ed-130">Note that when you access the GR for the first time, you need to follow the link provided to sign up for the [Regulatory Configuration Service](https://aka.ms/rcs) (RCS) that is used to manage access to the GR storage.</span></span>

<span data-ttu-id="fc6ed-131">[![Página Parámetros de comercio exterior](./media/ER-ExtLookup-RepoSignUp.png)](./media/ER-ExtLookup-RepoSignUp.png)</span><span class="sxs-lookup"><span data-stu-id="fc6ed-131">[![Foreign trade parameters page](./media/ER-ExtLookup-RepoSignUp.png)](./media/ER-ExtLookup-RepoSignUp.png)</span></span>

<span data-ttu-id="fc6ed-132">Por defecto, la ficha desplegable **Importar desde el repositorio global** presenta la lista de formatos ER del almacenamiento temporal que se crea automáticamente en función del contenido GR para mejorar el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="fc6ed-132">By default, the **Import from Global repository** FastTab presents the list of ER formats from the temporary storage that is automatically created based on the GR content for performance improvements.</span></span> <span data-ttu-id="fc6ed-133">Esto sucede cuando la ficha desplegable **Importar desde el repositorio global** se abre la primera vez, lo que puede llevar varios segundos.</span><span class="sxs-lookup"><span data-stu-id="fc6ed-133">This happens when the **Import from Global repository** FastTab is opened the first time, which may take several seconds.</span></span>

<span data-ttu-id="fc6ed-134">Si no ve el formato ER requerido en la ficha desplegable **Importar desde el repositorio global**, pero está seguro de que este formato ER está almacenado en el GR, seleccione la opción **Sincronizar**.</span><span class="sxs-lookup"><span data-stu-id="fc6ed-134">If you do not see the required ER format in the **Import from Global repository** FastTab, but you are sure that this ER format is stored in the GR, select the **Synchronize** option.</span></span> <span data-ttu-id="fc6ed-135">Esto actualizará el almacenamiento temporal y lo sincronizará con el contenido actual del GR.</span><span class="sxs-lookup"><span data-stu-id="fc6ed-135">This will update the temporary storage and synchronize it with the current content of the GR.</span></span>

## <a name="feature-activation"></a><span data-ttu-id="fc6ed-136">Activación de funciones</span><span class="sxs-lookup"><span data-stu-id="fc6ed-136">Feature activation</span></span>

<span data-ttu-id="fc6ed-137">La disponibilidad de esta funcionalidad está controlada por la función **Búsqueda extendida de configuraciones de formato ER que permite consultar el repositorio global** en **Administración de características**.</span><span class="sxs-lookup"><span data-stu-id="fc6ed-137">The availability of this functionality is controlled by the feature **Extended lookup of ER format configurations allowing to inquire the Global repository** in the **Feature management**.</span></span> <span data-ttu-id="fc6ed-138">De forma predeterminada, esta característica está habilitada.</span><span class="sxs-lookup"><span data-stu-id="fc6ed-138">This feature is enabled by default.</span></span>

<span data-ttu-id="fc6ed-139">[![Página Administración de características](./media/ER-ExtLookup-FeatureMngt.png)](./media/ER-ExtLookup-FeatureMngt.png)</span><span class="sxs-lookup"><span data-stu-id="fc6ed-139">[![Feature management page](./media/ER-ExtLookup-FeatureMngt.png)](./media/ER-ExtLookup-FeatureMngt.png)</span></span>

## <a name="security-considerations"></a><span data-ttu-id="fc6ed-140">Consideraciones de seguridad</span><span class="sxs-lookup"><span data-stu-id="fc6ed-140">Security considerations</span></span>

<span data-ttu-id="fc6ed-141">El privilegio **Mantener repositorios de configuración** (**ERMaintainSolutionRepositories**) controla el acceso al GR para un usuario que abre la búsqueda de formato ER con la ficha desplegable **Importar desde el repositorio global** habilitada.</span><span class="sxs-lookup"><span data-stu-id="fc6ed-141">The **Maintain configuration repositories** (**ERMaintainSolutionRepositories**) privilege controls access to the GR for a user opening the ER format lookup with the enabled **Import from Global repository** FastTab.</span></span> <span data-ttu-id="fc6ed-142">Para permitir que los usuarios accedan al contenido GR desde las búsquedas en formato ER, debe cambiar la configuración de seguridad otorgando el privilegio **ERMaintainSolutionRepositories** a los usuarios ya sea directamente o mediante el uso de roles y deberes ya asignados.</span><span class="sxs-lookup"><span data-stu-id="fc6ed-142">To allow users to access the GR content from the ER format lookups, you need to change the security settings by granting the **ERMaintainSolutionRepositories** privilege to users either directly or by using already assigned roles and duties.</span></span>

<span data-ttu-id="fc6ed-143">La siguiente captura de pantalla muestra cómo se puede otorgar este privilegio a los usuarios asignados al rol **Contable**.</span><span class="sxs-lookup"><span data-stu-id="fc6ed-143">The following screenshot shows how this privilege can be granted to users who are assigned to the **Accountant** role.</span></span> <span data-ttu-id="fc6ed-144">Este rol permite a los usuarios configurar parámetros de comercio exterior y establecer referencias a los formatos ER en los campos **Asignación de formato de archivo** y **Asignación de formato de informe** en la página **Parámetros de comercio exterior**.</span><span class="sxs-lookup"><span data-stu-id="fc6ed-144">This role makes allows users to configure foreign trade parameters and set up references to the ER formats in the **File format mapping** and **Report format mapping** fields on the **Foreign trade parameters** page.</span></span>

<span data-ttu-id="fc6ed-145">[![Página Configuración de seguridad](./media/ER-ExtLookup-SecuritySetting.png)](./media/ER-ExtLookup-SecuritySetting.png)</span><span class="sxs-lookup"><span data-stu-id="fc6ed-145">[![Security configuration page](./media/ER-ExtLookup-SecuritySetting.png)](./media/ER-ExtLookup-SecuritySetting.png)</span></span>

## <a name="limitations"></a><span data-ttu-id="fc6ed-146">Limitaciones</span><span class="sxs-lookup"><span data-stu-id="fc6ed-146">Limitations</span></span>

<span data-ttu-id="fc6ed-147">El acceso al GR en la búsqueda de formato ER actualmente solo se admite para la selección de formatos ER que se utilizan para generar documentos salientes.</span><span class="sxs-lookup"><span data-stu-id="fc6ed-147">Access to the GR in the ER format lookup is currently only supported for the selection of ER formats that are used to generate outbound documents.</span></span>

## <a name="frequently-asked-questions"></a><span data-ttu-id="fc6ed-148">Preguntas frecuentes</span><span class="sxs-lookup"><span data-stu-id="fc6ed-148">Frequently asked questions</span></span>

### <a name="why-cant-i-access-the-global-repository-from-the-er-format-lookup"></a><span data-ttu-id="fc6ed-149">¿Por qué no puedo acceder al repositorio global desde la búsqueda de formato ER?</span><span class="sxs-lookup"><span data-stu-id="fc6ed-149">Why can't I access the Global repository from the ER format lookup?</span></span>

<span data-ttu-id="fc6ed-150">Si ha habilitado la característica **Búsqueda extendida de configuraciones de formato ER que permite consultar el repositorio global** en la página **Gestión de funciones** pero los usuarios no pueden ver los formatos ER en la ficha desplegable **Importar desde el repositorio global** y la opción **Sincronizar** está visible pero deshabilitada, asegúrese de que se ha otorgado el privilegio **Mantener repositorios de configuración** (**ERMaintainSolutionRepositories**) al usuario.</span><span class="sxs-lookup"><span data-stu-id="fc6ed-150">If you have enabled the **Extended lookup of ER format configurations allowing to inquire the Global repository** feature on the **Feature management** page, but users can't see ER formats on the **Import from Global repository** FastTab and the **Synchronize** option is visible but disabled, make sure that the **Maintain configuration repositories** (**ERMaintainSolutionRepositories**) privilege has been granted to the user.</span></span> <span data-ttu-id="fc6ed-151">Póngase en contacto con el administrador del sistema para recibir este privilegio.</span><span class="sxs-lookup"><span data-stu-id="fc6ed-151">Contact your system administrator to receive this privilege.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="fc6ed-152">Recursos adicionales</span><span class="sxs-lookup"><span data-stu-id="fc6ed-152">Additional resources</span></span>

- [<span data-ttu-id="fc6ed-153">Visión general de los informes electrónicos (ER)</span><span class="sxs-lookup"><span data-stu-id="fc6ed-153">Electronic reporting (ER) overview</span></span>](general-electronic-reporting.md)
- [<span data-ttu-id="fc6ed-154">API de marco de informes electrónicos (ER)</span><span class="sxs-lookup"><span data-stu-id="fc6ed-154">Electronic reporting (ER) framework API</span></span>](er-apis-app73.md)
- [<span data-ttu-id="fc6ed-155">Administrar el ciclo de vida de las configuraciones de los informes electrónicos (ER)</span><span class="sxs-lookup"><span data-stu-id="fc6ed-155">Manage Electronic reporting (ER) configurations lifecycle</span></span>](general-electronic-reporting-manage-configuration-lifecycle.md)
