---
title: Migración de tipo de datos de divisa para doble escritura
description: Este tema describe cómo cambiar la cantidad de lugares decimales que admite la escritura dual para las divisas.
author: RamaKrishnamoorthy
manager: AnnBe
ms.date: 04/06/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: ''
audience: Application User, IT Pro
ms.reviewer: rhaertle
ms.custom: ''
ms.assetid: ''
ms.search.region: global
ms.search.industry: ''
ms.author: ramasri
ms.dyn365.ops.version: ''
ms.search.validFrom: 2020-04-06
ms.openlocfilehash: 6a0f114bce6bdb7813c93e9441744d67cd043c30
ms.sourcegitcommit: 659375c4cc7f5524cbf91cf6160f6a410960ac16
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 12/05/2020
ms.locfileid: "4683750"
---
# <a name="currency-data-type-migration-for-dual-write"></a><span data-ttu-id="91b19-103">Migración de tipo de datos de divisa para doble escritura</span><span class="sxs-lookup"><span data-stu-id="91b19-103">Currency data-type migration for dual-write</span></span>

[!include [banner](../../includes/banner.md)]

[!include [rename-banner](~/includes/cc-data-platform-banner.md)]

<span data-ttu-id="91b19-104">Puede aumentar el número de lugares decimales admitidos para valores de divisa a un máximo de 10.</span><span class="sxs-lookup"><span data-stu-id="91b19-104">You can increase the number of decimal places that are supported for currency values to a maximum of 10.</span></span> <span data-ttu-id="91b19-105">El límite predeterminado es cuatro decimales.</span><span class="sxs-lookup"><span data-stu-id="91b19-105">The default limit is four decimal places.</span></span> <span data-ttu-id="91b19-106">Al aumentar el número de lugares decimales, ayuda a evitar la pérdida de datos cuando utiliza la escritura dual para sincronizar datos.</span><span class="sxs-lookup"><span data-stu-id="91b19-106">By increasing the number of decimal places, you help prevent data loss when you use dual-write to sync data.</span></span> <span data-ttu-id="91b19-107">El aumento del número de decimales es un cambio opcional.</span><span class="sxs-lookup"><span data-stu-id="91b19-107">The increase in the number of decimal places is an opt-in change.</span></span> <span data-ttu-id="91b19-108">Para implementarlo, debe solicitar asistencia de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="91b19-108">To implement it, you must request assistance from Microsoft.</span></span>

<span data-ttu-id="91b19-109">El proceso de cambiar el número de lugares decimales tiene dos pasos:</span><span class="sxs-lookup"><span data-stu-id="91b19-109">The process of changing the number of decimal places has two steps:</span></span>

1. <span data-ttu-id="91b19-110">Solicite la migración de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="91b19-110">Request migration from Microsoft.</span></span>
2. <span data-ttu-id="91b19-111">Cambiar el número de decimales en Dataverse.</span><span class="sxs-lookup"><span data-stu-id="91b19-111">Change the number of decimal places in Dataverse.</span></span>

<span data-ttu-id="91b19-112">La aplicación Finance and Operations y Dataverse debe admitir el mismo número de decimales en los valores de divisa.</span><span class="sxs-lookup"><span data-stu-id="91b19-112">The Finance and Operations app and Dataverse must support the same number of decimal places in currency values.</span></span> <span data-ttu-id="91b19-113">De lo contrario, se puede producir una pérdida de datos cuando esta información se sincroniza entre aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="91b19-113">Otherwise, data loss can occur when this information is synced between apps.</span></span> <span data-ttu-id="91b19-114">El proceso de migración reconfigura la forma en que se almacenan los valores de divisa y de tipo de cambio, pero no cambia ningún dato.</span><span class="sxs-lookup"><span data-stu-id="91b19-114">The migration process reconfigures the way that currency and exchange rate values are stored, but it doesn't change any data.</span></span> <span data-ttu-id="91b19-115">Una vez completada la migración, se puede aumentar el número de lugares decimales para los códigos de divisa y el precio se puede aumentar, y los datos que los usuarios especifican y ven pueden tener más precisión decimal.</span><span class="sxs-lookup"><span data-stu-id="91b19-115">After the migration is completed, the number of decimal places for currency codes and pricing can be increased, and the data that users enter and view can have more decimal precision.</span></span>

<span data-ttu-id="91b19-116">La migración es opcional.</span><span class="sxs-lookup"><span data-stu-id="91b19-116">Migration is optional.</span></span> <span data-ttu-id="91b19-117">Si puede beneficiarse de la compatibilidad para más decimales, le recomendamos que considere la migración.</span><span class="sxs-lookup"><span data-stu-id="91b19-117">If you might benefit from support for more decimal places, we recommend that you consider migration.</span></span> <span data-ttu-id="91b19-118">Las organizaciones que no requieren valores con más de cuatro decimales no tienen que migrar.</span><span class="sxs-lookup"><span data-stu-id="91b19-118">Organizations that don't require values that have more than four decimal places don't have to migrate.</span></span>

## <a name="requesting-migration-from-microsoft"></a><span data-ttu-id="91b19-119">Solicitar la migración de Microsoft</span><span class="sxs-lookup"><span data-stu-id="91b19-119">Requesting migration from Microsoft</span></span>

<span data-ttu-id="91b19-120">El almacenamiento para campos de divisa existentes en Dataverse no puede admitir más de cuatro decimales.</span><span class="sxs-lookup"><span data-stu-id="91b19-120">Storage for existing currency fields in Dataverse can't support more than four decimal places.</span></span> <span data-ttu-id="91b19-121">Por lo tanto, durante el proceso de migración, los valores de divisa se copian en nuevos campos internos en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="91b19-121">Therefore, during the migration process, currency values are copied to new internal fields in the database.</span></span> <span data-ttu-id="91b19-122">Este proceso ocurre continuamente hasta que se hayan migrado todos los datos.</span><span class="sxs-lookup"><span data-stu-id="91b19-122">This process occurs continuously until all data has been migrated.</span></span> <span data-ttu-id="91b19-123">Internamente, al final de la migración, los nuevos tipos de almacenamiento reemplazan a los antiguos, pero los valores de los datos no cambian.</span><span class="sxs-lookup"><span data-stu-id="91b19-123">Internally, at the end of migration, the new storage types replace the old storage types, but the data values are unchanged.</span></span> <span data-ttu-id="91b19-124">Los campos de divisa pueden admitir hasta 10 decimales.</span><span class="sxs-lookup"><span data-stu-id="91b19-124">The currency fields can then support up to 10 decimal places.</span></span> <span data-ttu-id="91b19-125">Durante el proceso de migración, Dataverse puede continuar usándose sin interrupción.</span><span class="sxs-lookup"><span data-stu-id="91b19-125">During the migration process, Dataverse can continue to be used without interruption.</span></span>

<span data-ttu-id="91b19-126">Al mismo tiempo, los tipos de cambio se modifican para que admitan hasta 12 decimales en lugar del límite actual de 10.</span><span class="sxs-lookup"><span data-stu-id="91b19-126">At the same time, exchange rates are modified so that they support up to 12 decimal places instead of the current limit of 10.</span></span> <span data-ttu-id="91b19-127">Este cambio es necesario para que el número de decimales sea el mismo en la aplicación Finance and Operations y Dataverse.</span><span class="sxs-lookup"><span data-stu-id="91b19-127">This change is required so that the number of decimal places is the same in both the Finance and Operations app and Dataverse.</span></span>

<span data-ttu-id="91b19-128">La migración no cambia ningún dato.</span><span class="sxs-lookup"><span data-stu-id="91b19-128">Migration doesn't change any data.</span></span> <span data-ttu-id="91b19-129">Después de convertir los campos de divisa y tipo de cambio, los administradores pueden configurar el sistema para usar hasta 10 decimales para los campos de moneda especificando el número de lugares decimales para cada divisa de transacción y para la fijación de precios.</span><span class="sxs-lookup"><span data-stu-id="91b19-129">After the currency and exchange rate fields are converted, admins can configure the system to use up to 10 decimal places for currency fields by specifying the number of decimal places for each transaction currency and for pricing.</span></span>

### <a name="request-a-migration"></a><span data-ttu-id="91b19-130">Solicitar una migración</span><span class="sxs-lookup"><span data-stu-id="91b19-130">Request a migration</span></span>

<span data-ttu-id="91b19-131">Para que esta función esté disponible, envíe un correo electrónico a **CDSExpandDecimal@microsoft.com** e incluya la siguiente información:</span><span class="sxs-lookup"><span data-stu-id="91b19-131">To make this feature available, email **CDSExpandDecimal@microsoft.com**, and include the following information:</span></span>

+ <span data-ttu-id="91b19-132">**Asunto:** Solicitud para habilitar la compatibilidad decimal expandida para \<organizationID\></span><span class="sxs-lookup"><span data-stu-id="91b19-132">**Subject:** Request to enable expanded decimal support for \<organizationID\></span></span>
+ <span data-ttu-id="91b19-133">**Cuerpo:** Me gustaría habilitar la compatibilidad decimal expandida para mi organización \<organizationID\>.</span><span class="sxs-lookup"><span data-stu-id="91b19-133">**Body:** I would like to enable expanded decimal support for my org \<organizationID\>.</span></span>

<span data-ttu-id="91b19-134">Un representante de Microsoft se comunicará con usted dentro de dos o tres días hábiles para los próximos pasos.</span><span class="sxs-lookup"><span data-stu-id="91b19-134">A Microsoft representative will contact you within two to three business days for the next steps.</span></span>

<span data-ttu-id="91b19-135">Cuando solicite una migración, debe tener en cuenta los siguientes detalles y planificarlos en consecuencia:</span><span class="sxs-lookup"><span data-stu-id="91b19-135">When you request a migration, you should be aware of the following details and plan for them accordingly:</span></span>

+ <span data-ttu-id="91b19-136">El tiempo que se requiere para migrar los datos depende de la cantidad de datos en el sistema.</span><span class="sxs-lookup"><span data-stu-id="91b19-136">The time that is required to migrate the data depends the amount of data in the system.</span></span> <span data-ttu-id="91b19-137">La migración de grandes bases de datos puede llevar varios días.</span><span class="sxs-lookup"><span data-stu-id="91b19-137">Migration of large databases can take several days.</span></span>
+ <span data-ttu-id="91b19-138">El tamaño de la base de datos aumenta temporalmente mientras se ejecuta la migración, porque se necesita espacio adicional para los índices.</span><span class="sxs-lookup"><span data-stu-id="91b19-138">The size of the database temporarily increases while the migration is running, because additional space is needed for indexes.</span></span> <span data-ttu-id="91b19-139">La mayor parte del espacio adicional se libera cuando se completa la migración.</span><span class="sxs-lookup"><span data-stu-id="91b19-139">Most of the additional space is freed when the migration is completed.</span></span>
+ <span data-ttu-id="91b19-140">Durante el proceso de migración, si se producen errores que impiden que se complete la migración, el sistema genera alertas al Soporte técnico de Microsoft, para que el personal de Soporte técnico pueda intervenir.</span><span class="sxs-lookup"><span data-stu-id="91b19-140">During the migration process, if errors occur that prevent the migration from being completed, the system raise alerts to Microsoft Support, so that Support staff can intervene.</span></span> <span data-ttu-id="91b19-141">Sin embargo, incluso si se producen errores durante la migración, Dataverse permanece totalmente disponible para uso regular.</span><span class="sxs-lookup"><span data-stu-id="91b19-141">However, even if errors occur during the migration, Dataverse remains fully available for regular use.</span></span>
+ <span data-ttu-id="91b19-142">El proceso de migración no es reversible.</span><span class="sxs-lookup"><span data-stu-id="91b19-142">The migration process isn't reversible.</span></span>

## <a name="changing-the-number-of-decimal-places"></a><span data-ttu-id="91b19-143">Cambiar el número de decimales</span><span class="sxs-lookup"><span data-stu-id="91b19-143">Changing the number of decimal places</span></span>

<span data-ttu-id="91b19-144">Una vez completada la migración, Dataverse puede almacenar números con más decimales.</span><span class="sxs-lookup"><span data-stu-id="91b19-144">After the migration is completed, Dataverse can store numbers that have more decimal places.</span></span> <span data-ttu-id="91b19-145">Los administradores pueden elegir cuántos decimales se usan para códigos de divisa específicos y para precios.</span><span class="sxs-lookup"><span data-stu-id="91b19-145">Admins can choose how many decimal places are used for specific currency codes and for pricing.</span></span> <span data-ttu-id="91b19-146">Los usuarios de Microsoft Power Apps, Power BI y Power Automate luego pueden ver y usar números que tienen más decimales.</span><span class="sxs-lookup"><span data-stu-id="91b19-146">Users of Microsoft Power Apps, Power BI, and Power Automate can then view and use numbers that have more decimal places.</span></span>

<span data-ttu-id="91b19-147">Para realizar este cambio, debe actualizar la siguiente configuración en Power Apps:</span><span class="sxs-lookup"><span data-stu-id="91b19-147">To make this change, you must update the following settings in Power Apps:</span></span>

+ <span data-ttu-id="91b19-148">**Configuración del sistema: precisión de la divisa para la fijación de precios**: el campo **Establecer la precisión de la divisa que se usa para fijar precios en todo el sistema** define cómo se comportará la divis para la organización cuando se selecciona **Precisión de precios**.</span><span class="sxs-lookup"><span data-stu-id="91b19-148">**System Settings: Currency precision for pricing** – The **Set the currency precision that is used for pricing throughout the system** field defines how the currency will behave for the organization when **Pricing Precision** is selected.</span></span>
+ <span data-ttu-id="91b19-149">**Gestión empresarial: divisas**: el campo **Precisión de divisa** le permite especificar un número personalizado de decimales para una moneda específica.</span><span class="sxs-lookup"><span data-stu-id="91b19-149">**Business Management: Currencies** – The **Currency Precision** field lets you specify a custom number of decimal places for a specific currency.</span></span> <span data-ttu-id="91b19-150">Hay una reserva en la organización (configuración amplia).</span><span class="sxs-lookup"><span data-stu-id="91b19-150">There is a fallback to the organization-wide setting.</span></span>

<span data-ttu-id="91b19-151">Hay algunas limitaciones:</span><span class="sxs-lookup"><span data-stu-id="91b19-151">There are some limitations:</span></span>

+ <span data-ttu-id="91b19-152">No puede configurar el campo de divisa en una entidad.</span><span class="sxs-lookup"><span data-stu-id="91b19-152">You can't configure the currency field on an entity.</span></span>
+ <span data-ttu-id="91b19-153">Puede especificar más de cuatro decimales solo en los niveles **Precios** y **Divisa de la transacción**.</span><span class="sxs-lookup"><span data-stu-id="91b19-153">You can specify more than four decimal places only at the **Pricing** and **Transaction Currency** levels.</span></span>

### <a name="system-settings-currency-precision-for-pricing"></a><span data-ttu-id="91b19-154">Configuración del sistema: precisión de la moneda para la fijación de precios</span><span class="sxs-lookup"><span data-stu-id="91b19-154">System Settings: Currency precision for pricing</span></span>

<span data-ttu-id="91b19-155">Una vez completada la migración, los administradores pueden establecer la precisión de la divisa.</span><span class="sxs-lookup"><span data-stu-id="91b19-155">After migration is completed, admins can set the currency precision.</span></span> <span data-ttu-id="91b19-156">Vaya a **Configuración \> Administración** y seleccione **Ajustes del sistema**.</span><span class="sxs-lookup"><span data-stu-id="91b19-156">Go to **Settings \> Administration**, and select **System Settings**.</span></span> <span data-ttu-id="91b19-157">Luego, en la pestaña **General**, cambie el valor del campo **Establecer la precisión de la divisa que se usa para fijar precios en todo el sistema**, como se muestra en la siguiente ilustración.</span><span class="sxs-lookup"><span data-stu-id="91b19-157">Then, on the **General** tab, change the value of the **Set the currency precision that is used for pricing throughout the system** field, as shown in the following illustration.</span></span>

![Configuraciones del sistema para la divisa](media/currency-system-settings.png)

### <a name="business-management-currencies"></a><span data-ttu-id="91b19-159">Administración empresarial: divisas</span><span class="sxs-lookup"><span data-stu-id="91b19-159">Business Management: Currencies</span></span>

<span data-ttu-id="91b19-160">Si necesita que la precisión de la divisa para una divisa específica difiera de la precisión de la divisa que se usa para fijar el precio, puede cambiarla.</span><span class="sxs-lookup"><span data-stu-id="91b19-160">If you require that the currency precision for a specific currency differ from the currency precision that is used for pricing, you can change it.</span></span> <span data-ttu-id="91b19-161">Vaya a **Configuraciones \> Administración empresarial**, S¡seleccione **Divisas** y seleccione la divisa que se va a cambiar.</span><span class="sxs-lookup"><span data-stu-id="91b19-161">Go to **Settings \> Business Management**, select **Currencies**, and select the currency to change.</span></span> <span data-ttu-id="91b19-162">Luego configure el campo **Precisión de la divisa** según número de decimales que desee, como se muestra en la siguiente ilustración.</span><span class="sxs-lookup"><span data-stu-id="91b19-162">Then set the **Currency Precision** field to the number of decimal places that you want, as shown in the following illustration.</span></span>

![Configuración de la divisa para un entorno local específico](media/specific-currency.png)

### <a name="tables-currency-field"></a><span data-ttu-id="91b19-164">tablas: campo Divisa</span><span class="sxs-lookup"><span data-stu-id="91b19-164">tables: Currency field</span></span>

<span data-ttu-id="91b19-165">El número de decimales que se pueden configurar para campos de divisa específicos está limitado a cuatro.</span><span class="sxs-lookup"><span data-stu-id="91b19-165">The number of decimal places that can be configured for specific currency fields is limited to four.</span></span>
