---
title: Visión general de los trabajos de exportación e importación de datos
description: Use el espacio de trabajo de gestión de datos para crear y administrar trabajos de importación y exportación de datos.
author: Sunil-Garg
ms.date: 04/22/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application user
ms.reviewer: sericks
ms.search.region: Global
ms.author: sunilg
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: c660cf5aba786fb6f84776f6443f658ebbfa25d5
ms.sourcegitcommit: 593438a145672c55ff6a910eabce2939300b40ad
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 04/23/2021
ms.locfileid: "5937339"
---
# <a name="data-import-and-export-jobs-overview"></a><span data-ttu-id="58a05-103">Visión general de los trabajos de exportación e importación de datos</span><span class="sxs-lookup"><span data-stu-id="58a05-103">Data import and export jobs overview</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="58a05-104">Para crear y administrar la importación y exportación de datos de trabajos, debe usar el espacio de trabajo **Gestión de datos**.</span><span class="sxs-lookup"><span data-stu-id="58a05-104">To create and manage data import and export jobs, you use the **Data management** workspace.</span></span> <span data-ttu-id="58a05-105">De forma predeterminada, el proceso de importación y exportación de datos crea una tabla de almacenamiento provisional para cada entidad en la base de datos de destino.</span><span class="sxs-lookup"><span data-stu-id="58a05-105">By default, the data import and export process creates a staging table for each entity in the target database.</span></span> <span data-ttu-id="58a05-106">Las tablas de almacenamiento provisional le permiten verificar, limpiar o convertir datos antes de moverlos de sitio.</span><span class="sxs-lookup"><span data-stu-id="58a05-106">Staging tables let you verify, clean up, or convert data before you move it.</span></span>

> [!NOTE]
> <span data-ttu-id="58a05-107">Este tema asumen que está familiarizado con las [entidades de datos](data-entities.md).</span><span class="sxs-lookup"><span data-stu-id="58a05-107">This topic assumes that you are familiar with [data entities](data-entities.md).</span></span>

## <a name="data-importexport-process"></a><span data-ttu-id="58a05-108">Proceso de exportación e importación de datos</span><span class="sxs-lookup"><span data-stu-id="58a05-108">Data import/export process</span></span>
<span data-ttu-id="58a05-109">Aquí tiene los pasos que debe realizar para importar o exportar datos.</span><span class="sxs-lookup"><span data-stu-id="58a05-109">Here are the steps to import or export data.</span></span>

1. <span data-ttu-id="58a05-110">Cree un trabajo de importación o exportación en el que pueda realizar las tareas siguientes:</span><span class="sxs-lookup"><span data-stu-id="58a05-110">Create an import or export job where you complete the following tasks:</span></span>

    - <span data-ttu-id="58a05-111">Defina la categoría del proyecto.</span><span class="sxs-lookup"><span data-stu-id="58a05-111">Define the project category.</span></span>
    - <span data-ttu-id="58a05-112">Identifique las entidades que se importarán o exportarán.</span><span class="sxs-lookup"><span data-stu-id="58a05-112">Identify the entities to import or export.</span></span>
    - <span data-ttu-id="58a05-113">Establezca el formato de datos del trabajo.</span><span class="sxs-lookup"><span data-stu-id="58a05-113">Set the data format for the job.</span></span>
    - <span data-ttu-id="58a05-114">Ordene las entidades para que puedan procesarse en grupos lógicos que tengan sentido.</span><span class="sxs-lookup"><span data-stu-id="58a05-114">Sequence the entities, so that they are processed in logical groups and in an order that makes sense.</span></span>
    - <span data-ttu-id="58a05-115">Determine si quiere usar las tablas de almacenamiento provisional.</span><span class="sxs-lookup"><span data-stu-id="58a05-115">Determine whether to use staging tables.</span></span>

2. <span data-ttu-id="58a05-116">Confirme que los datos de origen y destino estén asignados correctamente.</span><span class="sxs-lookup"><span data-stu-id="58a05-116">Validate that the source data and target data are mapped correctly.</span></span>
3. <span data-ttu-id="58a05-117">Compruebe la seguridad del trabajo de importación o exportación.</span><span class="sxs-lookup"><span data-stu-id="58a05-117">Verify the security for your import or export job.</span></span>
4. <span data-ttu-id="58a05-118">Ejecute el trabajo de importación o exportación.</span><span class="sxs-lookup"><span data-stu-id="58a05-118">Run the import or export job.</span></span>
5. <span data-ttu-id="58a05-119">Confirme que el trabajo se ejecutó del modo esperado; para ello, consulte el historial del trabajo.</span><span class="sxs-lookup"><span data-stu-id="58a05-119">Validate that the job ran as expected by reviewing the job history.</span></span>
6. <span data-ttu-id="58a05-120">Limpie las tablas de almacenamiento provisional.</span><span class="sxs-lookup"><span data-stu-id="58a05-120">Clean up the staging tables.</span></span>

<span data-ttu-id="58a05-121">En las secciones restantes de este tema se proporcionan más detalles acerca de cada paso del proceso.</span><span class="sxs-lookup"><span data-stu-id="58a05-121">The remaining sections of this topic provide more details about each step of the process.</span></span>

> [!NOTE]
> <span data-ttu-id="58a05-122">Para actualizar el formulario de importación y exportación de datos para ver el último progreso, utilice el icono de actualización del formulario.</span><span class="sxs-lookup"><span data-stu-id="58a05-122">In order to refresh the Data import/export form to see the latest progress, use the form refresh icon.</span></span> <span data-ttu-id="58a05-123">No se recomienda la actualización del nivel del explorador porque interrumpirá cualquier trabajo de importación o exportación que no se ejecute en lote.</span><span class="sxs-lookup"><span data-stu-id="58a05-123">Browser level refresh is not recommended because it will interrupt any import/export jobs that are not run in batch.</span></span>

## <a name="create-an-import-or-export-job"></a><span data-ttu-id="58a05-124">Crear un trabajo de importación o exportación</span><span class="sxs-lookup"><span data-stu-id="58a05-124">Create an import or export job</span></span>
<span data-ttu-id="58a05-125">Un trabajo de importación o exportación de datos puede ejecutarse una o varias veces.</span><span class="sxs-lookup"><span data-stu-id="58a05-125">A data import or export job can be run one time or many times.</span></span>

### <a name="define-the-project-category"></a><span data-ttu-id="58a05-126">Definir la categoría del proyecto</span><span class="sxs-lookup"><span data-stu-id="58a05-126">Define the project category</span></span>
<span data-ttu-id="58a05-127">Le recomendamos que se tome el tiempo necesario para seleccionar una categoría de proyecto apropiada para el trabajo de importación o exportación.</span><span class="sxs-lookup"><span data-stu-id="58a05-127">We recommend that you take the time to select an appropriate project category for your import or export job.</span></span> <span data-ttu-id="58a05-128">Las categorías de proyecto pueden ayudarle a administrar los trabajos relacionados.</span><span class="sxs-lookup"><span data-stu-id="58a05-128">Project categories can help you manage related jobs.</span></span>

### <a name="identify-the-entities-to-import-or-export"></a><span data-ttu-id="58a05-129">Identificar las entidades que se importarán o exportarán</span><span class="sxs-lookup"><span data-stu-id="58a05-129">Identify the entities to import or export</span></span>
<span data-ttu-id="58a05-130">Puede agregar entidades específicas a un trabajo de importación o exportación o seleccionar la plantilla que se aplicará.</span><span class="sxs-lookup"><span data-stu-id="58a05-130">You can add specific entities to an import or export job or select a template to apply.</span></span> <span data-ttu-id="58a05-131">Las plantillas rellenan un trabajo con una lista de entidades.</span><span class="sxs-lookup"><span data-stu-id="58a05-131">Templates fill a job with a list of entities.</span></span> <span data-ttu-id="58a05-132">La opción **Aplicar la plantilla** solo está disponible después de nombrar el trabajo y guardarlo.</span><span class="sxs-lookup"><span data-stu-id="58a05-132">The **Apply template** option is available after you give the job a name and save the job.</span></span>

### <a name="set-the-data-format-for-the-job"></a><span data-ttu-id="58a05-133">Establecer el formato de datos del trabajo</span><span class="sxs-lookup"><span data-stu-id="58a05-133">Set the data format for the job</span></span>
<span data-ttu-id="58a05-134">Al seleccionar una entidad, debe seleccionar el formato de los datos que se exportarán o importarán.</span><span class="sxs-lookup"><span data-stu-id="58a05-134">When you select an entity, you must select the format of the data that will be exported or imported.</span></span> <span data-ttu-id="58a05-135">Puede definir los formatos mediante el icono **Configuración de orígenes de datos**.</span><span class="sxs-lookup"><span data-stu-id="58a05-135">You define formats by using the **Data sources setup** tile.</span></span> <span data-ttu-id="58a05-136">Un formato de datos de origen es una combinación de **Tipo**, **Formato de archivo**, **Delimitador de la fila** y **Delimitador de columna**.</span><span class="sxs-lookup"><span data-stu-id="58a05-136">A source data format is a combination of **Type**, **File format**, **Row delimiter** and **Column delimiter**.</span></span> <span data-ttu-id="58a05-137">También hay otros atributos, pero estos son los clave para comprender.</span><span class="sxs-lookup"><span data-stu-id="58a05-137">There are also other attributes, but these are the key ones to understand.</span></span> <span data-ttu-id="58a05-138">En la tabla siguiente aparecen las combinaciones válidas.</span><span class="sxs-lookup"><span data-stu-id="58a05-138">The following table lists the valid combinations.</span></span>

| <span data-ttu-id="58a05-139">Formato de archivo</span><span class="sxs-lookup"><span data-stu-id="58a05-139">File Format</span></span>            | <span data-ttu-id="58a05-140">Delimitador de columna/fila</span><span class="sxs-lookup"><span data-stu-id="58a05-140">Row/Column delimiter</span></span>                       | <span data-ttu-id="58a05-141">Estilo XML</span><span class="sxs-lookup"><span data-stu-id="58a05-141">XML Style</span></span>                 |
|------------------------|--------------------------------------------|---------------------------|
| <span data-ttu-id="58a05-142">Excel</span><span class="sxs-lookup"><span data-stu-id="58a05-142">Excel</span></span>                  | <span data-ttu-id="58a05-143">Excel</span><span class="sxs-lookup"><span data-stu-id="58a05-143">Excel</span></span>                                      | <span data-ttu-id="58a05-144">\-N/D-</span><span class="sxs-lookup"><span data-stu-id="58a05-144">\-NA-</span></span>                     |
| <span data-ttu-id="58a05-145">XML</span><span class="sxs-lookup"><span data-stu-id="58a05-145">XML</span></span>                    | <span data-ttu-id="58a05-146">\-N/D-</span><span class="sxs-lookup"><span data-stu-id="58a05-146">\-NA-</span></span>                                      | <span data-ttu-id="58a05-147">Elemento-XML atributo-XML</span><span class="sxs-lookup"><span data-stu-id="58a05-147">XML-Element XML-Attribute</span></span> |
| <span data-ttu-id="58a05-148">Delimitado, ancho fijo</span><span class="sxs-lookup"><span data-stu-id="58a05-148">Delimited, fixed width</span></span> | <span data-ttu-id="58a05-149">Coma, punto y coma, tabulador, barra vertical, dos puntos</span><span class="sxs-lookup"><span data-stu-id="58a05-149">Comma, semicolon, tab, vertical bar, colon</span></span> | <span data-ttu-id="58a05-150">\-N/D-</span><span class="sxs-lookup"><span data-stu-id="58a05-150">\-NA-</span></span>                     |

### <a name="sequence-the-entities"></a><span data-ttu-id="58a05-151">Ordenar las entidades</span><span class="sxs-lookup"><span data-stu-id="58a05-151">Sequence the entities</span></span>
<span data-ttu-id="58a05-152">Puede ordenar las entidades en una plantilla de datos o en trabajos de importación y exportación.</span><span class="sxs-lookup"><span data-stu-id="58a05-152">Entities can be sequenced in a data template, or in import and export jobs.</span></span> <span data-ttu-id="58a05-153">Cuando ejecute un trabajo que contenga más de una entidad de datos, asegúrese de que están correctamente ordenadas.</span><span class="sxs-lookup"><span data-stu-id="58a05-153">When you run a job that contains more than one data entity, you must make sure that the data entities are correctly sequenced.</span></span> <span data-ttu-id="58a05-154">Puede ordenar las entidades principales para trabajar con cualquier dependencia funcional que esté entre ellas.</span><span class="sxs-lookup"><span data-stu-id="58a05-154">You sequence entities primarily so that you can address any functional dependencies among entities.</span></span> <span data-ttu-id="58a05-155">Si las entidades no tienen dependencias funcionales, pueden ser programadas en una la importación o exportación paralela.</span><span class="sxs-lookup"><span data-stu-id="58a05-155">If entities don’t have any functional dependencies, they can be scheduled for parallel import or export.</span></span>

#### <a name="execution-units-levels-and-sequences"></a><span data-ttu-id="58a05-156">Unidades de ejecución, niveles y secuencias</span><span class="sxs-lookup"><span data-stu-id="58a05-156">Execution units, levels, and sequences</span></span>
<span data-ttu-id="58a05-157">La unidad de ejecución, el nivel de la unidad de ejecución y el orden de una entidad le permiten controlar el orden de los datos que se exportan o importan.</span><span class="sxs-lookup"><span data-stu-id="58a05-157">The execution unit, level in the execution unit, and sequence of an entity help control the order that the data is exported or imported in.</span></span>

- <span data-ttu-id="58a05-158">Las entidades que estén en unidades de ejecución diferentes se procesarán en paralelo.</span><span class="sxs-lookup"><span data-stu-id="58a05-158">Entities in different execution units are processed in parallel.</span></span>
- <span data-ttu-id="58a05-159">En cada unidad de ejecución, se procesan las entidades en paralelo si tienen el mismo nivel.</span><span class="sxs-lookup"><span data-stu-id="58a05-159">In each execution unit, entities are processed in parallel if they have the same level.</span></span>
- <span data-ttu-id="58a05-160">En cada nivel, se procesan las entidades según su número de secuencia en dicho nivel.</span><span class="sxs-lookup"><span data-stu-id="58a05-160">In each level, entities are processed according to their sequence number in that level.</span></span>
- <span data-ttu-id="58a05-161">Una vez procesado un nivel, se procesa el siguiente.</span><span class="sxs-lookup"><span data-stu-id="58a05-161">After one level has been processed, the next level is processed.</span></span>

#### <a name="resequencing"></a><span data-ttu-id="58a05-162">Volver a ordenar</span><span class="sxs-lookup"><span data-stu-id="58a05-162">Resequencing</span></span>
<span data-ttu-id="58a05-163">Es posible que quiera volver a ordenar las entidades según las siguientes situaciones:</span><span class="sxs-lookup"><span data-stu-id="58a05-163">You might want to resequence your entities in the following situations:</span></span>

- <span data-ttu-id="58a05-164">Si solo usó un trabajo de datos para todos los cambios, puede usar las opciones para volver a ordenar y así optimizar el tiempo de ejecución del trabajo completo.</span><span class="sxs-lookup"><span data-stu-id="58a05-164">If only one data job is used for all your changes, you can use resequencing options to optimize the execution time for the full job.</span></span> <span data-ttu-id="58a05-165">En estos casos, puede usar la unidad de ejecución para representar el módulo, el nivel para representar el área de características en el módulo y la secuencia para representar la entidad.</span><span class="sxs-lookup"><span data-stu-id="58a05-165">In these cases, you can use the execution unit to represent the module, the level to represent the feature area in the module, and the sequence to represent the entity.</span></span> <span data-ttu-id="58a05-166">Al usar este método, puede trabajar en paralelo con diferentes módulos, pero aun así puede seguir trabajando en el orden de un módulo.</span><span class="sxs-lookup"><span data-stu-id="58a05-166">By using this approach, you can work across modules in parallel, but you can still work in sequence in a module.</span></span> <span data-ttu-id="58a05-167">Para que garantizar que las operaciones paralelas se realizan correctamente, debe tener en cuenta todas las dependencias.</span><span class="sxs-lookup"><span data-stu-id="58a05-167">To help guarantee that parallel operations succeed, you must consider all dependencies.</span></span>
- <span data-ttu-id="58a05-168">Si se utilizan varios trabajos de datos (por ejemplo, un trabajo para cada módulo), puede utilizar la secuenciación en el nivel y ordenar las entidades para asegurar una ejecución óptima.</span><span class="sxs-lookup"><span data-stu-id="58a05-168">If multiple data jobs are used (for example, one job for each module), you can use sequencing to affect the level and sequence of entities for optimal execution.</span></span>
- <span data-ttu-id="58a05-169">Si no hay dependencias en absoluto, puede ordenar las entidades en diferentes unidades de ejecución para garantizar una optimización máxima.</span><span class="sxs-lookup"><span data-stu-id="58a05-169">If there are no dependencies at all, you can sequence entities at different execution units for maximum optimization.</span></span>

<span data-ttu-id="58a05-170">El menú **Volver a ordenar** está disponible cuando se seleccionan varias entidades.</span><span class="sxs-lookup"><span data-stu-id="58a05-170">The **Resequencing** menu is available when multiple entities are selected.</span></span> <span data-ttu-id="58a05-171">Puede volver a ordenar según la unidad de ejecución, el nivel o las opciones de secuencia.</span><span class="sxs-lookup"><span data-stu-id="58a05-171">You can resequence based on execution unit, level, or sequence options.</span></span> <span data-ttu-id="58a05-172">Puede establecer un incremento al volver a ordenar las entidades que haya seleccionado.</span><span class="sxs-lookup"><span data-stu-id="58a05-172">You can set an increment to resequence the entities that have been selected.</span></span> <span data-ttu-id="58a05-173">Cada incremento específico actualizará la unidad, el nivel o el número de secuencia que se haya seleccionado para cada entidad.</span><span class="sxs-lookup"><span data-stu-id="58a05-173">The unit, level, and/or sequence number that is selected for each entity is updated by the specified increment.</span></span>

#### <a name="sorting"></a><span data-ttu-id="58a05-174">Ordenación</span><span class="sxs-lookup"><span data-stu-id="58a05-174">Sorting</span></span>
<span data-ttu-id="58a05-175">Puede usar la opción **Ordenar por** para ver la lista de entidades en orden secuencial.</span><span class="sxs-lookup"><span data-stu-id="58a05-175">Use can use the **Sort by** option to view the entity list in sequential order.</span></span>

### <a name="truncating"></a><span data-ttu-id="58a05-176">Truncar</span><span class="sxs-lookup"><span data-stu-id="58a05-176">Truncating</span></span>
<span data-ttu-id="58a05-177">Para proyectos de importación, puede optar por truncar registros en las entidades antes de la importación.</span><span class="sxs-lookup"><span data-stu-id="58a05-177">For import projects, you can choose to truncate records in the entities prior to import.</span></span> <span data-ttu-id="58a05-178">Esto resulta útil si los registros deben importarse en un conjunto claro de tablas.</span><span class="sxs-lookup"><span data-stu-id="58a05-178">This is useful if your records must be imported into a clean set of tables.</span></span> <span data-ttu-id="58a05-179">Esta configuración está desactivada de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="58a05-179">This setting is off by default.</span></span>

## <a name="validate-that-the-source-data-and-target-data-are-mapped-correctly"></a><span data-ttu-id="58a05-180">Confirmar que los datos de origen y destino estén asignados correctamente</span><span class="sxs-lookup"><span data-stu-id="58a05-180">Validate that the source data and target data are mapped correctly</span></span>
<span data-ttu-id="58a05-181">La asignación es una función que se aplica a los trabajos de exportación e importación.</span><span class="sxs-lookup"><span data-stu-id="58a05-181">Mapping is a function that applies to both import and export jobs.</span></span>

- <span data-ttu-id="58a05-182">En un trabajo de importación, la función de asignación indica qué columnas del archivo de origen serán las columnas de la tabla de almacenamiento provisional.</span><span class="sxs-lookup"><span data-stu-id="58a05-182">In the context of an import job, mapping describes which columns in the source file become the columns in the staging table.</span></span> <span data-ttu-id="58a05-183">Por lo tanto, el sistema puede determinar qué datos de columna del archivo de origen se deberán copiar las columnas correspondientes de la tabla de almacenamiento provisional.</span><span class="sxs-lookup"><span data-stu-id="58a05-183">Therefore, the system can determine which column data in the source file must be copied into which column of the staging table.</span></span>
- <span data-ttu-id="58a05-184">En un trabajo de exportación, la función de asignación indica qué columnas de la tabla de almacenamiento provisional (esto es, el origen) serán las columnas del archivo de destino.</span><span class="sxs-lookup"><span data-stu-id="58a05-184">In the context of an export job, mapping describes which columns of the staging table (that is, the source) become the columns in the target file.</span></span>

<span data-ttu-id="58a05-185">Si coinciden los nombres de columna en la tabla de almacenamiento provisional y el archivo, el sistema establecerá automáticamente la asignación según esos nombres.</span><span class="sxs-lookup"><span data-stu-id="58a05-185">If the column names in the staging table and the file match, the system automatically establishes the mapping, based on the names.</span></span> <span data-ttu-id="58a05-186">Sin embargo, si los nombres difieren, las columnas no se asignarán automáticamente.</span><span class="sxs-lookup"><span data-stu-id="58a05-186">However, if the names differ, columns aren’t mapped automatically.</span></span> <span data-ttu-id="58a05-187">En estos casos, debe completar la asignación seleccionando la opción **Ver mapa** en la entidad del trabajo de datos.</span><span class="sxs-lookup"><span data-stu-id="58a05-187">In these cases, you must complete the mapping by selecting the **View map** option on the entity in the data job.</span></span>

<span data-ttu-id="58a05-188">Existen dos vistas de asignación: **Visualización de la asignación** que es la vista predeterminada y **Detalles de la asignación**.</span><span class="sxs-lookup"><span data-stu-id="58a05-188">There are two mapping views: **Mapping visualization**, which is the default view, and **Mapping details**.</span></span> <span data-ttu-id="58a05-189">Un asterisco rojo (\*) identifica los campos requeridos en la entidad.</span><span class="sxs-lookup"><span data-stu-id="58a05-189">A red asterisk (\*) identifies any required fields in the entity.</span></span> <span data-ttu-id="58a05-190">Estos campos deben asignarse para poder ejecutar la entidad.</span><span class="sxs-lookup"><span data-stu-id="58a05-190">These fields must be mapped before you can work with the entity.</span></span> <span data-ttu-id="58a05-191">Puede desasignar otros campos según necesite cuando trabaje con la entidad.</span><span class="sxs-lookup"><span data-stu-id="58a05-191">You can unmap other fields as you require when you work with the entity.</span></span> <span data-ttu-id="58a05-192">Para desasignar un campo seleccione el campo de la columna **Entidad** o la columna **Origen** y, a continuación, seleccione **Eliminar selección**.</span><span class="sxs-lookup"><span data-stu-id="58a05-192">To unmap a field, select the field in either the **Entity** column or the **Source** column, and then select **Delete selection**.</span></span> <span data-ttu-id="58a05-193">Seleccione **Guardar** para guardar los cambios y cierre la página para volver al proyecto.</span><span class="sxs-lookup"><span data-stu-id="58a05-193">Select **Save** to save your changes, and then close the page to return to the project.</span></span> <span data-ttu-id="58a05-194">Puede usar el mismo proceso para editar la asignación de campos de origen para que se ejecute una vez realizada la importación.</span><span class="sxs-lookup"><span data-stu-id="58a05-194">You can use the same process to edit the field mapping from source to staging after you import.</span></span>

<span data-ttu-id="58a05-195">Puede crear una asignación en la página seleccionando **Crear la asignación de origen**.</span><span class="sxs-lookup"><span data-stu-id="58a05-195">You can generate a mapping on the page by selecting **Generate source mapping**.</span></span> <span data-ttu-id="58a05-196">Una asignación generada actúa como una asignación automática.</span><span class="sxs-lookup"><span data-stu-id="58a05-196">A generated mapping behaves like an automatic mapping.</span></span> <span data-ttu-id="58a05-197">Por lo tanto, debe asignar manualmente cualquier campo sin asignar.</span><span class="sxs-lookup"><span data-stu-id="58a05-197">Therefore, you must manually map any unmapped fields.</span></span>

![Asignación de datos](./media/dixf-map.png)

## <a name="verify-the-security-for-your-import-or-export-job"></a><span data-ttu-id="58a05-199">Compruebe la seguridad del trabajo de importación o exportación</span><span class="sxs-lookup"><span data-stu-id="58a05-199">Verify the security for your import or export job</span></span>
<span data-ttu-id="58a05-200">El acceso al área de trabajo **Administración de datos** puede ser limitado, de modo que los usuarios que no sean administradores solo pueden acceder a ciertos trabajos de datos.</span><span class="sxs-lookup"><span data-stu-id="58a05-200">Access to the **Data management** workspace can be restricted, so that non-administrator users can access only specific data jobs.</span></span> <span data-ttu-id="58a05-201">El acceso a un trabajo de datos implica acceso total al historial de ejecución de ese trabajo y acceso a las tablas de ensayo.</span><span class="sxs-lookup"><span data-stu-id="58a05-201">Access to a data job implies full access to the execution history of that job and access to the staging tables.</span></span> <span data-ttu-id="58a05-202">Por lo tanto, debe asegurarse de que los controles de acceso son los adecuados al crear un trabajo de datos.</span><span class="sxs-lookup"><span data-stu-id="58a05-202">Therefore, you must make sure that appropriate access controls are in place when you create a data job.</span></span>

### <a name="secure-a-job-by-roles-and-users"></a><span data-ttu-id="58a05-203">Proteger un trabajo mediante roles y usuarios</span><span class="sxs-lookup"><span data-stu-id="58a05-203">Secure a job by roles and users</span></span>
<span data-ttu-id="58a05-204">Utilice el menú **Roles aplicables** para limitar el trabajo a una o más funciones de seguridad.</span><span class="sxs-lookup"><span data-stu-id="58a05-204">Use the **Applicable roles** menu to restrict the job to one or more security roles.</span></span> <span data-ttu-id="58a05-205">Solo los usuarios que tengan esos roles tendrán acceso al trabajo.</span><span class="sxs-lookup"><span data-stu-id="58a05-205">Only users in those roles will have access to the job.</span></span>

<span data-ttu-id="58a05-206">También puede restringir un trabajo a usuarios específicos.</span><span class="sxs-lookup"><span data-stu-id="58a05-206">You can also restrict a job to specific users.</span></span> <span data-ttu-id="58a05-207">Al asegurar un trabajo mediante usuarios en vez de roles, conseguirá más control si se asignan varios usuarios a un rol.</span><span class="sxs-lookup"><span data-stu-id="58a05-207">When you secure a job by users instead of roles, there is more control if multiple users are assigned to a role.</span></span>

### <a name="secure-a-job-by-legal-entity"></a><span data-ttu-id="58a05-208">Proteger un trabajo mediante una entidad jurídica</span><span class="sxs-lookup"><span data-stu-id="58a05-208">Secure a job by legal entity</span></span>
<span data-ttu-id="58a05-209">Los trabajos de datos son globales por naturaleza.</span><span class="sxs-lookup"><span data-stu-id="58a05-209">Data jobs are global in nature.</span></span> <span data-ttu-id="58a05-210">Por lo tanto, si un trabajo de datos se creó y se usó en una entidad jurídica, ese trabajo será visible en otras entidades jurídicas del sistema.</span><span class="sxs-lookup"><span data-stu-id="58a05-210">Therefore, if a data job was created and used in a legal entity, the job will be visible in other legal entities in the system.</span></span> <span data-ttu-id="58a05-211">Este comportamiento predeterminado puede ser útil en algunos escenarios de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="58a05-211">This default behavior might be preferred in some application scenarios.</span></span> <span data-ttu-id="58a05-212">Por ejemplo, una organización que importa facturas mediante entidades de datos, puede proporcionar un equipo de procesamiento de facturas centralizado que sea responsable de administrar los errores de facturación de todas las divisiones de la organización.</span><span class="sxs-lookup"><span data-stu-id="58a05-212">For example, an organization that imports invoices by using data entities might provide a centralized invoice processing team that is responsible for managing invoice errors for all divisions in the organization.</span></span> <span data-ttu-id="58a05-213">En esta situación, resulta útil que el equipo de procesamiento de facturas centralizado tenga acceso a los trabajos de importación de facturas de todas las entidades jurídicas.</span><span class="sxs-lookup"><span data-stu-id="58a05-213">In this scenario, it’s useful for the centralized invoice processing team to have access to invoice import jobs from all legal entities.</span></span> <span data-ttu-id="58a05-214">Por lo tanto, el comportamiento predeterminado cumple con los requisitos establecidos para la entidad jurídica.</span><span class="sxs-lookup"><span data-stu-id="58a05-214">Therefore, the default behavior meets the requirement from a legal entity perspective.</span></span>

<span data-ttu-id="58a05-215">Sin embargo, es posible que una organización quiera tener varios equipos de procesamiento de facturas por cada entidad jurídica.</span><span class="sxs-lookup"><span data-stu-id="58a05-215">However, an organization might want to have invoice processing teams per legal entity.</span></span> <span data-ttu-id="58a05-216">En este caso, un equipo en una entidad jurídica debe tener acceso solo al trabajo de importación de facturas en su propia entidad jurídica.</span><span class="sxs-lookup"><span data-stu-id="58a05-216">In this case, a team in a legal entity should have access only to the invoice import job in its own legal entity.</span></span> <span data-ttu-id="58a05-217">Para cumplir este requisito, puede configurar el control de acceso basado en entidades jurídicas mediante el menú **Entidades jurídicas aplicables** que está dentro del trabajo de datos.</span><span class="sxs-lookup"><span data-stu-id="58a05-217">To meet this requirement, you can configure legal entity–based access control on the data jobs by using the **Applicable legal entities** menu inside the data job.</span></span> <span data-ttu-id="58a05-218">Una vez realizada la configuración, los usuarios podrán ver solo los trabajos que estén disponibles en la entidad jurídica en la que hayan iniciado sesión.</span><span class="sxs-lookup"><span data-stu-id="58a05-218">After the configuration is done, users can see only jobs that are available in the legal entity that they are currently signed in to.</span></span> <span data-ttu-id="58a05-219">Para ver trabajos de otra entidad jurídica, los usuarios deben cambiarse a esa entidad jurídica.</span><span class="sxs-lookup"><span data-stu-id="58a05-219">To see jobs from another legal entity, users must switch to that legal entity.</span></span>

<span data-ttu-id="58a05-220">Un trabajo se puede proteger según los roles, usuarios y entidades jurídicas al mismo tiempo.</span><span class="sxs-lookup"><span data-stu-id="58a05-220">A job can be secured by roles, users, and legal entity at the same time.</span></span>

## <a name="run-the-import-or-export-job"></a><span data-ttu-id="58a05-221">Ejecutar el trabajo de importación o exportación</span><span class="sxs-lookup"><span data-stu-id="58a05-221">Run the import or export job</span></span>
<span data-ttu-id="58a05-222">Puede ejecutar un trabajo una vez; para ello, seleccione el botón **Importar** o **Exportar** después de definir el trabajo.</span><span class="sxs-lookup"><span data-stu-id="58a05-222">You can run a job one time by selecting the **Import** or **Export** button after you define the job.</span></span> <span data-ttu-id="58a05-223">Para configurar un trabajo periódico, seleccione **Crear un trabajo de datos recurrente**.</span><span class="sxs-lookup"><span data-stu-id="58a05-223">To set up a recurring job, select **Create recurring data job**.</span></span>

> [!NOTE]
> <span data-ttu-id="58a05-224">Un trabajo de importación o exportación se puede ejecutar seleccionando el botón **Importar** o **Exportar**.</span><span class="sxs-lookup"><span data-stu-id="58a05-224">An import or an export job can be run by selecting the **Import** or **Export** button.</span></span> <span data-ttu-id="58a05-225">Esto programará un trabajo por lotes para que se ejecute solo una vez.</span><span class="sxs-lookup"><span data-stu-id="58a05-225">This will schedule a batch job to run only once.</span></span> <span data-ttu-id="58a05-226">Es posible que el trabajo no se ejecute inmediatamente si el servicio por lotes se está ralentizando debido a la carga del servicio por lotes.</span><span class="sxs-lookup"><span data-stu-id="58a05-226">The job may not execute immediately if batch service is throttling due to the load on the batch service.</span></span> <span data-ttu-id="58a05-227">Los trabajos también se pueden ejecutar sincrónicamente seleccionando **Importar ahora** o **Exportar ahora**.</span><span class="sxs-lookup"><span data-stu-id="58a05-227">The jobs can also be run synchronously by selecting **Import now** or **Export now**.</span></span> <span data-ttu-id="58a05-228">Esto inicia el trabajo inmediatamente y resulta útil si el lote no empiezan debido a limitaciones.</span><span class="sxs-lookup"><span data-stu-id="58a05-228">This starts the job immediately and is useful if the batch does not start due to throttling.</span></span> <span data-ttu-id="58a05-229">Los trabajos también se pueden programar para que se ejecuten en un momento posterior.</span><span class="sxs-lookup"><span data-stu-id="58a05-229">The jobs can also be scheduled to execute at a later time.</span></span> <span data-ttu-id="58a05-230">Esto se puede hacer eligiendo la opción **Ejecutar por lotes**.</span><span class="sxs-lookup"><span data-stu-id="58a05-230">This can be done by choosing the **Run in batch** option.</span></span> <span data-ttu-id="58a05-231">Los recursos por lote están sujetos a limitaciones, por lo que el trabajo por lotes podría no empezar inmediatamente.</span><span class="sxs-lookup"><span data-stu-id="58a05-231">Batch resources are subject to throttling, so the batch job might not start immediately.</span></span> <span data-ttu-id="58a05-232">El uso de un lote es la opción recomendada porque también ayudará con grandes volúmenes de datos que se deben importar o exportar.</span><span class="sxs-lookup"><span data-stu-id="58a05-232">Using a batch is the recommended option because it will also help with large volumes of data that need to be imported or exported.</span></span> <span data-ttu-id="58a05-233">Los trabajos por lotes se pueden programar para su ejecución en grupos por lotes específicos, que permiten más control desde una perspectiva de equilibrio de carga.</span><span class="sxs-lookup"><span data-stu-id="58a05-233">Batch jobs can be scheduled to run on a specific batch group, which allows more control from a load balancing perspective.</span></span>

## <a name="validate-that-the-job-ran-as-expected"></a><span data-ttu-id="58a05-234">Confirme que el trabajo funciona como es debido.</span><span class="sxs-lookup"><span data-stu-id="58a05-234">Validate that the job ran as expected</span></span>
<span data-ttu-id="58a05-235">Tiene disponible el historial de trabajos por si necesita solucionar algún problema o investigar algún trabajo de importación o exportación.</span><span class="sxs-lookup"><span data-stu-id="58a05-235">The job history is available for troubleshooting and investigation on both import and export jobs.</span></span> <span data-ttu-id="58a05-236">Las ejecuciones de trabajos del historial se organizan según intervalos de tiempo.</span><span class="sxs-lookup"><span data-stu-id="58a05-236">Historical job runs are organized by time ranges.</span></span>

![Rangos del historial de trabajos](./media/dixf-job-history.md.png)

<span data-ttu-id="58a05-238">Cada ejecución de trabajo proporciona los siguientes detalles:</span><span class="sxs-lookup"><span data-stu-id="58a05-238">Each job run provides the following details:</span></span>

- <span data-ttu-id="58a05-239">Detalles de ejecución</span><span class="sxs-lookup"><span data-stu-id="58a05-239">Execution details</span></span>
- <span data-ttu-id="58a05-240">Registro de ejecución</span><span class="sxs-lookup"><span data-stu-id="58a05-240">Execution log</span></span>

<span data-ttu-id="58a05-241">Los detalles de la ejecución muestran el estado de cada entidad de datos que procesó el trabajo.</span><span class="sxs-lookup"><span data-stu-id="58a05-241">Execution details show the state of each data entity that the job processed.</span></span> <span data-ttu-id="58a05-242">Por lo tanto, puede buscar rápidamente la siguiente información:</span><span class="sxs-lookup"><span data-stu-id="58a05-242">Therefore, you can quickly find the following information:</span></span>

- <span data-ttu-id="58a05-243">Qué entidades se procesaron.</span><span class="sxs-lookup"><span data-stu-id="58a05-243">Which entities were processed.</span></span>
- <span data-ttu-id="58a05-244">En una entidad, cuántos registros se procesaron correctamente y cuántos fallaron.</span><span class="sxs-lookup"><span data-stu-id="58a05-244">For an entity, how many records were successfully processed, and how many failed.</span></span>
- <span data-ttu-id="58a05-245">Los registros provisionales de cada entidad.</span><span class="sxs-lookup"><span data-stu-id="58a05-245">The staging records for each entity.</span></span>

<span data-ttu-id="58a05-246">Puede descargar los datos provisionales en un archivo dedicado a los trabajos de exportación, o bien descargarlo como un paquete de los trabajos de exportación e importación.</span><span class="sxs-lookup"><span data-stu-id="58a05-246">You can download the staging data in a file for export jobs, or you can download it as a package for import and export jobs.</span></span>

<span data-ttu-id="58a05-247">Desde la opción de detalles de ejecución, también puede abrir el registro de ejecución.</span><span class="sxs-lookup"><span data-stu-id="58a05-247">From the execution details, you can also open the execution log.</span></span>

## <a name="parallel-imports"></a><span data-ttu-id="58a05-248">Importaciones paralelas</span><span class="sxs-lookup"><span data-stu-id="58a05-248">Parallel imports</span></span>
<span data-ttu-id="58a05-249">Para acelerar la importación de datos, se puede habilitar el procesamiento paralelo de la importación de un archivo si la entidad admite importaciones paralelas.</span><span class="sxs-lookup"><span data-stu-id="58a05-249">To speed up the import of data, parallel processing of importing a file can be enabled if the entity supports parallel imports.</span></span> <span data-ttu-id="58a05-250">Para configurar la importación paralela para una entidad, se deben seguir los siguientes pasos.</span><span class="sxs-lookup"><span data-stu-id="58a05-250">To configure the parallel import for an entity, the following steps must be followed.</span></span>

1. <span data-ttu-id="58a05-251">Vaya a **Administración del sistema \> Áreas de trabajo \> Administración de datos**.</span><span class="sxs-lookup"><span data-stu-id="58a05-251">Go to **System administration \> Workspaces \> Data management**.</span></span>
2. <span data-ttu-id="58a05-252">En la sección **Importación y exportación**, seleccione el icono **Parámetros de marco** para abrir la página **Parámetros del marco de importación/exportación de datos**.</span><span class="sxs-lookup"><span data-stu-id="58a05-252">In the **Import / Export** section, select the **Framework parameters** tile to open the **Data import/export framework parameters** page.</span></span>
3. <span data-ttu-id="58a05-253">En la pestaña **Configuraciones de entidad**, seleccione **Configurar parámetros de ejecución de entidad** para abrir la página **Parámetros de ejecución de importación de entidad**.</span><span class="sxs-lookup"><span data-stu-id="58a05-253">On the **Entity settings** tab, select **Configure entity execution parameters** to open the **Entity import execution parameters** page.</span></span>
4. <span data-ttu-id="58a05-254">Establezca los siguientes campos para configurar la importación paralela para una entidad:</span><span class="sxs-lookup"><span data-stu-id="58a05-254">Set the following fields to configure parallel import for an entity:</span></span>

    - <span data-ttu-id="58a05-255">En el campo **Entidad**, seleccione la entidad.</span><span class="sxs-lookup"><span data-stu-id="58a05-255">In the **Entity** field, select the entity.</span></span>
    - <span data-ttu-id="58a05-256">En el campo **Importar recuento de registros de umbral**, ingrese el recuento de registros de umbral para la importación.</span><span class="sxs-lookup"><span data-stu-id="58a05-256">In the **Import threshold record count** field, enter the threshold record count for import.</span></span> <span data-ttu-id="58a05-257">Esto determina el recuento de registros que debe procesar un subproceso.</span><span class="sxs-lookup"><span data-stu-id="58a05-257">This determines the record count to be processed by a thread.</span></span> <span data-ttu-id="58a05-258">Si un archivo tiene 10K registros, un recuento de registros de 2500 con un recuento de tareas de 4 significará que cada subproceso procesará 2500 registros.</span><span class="sxs-lookup"><span data-stu-id="58a05-258">If a file has 10K records, a record count of 2500 with a task count of 4 will mean, each thread will process 2500 records.</span></span>
    - <span data-ttu-id="58a05-259">En el campo **Recuento de tareas de importación**, ingrese el recuento de tareas de importación.</span><span class="sxs-lookup"><span data-stu-id="58a05-259">In the **Import task count** field, enter the count of import tasks.</span></span> <span data-ttu-id="58a05-260">Este no debe exceder los subprocesos de lote máximos asignados para el procesamiento por lotes en **Administracion del sistema \>Configuración del servidor**.</span><span class="sxs-lookup"><span data-stu-id="58a05-260">This must not exceed the max batch threads allocated for batch processing in **System administration \>Server configuration**.</span></span>

## <a name="job-history-clean-up"></a><span data-ttu-id="58a05-261">Limpieza del historial de trabajos</span><span class="sxs-lookup"><span data-stu-id="58a05-261">Job history clean up</span></span> 
<span data-ttu-id="58a05-262">La funcionalidad de limpieza del historial de trabajo de la administración de datos debe usarse para programar una limpieza periódica del historial de ejecución.</span><span class="sxs-lookup"><span data-stu-id="58a05-262">The job history clean-up functionality in data management must be used to schedule a periodic cleanup of the execution history.</span></span> <span data-ttu-id="58a05-263">Esta funcionalidad reemplaza la funcionalidad anterior de limpieza de tablas de almacenamiento provisional, que ahora ha quedado en desuso.</span><span class="sxs-lookup"><span data-stu-id="58a05-263">This functionality replaces the previous staging table clean-up functionality, which is now deprecated.</span></span> <span data-ttu-id="58a05-264">Se limpiarán las tablas siguientes mediante el proceso de limpieza.</span><span class="sxs-lookup"><span data-stu-id="58a05-264">The following tables will be cleaned up by the clean-up process.</span></span>

-   <span data-ttu-id="58a05-265">Todas las tablas de almacenamiento provisional</span><span class="sxs-lookup"><span data-stu-id="58a05-265">All staging tables</span></span>

-   <span data-ttu-id="58a05-266">DMFSTAGINGVALIDATIONLOG</span><span class="sxs-lookup"><span data-stu-id="58a05-266">DMFSTAGINGVALIDATIONLOG</span></span>

-   <span data-ttu-id="58a05-267">DMFSTAGINGEXECUTIONERRORS</span><span class="sxs-lookup"><span data-stu-id="58a05-267">DMFSTAGINGEXECUTIONERRORS</span></span>

-   <span data-ttu-id="58a05-268">DMFSTAGINGLOGDETAIL</span><span class="sxs-lookup"><span data-stu-id="58a05-268">DMFSTAGINGLOGDETAIL</span></span>

-   <span data-ttu-id="58a05-269">DMFSTAGINGLOG</span><span class="sxs-lookup"><span data-stu-id="58a05-269">DMFSTAGINGLOG</span></span>

-   <span data-ttu-id="58a05-270">DMFDEFINITIONGROUPEXECUTIONHISTORY</span><span class="sxs-lookup"><span data-stu-id="58a05-270">DMFDEFINITIONGROUPEXECUTIONHISTORY</span></span>

-   <span data-ttu-id="58a05-271">DMFEXECUTION</span><span class="sxs-lookup"><span data-stu-id="58a05-271">DMFEXECUTION</span></span>

-   <span data-ttu-id="58a05-272">DMFDEFINITIONGROUPEXECUTION</span><span class="sxs-lookup"><span data-stu-id="58a05-272">DMFDEFINITIONGROUPEXECUTION</span></span>

<span data-ttu-id="58a05-273">La funcionalidad **Limpieza del historial de ejecución** debe estar habilitada en la administración de características y, después, se puede obtener acceso a ella desde **Administración de datos \> Limpieza del historial de trabajos**.</span><span class="sxs-lookup"><span data-stu-id="58a05-273">The **Execution history cleanup** feature must be enabled in feature management and then can be accessed from **Data management \> Job history cleanup**.</span></span>

### <a name="scheduling-parameters"></a><span data-ttu-id="58a05-274">Parámetros de programación</span><span class="sxs-lookup"><span data-stu-id="58a05-274">Scheduling parameters</span></span>

<span data-ttu-id="58a05-275">Al programar el proceso de limpieza hay que especificar los siguientes parámetros para definir los criterios de limpieza.</span><span class="sxs-lookup"><span data-stu-id="58a05-275">When scheduling the clean-up process, the following parameters must be specified to define the clean-up criteria.</span></span>

-   <span data-ttu-id="58a05-276">**Número de días del historial que se conservarán**: este valor se usa para controlar la cantidad de historial de ejecución que se va a conservar.</span><span class="sxs-lookup"><span data-stu-id="58a05-276">**Number of days to retain history** – This setting is used to control the amount of execution history to be preserved.</span></span> <span data-ttu-id="58a05-277">Se especifica como un número de días.</span><span class="sxs-lookup"><span data-stu-id="58a05-277">This is specified in number of days.</span></span> <span data-ttu-id="58a05-278">Cuando el trabajo de limpieza se programa como trabajo por lotes periódico, este valor representa un intervalo de tiempo que se mueve continuamente, manteniendo siempre intacto el número de días especificado del historial y eliminando el resto.</span><span class="sxs-lookup"><span data-stu-id="58a05-278">When the clean-up job is scheduled as a recurring batch job, this setting will act like a continuously moving window thereby, always leaving the history for the specified number of days intact while deleting the rest.</span></span> <span data-ttu-id="58a05-279">El valor predeterminado es de 7 días.</span><span class="sxs-lookup"><span data-stu-id="58a05-279">The default is 7 days.</span></span>

-   <span data-ttu-id="58a05-280">**Número total de horas necesarias para ejecutar el trabajo**: en función de la cantidad de historial que haya que limpiar, el tiempo total de ejecución del trabajo de limpieza puede variar de unos minutos a unas horas.</span><span class="sxs-lookup"><span data-stu-id="58a05-280">**Number of hours to execute the job** – Depending on the amount of history to be cleaned up, the total execution time for the clean-up job can vary from a few minutes to a few hours.</span></span> <span data-ttu-id="58a05-281">Este parámetro debe establecerse en la cantidad de horas que se ejecutará el trabajo.</span><span class="sxs-lookup"><span data-stu-id="58a05-281">This parameter must be set to the number of hours that the job will execute.</span></span> <span data-ttu-id="58a05-282">Después de que el trabajo de limpieza se haya ejecutado durante el número de horas especificado, el trabajo saldrá y reanudará la limpieza la próxima vez que se ejecute según el programa de repetición.</span><span class="sxs-lookup"><span data-stu-id="58a05-282">After the clean-up job has executed for the specified number of hours, the job will exit and will resume the clean up the next time it is run based on the recurrence schedule.</span></span>

    <span data-ttu-id="58a05-283">Con esta opción de configuración se puede especificar un tiempo de ejecución máximo estableciendo un límite máximo del número de horas que el trabajo debe ejecutarse.</span><span class="sxs-lookup"><span data-stu-id="58a05-283">A maximum execution time can be specified by setting a max limit on the number of hours the job must run using this setting.</span></span> <span data-ttu-id="58a05-284">La lógica de limpieza pasa por un identificador de ejecución de trabajo a la vez en una secuencia ordenada cronológicamente, donde el más antiguo es el primero para la limpieza del historial de ejecución relacionado.</span><span class="sxs-lookup"><span data-stu-id="58a05-284">The clean-up logic goes through one job execution ID at a time in a chronologically arranged sequence, with oldest being first for the cleanup of related execution history.</span></span> <span data-ttu-id="58a05-285">Dejará de seleccionar nuevos id. de ejecución para la limpieza cuando la duración restante de la ejecución esté dentro del último 10 % de la duración especificada.</span><span class="sxs-lookup"><span data-stu-id="58a05-285">It will stop picking up new execution ID’s for cleanup when the remaining execution duration is within the last 10% of the specified duration.</span></span> <span data-ttu-id="58a05-286">En algunos casos, se esperará que el trabajo de limpieza continúe más allá del tiempo máximo especificado.</span><span class="sxs-lookup"><span data-stu-id="58a05-286">In some cases, it will be expected that the clean-up job will continue beyond the specified max time.</span></span> <span data-ttu-id="58a05-287">Esto dependerá en gran parte del número de registros que se deben eliminar para el id. de ejecución actual que se inició antes de que se alcanzara el umbral del 10 %.</span><span class="sxs-lookup"><span data-stu-id="58a05-287">This will largely depend on the number of records to be deleted for the current execution ID that was started before the 10% threshold was reached.</span></span> <span data-ttu-id="58a05-288">La limpieza iniciada debe completarse para garantizar la integridad de los datos, lo que significa que la limpieza continuará aunque se supere el límite especificado.</span><span class="sxs-lookup"><span data-stu-id="58a05-288">The cleanup that was started must be completed to ensure data integrity, which means that cleanup will continue despite exceeding the specified limit.</span></span> <span data-ttu-id="58a05-289">Una vez completada, no se seleccionarán nuevos identificadores de ejecución y el trabajo de limpieza finalizará.</span><span class="sxs-lookup"><span data-stu-id="58a05-289">When this is complete, new execution ID’s are not picked up and the clean-up job completes.</span></span> <span data-ttu-id="58a05-290">El historial de ejecución restante que no se haya limpiado por falta de tiempo de ejecución se seleccionará la próxima vez que se programe el trabajo de limpieza.</span><span class="sxs-lookup"><span data-stu-id="58a05-290">The remaining execution history that was not cleaned up due to lack of enough execution time, will be picked up the next time the clean-up job is scheduled.</span></span> <span data-ttu-id="58a05-291">El valor predeterminado (y el valor mínimo) de esta configuración está establecido en 2 horas.</span><span class="sxs-lookup"><span data-stu-id="58a05-291">The default and minimum value for this setting is set to 2 hours.</span></span>

-   <span data-ttu-id="58a05-292">**Lote periódico**: el trabajo de limpieza se puede ejecutar como una ejecución manual puntual o se puede programar para una ejecución periódica por lotes.</span><span class="sxs-lookup"><span data-stu-id="58a05-292">**Recurring batch** – The clean-up job can be run as a one-time, manual execution, or it can be also scheduled for recurring execution in batch.</span></span> <span data-ttu-id="58a05-293">El lote se puede programar con la opción de configuración **Ejecutar en segundo plano**, que es la configuración de lote estándar.</span><span class="sxs-lookup"><span data-stu-id="58a05-293">The batch can be scheduled using the **Run in background** settings, which is the standard batch set up.</span></span>

> [!NOTE]
> <span data-ttu-id="58a05-294">Si los registros en las tablas de preparación no se limpian por completo, asegúrese de que el trabajo de limpieza esté programado para ejecutarse periódicamente.</span><span class="sxs-lookup"><span data-stu-id="58a05-294">If records in the staging tables are not cleaned up completely, ensure that the cleanup job is scheduled to run in recurrence.</span></span> <span data-ttu-id="58a05-295">Como se explicó anteriormente, en cualquier ejecución de limpieza, el trabajo solo limpiará tantas ID de ejecución como sea posible dentro de las horas máximas proporcionadas.</span><span class="sxs-lookup"><span data-stu-id="58a05-295">As explained above, in any clean up execution the job will only clean up as many execution ID's as is possible within the provided maximum hours.</span></span> <span data-ttu-id="58a05-296">Para continuar la limpieza de los registros de etapas restantes, el trabajo debe programarse para ejecutarse periódicamente.</span><span class="sxs-lookup"><span data-stu-id="58a05-296">In order to continue cleanup of any remaining staging records, the job must be scheduled to run periodically.</span></span>

## <a name="job-history-clean-up-and-archival-available-for-preview-in-platform-update-39-or-version-10015"></a><span data-ttu-id="58a05-297">Limpieza y archivo del historial de trabajos (disponible para vista previa en la Platform update 39 o versión 10.0.15)</span><span class="sxs-lookup"><span data-stu-id="58a05-297">Job history clean up and archival (available for preview in Platform update 39 or version 10.0.15)</span></span>
<span data-ttu-id="58a05-298">La función de limpieza y archivo del historial de trabajos reemplaza las versiones anteriores de la función de limpieza.</span><span class="sxs-lookup"><span data-stu-id="58a05-298">The job history clean up and archival functionality replaces the previous versions of the clean up functionality.</span></span> <span data-ttu-id="58a05-299">Esta sección explicará estas nuevas capacidades.</span><span class="sxs-lookup"><span data-stu-id="58a05-299">This section will explain these new capabilities.</span></span>

<span data-ttu-id="58a05-300">Uno de los principales cambios en la funcionalidad de limpieza es el uso del trabajo por lotes del sistema para limpiar el historial.</span><span class="sxs-lookup"><span data-stu-id="58a05-300">One of the main changes to the clean up functionality is the use of system batch job for cleaning up the history.</span></span> <span data-ttu-id="58a05-301">El uso del trabajo por lotes del sistema permite a las aplicaciones de Finance and Operations que el trabajo por lotes de limpieza se programe y se ejecute automáticamente tan pronto como el sistema esté listo.</span><span class="sxs-lookup"><span data-stu-id="58a05-301">The use of system batch job allows Finance and Operations apps to have the clean up batch job automatically scheduled and running as soon as the system is ready.</span></span> <span data-ttu-id="58a05-302">Ya no es necesario programar el trabajo por lotes manualmente.</span><span class="sxs-lookup"><span data-stu-id="58a05-302">It is no longer required to schedule the batch job manually.</span></span> <span data-ttu-id="58a05-303">En este modo de ejecución predeterminado, el trabajo por lotes se ejecutará cada hora a partir de las 12 de la noche y conservará el historial de ejecución de los 7 días más recientes.</span><span class="sxs-lookup"><span data-stu-id="58a05-303">In this default execution mode, the batch job will execute every hour starting at 12 midnight and will retain the execution history for the most recent 7 days.</span></span> <span data-ttu-id="58a05-304">El historial depurado se archiva para su futura recuperación.</span><span class="sxs-lookup"><span data-stu-id="58a05-304">The purged history is archived for future retrieval.</span></span>

> [!NOTE]
> <span data-ttu-id="58a05-305">Debido a que esta funcionalidad está en vista previa, el trabajo por lotes del sistema no eliminará ningún historial de ejecución hasta que se habilite a través del paquete piloto DMFEnableExecutionHistoryCleanupSystemJob.</span><span class="sxs-lookup"><span data-stu-id="58a05-305">Because this functionality is in preview, the system batch job will not delete any execution history until it is enabled via the flight DMFEnableExecutionHistoryCleanupSystemJob.</span></span> <span data-ttu-id="58a05-306">Cuando la función esté generalmente disponible en una versión futura, este paquete piloto no será necesario y el trabajo por lotes del sistema comenzará a purgarse y archivarse una vez que el sistema esté listo, según el programa definido como se explicó anteriormente.</span><span class="sxs-lookup"><span data-stu-id="58a05-306">When the feature is generally available in a future release, this flight will not be required and the system batch job will start to purge and archive after the system is ready, based on the defined schedule as explained above.</span></span> 

> [!NOTE]
> <span data-ttu-id="58a05-307">En una versión futura, las versiones anteriores de la función de limpieza se eliminarán de las aplicaciones Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="58a05-307">In a future release, the previous versions of the clean up functionality will be removed from Finance and Operations apps.</span></span>

<span data-ttu-id="58a05-308">El segundo cambio en el proceso de limpieza es el archivo del historial de ejecución depurado.</span><span class="sxs-lookup"><span data-stu-id="58a05-308">The second change in the clean up process is the archival of the purged execution history.</span></span> <span data-ttu-id="58a05-309">El trabajo de limpieza archivará los registros eliminados en el almacenamiento de blobs que DIXF usa para integraciones regulares.</span><span class="sxs-lookup"><span data-stu-id="58a05-309">The clean up job will archive the deleted records to the blob storage that DIXF uses for regular integrations.</span></span> <span data-ttu-id="58a05-310">El archivo archivado estará en el formato de paquete DIXF y estará disponible durante 7 días en el blob durante el cual se podrá descargar.</span><span class="sxs-lookup"><span data-stu-id="58a05-310">The archived file will be in the DIXF package format and will be available for 7 days in the blob during which time it can be downloaded.</span></span> <span data-ttu-id="58a05-311">La longevidad predeterminada de 7 días para el archivo archivado se puede cambiar a un máximo de 90 días en los parámetros.</span><span class="sxs-lookup"><span data-stu-id="58a05-311">The default longevity of 7 days for the archived file can be changed to a maximum of 90 days in the parameters.</span></span>

### <a name="changing-the-default-settings"></a><span data-ttu-id="58a05-312">Cambiar la configuración predeterminada</span><span class="sxs-lookup"><span data-stu-id="58a05-312">Changing the default settings</span></span>
<span data-ttu-id="58a05-313">Esta funcionalidad se encuentra actualmente en versión preliminar y debe activarse explícitamente habilitando el paquete piloto DMFEnableExecutionHistoryCleanupSystemJob.</span><span class="sxs-lookup"><span data-stu-id="58a05-313">This functionality is currently in preview and must be explicitly turned on by enabling the flight DMFEnableExecutionHistoryCleanupSystemJob.</span></span> <span data-ttu-id="58a05-314">La función de limpieza por etapas también debe estar activada en la gestión de funciones.</span><span class="sxs-lookup"><span data-stu-id="58a05-314">The staging clean up feature must also be turned on in feature management.</span></span>

<span data-ttu-id="58a05-315">Para cambiar la configuración predeterminada para la longevidad del archivo archivado, vaya al espacio de trabajo de administración de datos y seleccione **Limpieza del historial de trabajos**.</span><span class="sxs-lookup"><span data-stu-id="58a05-315">To change the default setting for the longevity of the archived file, go to the data management workspace and select **Job history cleanup**.</span></span> <span data-ttu-id="58a05-316">Establezca **Días para retener el paquete en blob** a un valor entre 7 y 90 (inclusive).</span><span class="sxs-lookup"><span data-stu-id="58a05-316">Set **Days to retain package in blob** to a value between 7 and 90 (inclusive).</span></span> <span data-ttu-id="58a05-317">Esto tendrá efecto en los archivos que se creen después de que se realizó este cambio.</span><span class="sxs-lookup"><span data-stu-id="58a05-317">This will take effect on the archives that are created after this change was made.</span></span>

### <a name="downloading-the-archived-package"></a><span data-ttu-id="58a05-318">Descarga del paquete archivado</span><span class="sxs-lookup"><span data-stu-id="58a05-318">Downloading the archived package</span></span>
<span data-ttu-id="58a05-319">Esta funcionalidad se encuentra actualmente en versión preliminar y debe activarse explícitamente habilitando el paquete piloto DMFEnableExecutionHistoryCleanupSystemJob.</span><span class="sxs-lookup"><span data-stu-id="58a05-319">This functionality is currently in preview and must be explicitly turned on by enabling the flight DMFEnableExecutionHistoryCleanupSystemJob.</span></span> <span data-ttu-id="58a05-320">La función de limpieza por etapas también debe estar activada en la gestión de funciones.</span><span class="sxs-lookup"><span data-stu-id="58a05-320">The staging clean up feature must also be turned on in feature management.</span></span>

<span data-ttu-id="58a05-321">Para descargar el historial de ejecución archivado, vaya al espacio de trabajo de gestión de datos y seleccione **Limpieza del historial de trabajos**.</span><span class="sxs-lookup"><span data-stu-id="58a05-321">To download the archived execution history, go to the data management workspace and select **Job history cleanup**.</span></span> <span data-ttu-id="58a05-322">Seleccione **Historial de copias de seguridad del paquete** para abrir el formulario de historial.</span><span class="sxs-lookup"><span data-stu-id="58a05-322">Select **Package backup history** to open the history form.</span></span> <span data-ttu-id="58a05-323">Este formulario muestra la lista de todos los paquetes archivados.</span><span class="sxs-lookup"><span data-stu-id="58a05-323">This form shows the list of all archived packages.</span></span> <span data-ttu-id="58a05-324">Se puede seleccionar y descargar un archivo seleccionando **Descargar paquete**.</span><span class="sxs-lookup"><span data-stu-id="58a05-324">An archive can be selected and downloaded by selecting **Download package**.</span></span> <span data-ttu-id="58a05-325">El paquete descargado tendrá el formato de paquete DIXF y contendrá los siguientes archivos:</span><span class="sxs-lookup"><span data-stu-id="58a05-325">The downloaded package will be in the DIXF package format and contain the following files:</span></span>

-   <span data-ttu-id="58a05-326">El archivo de la tabla de etapas de entidad</span><span class="sxs-lookup"><span data-stu-id="58a05-326">The entity staging table file</span></span>
-   <span data-ttu-id="58a05-327">DMFDEFINITIONGROUPEXECUTION</span><span class="sxs-lookup"><span data-stu-id="58a05-327">DMFDEFINITIONGROUPEXECUTION</span></span>
-   <span data-ttu-id="58a05-328">DMFDEFINITIONGROUPEXECUTIONHISTORY</span><span class="sxs-lookup"><span data-stu-id="58a05-328">DMFDEFINITIONGROUPEXECUTIONHISTORY</span></span>
-   <span data-ttu-id="58a05-329">DMFEXECUTION</span><span class="sxs-lookup"><span data-stu-id="58a05-329">DMFEXECUTION</span></span>
-   <span data-ttu-id="58a05-330">DMFSTAGINGEXECUTIONERRORS</span><span class="sxs-lookup"><span data-stu-id="58a05-330">DMFSTAGINGEXECUTIONERRORS</span></span>
-   <span data-ttu-id="58a05-331">DMFSTAGINGLOG</span><span class="sxs-lookup"><span data-stu-id="58a05-331">DMFSTAGINGLOG</span></span>
-   <span data-ttu-id="58a05-332">DMFSTAGINGLOGDETAILS</span><span class="sxs-lookup"><span data-stu-id="58a05-332">DMFSTAGINGLOGDETAILS</span></span>
-   <span data-ttu-id="58a05-333">DMFSTAGINGVALIDATIONLOG</span><span class="sxs-lookup"><span data-stu-id="58a05-333">DMFSTAGINGVALIDATIONLOG</span></span>



[!INCLUDE[footer-include](../../../includes/footer-banner.md)]
